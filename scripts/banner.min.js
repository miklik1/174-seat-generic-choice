!function(g){function f(e,t){try{if(e.sequence){var a=e.sequence[0<=t?"current":"previous"];if(a){var r=a.getLayer(e.key,5);if(r&&JSON.stringify(r.sources)===JSON.stringify(e.sources))return!0}}}catch(e){}return!1}function e(e){v.trackEventNativeDef("log","error","BANNER"),v.showFallback()}function h(e,t){t=e.getClickTag(t),v.clickThrough(t.url,t.vars)}var v=g.container,b=g.utils||g.utilities,k=function(a){return a?(a.type="ImageLayer",a.sources&&b.each(a.sources,function(e,t){e&&(a.sources[t]={width:e.width,height:e.height,url:e.preview_url||e.thumb_url}),a.params&&(a.params.polite=!1)}),a.excepts&&b.each(a.excepts,function(e,t){e&&(a.excepts[t]=k(e))}),a):null},S=function(e){var t,a,r,c,i,n,o=this;if(o.target&&e.type)switch(o.key){case"BN":switch(e.type){case"set":o.init();break;case"build":if(e.detail)switch(e.detail.key){case"SQ":return function(e,t,a){try{var r=b.getElementsByKey(e,t+"_0")[0];if(r)for(var c,i=1;i<a;i++)document.querySelector("[data-key="+t+"_"+i+"]")||((c=r.cloneNode(!0)).setAttribute("data-key",t+"_"+i),e.appendChild(c))}catch(e){}}(e.detail.parent.getTarget(e.detail.key),e.detail.key,e.detail.data.frames.length),void("debug"===o.root.props.mode.get()&&A.jump&&(e.detail.data.params.play.from=A.frame,b.isEmptyString(A.scope[1])||(e.detail.data.params.pause.after.time=0)));case"BG_VID_0":try{var s=e.detail;s.parent.parent.getLayer("BG_IMG_0",1)||s.parent.parent.getLayer("BG_IMG").addLayer(g.builder.layers.ImageLayer,"BG_IMG_0",k(b.cloneObject(s.data)),S)}catch(e){}return}return;case"init":var d="mode_"+o.props.mode.get();o.addAttr(d,{name:d,global:!0}),"debug"===o.props.mode.get()&&(o.events.mouseover_custom=b.addEventSimple(o.target,"mouseover",function(){o.removeAttr(d)}),o.events.mouseout_custom=b.addEventSimple(o.target,"mouseout",function(){o.addAttr(d,{name:d,global:!0})})),o.load();break;case"load":o.execute("init",!1),!0!==o.inanimate&&-1===["capture","capture-image","capture-gif"].indexOf(o.props.mode.get())||o.addAttr("anim_no"),-1!==["capture","capture-image"].indexOf(o.props.mode.get())&&o.stop(),o.addAttr("ready");break;case"resize":"RxR"===v.NAME&&(o.removeAttr("ready"),o.execute("destroy",!1),o.execute("init",!1),o.addAttr("ready"));break;case"interaction":o.removeAttr("anim_no_dur");break;case"stop":o.interacted||"debug"===o.props.mode.get()||o.addAttr("anim_no_dur"),o.execute("stop",!1,["debug"===o.props.mode.get()||o.interacted]),-1!==["capture","capture-image"].indexOf(o.props.mode.get())&&o.capture({delay:1e3})}break;case"SQ":switch(e.type){case"init":o.playable()&&o.play();break;case"pause":o.root.stop();break;case"change":o.load(),-1!==["capture-video","capture-gif"].indexOf(o.root.props.mode.get())&&1e3<=o.current.params.duration&&o.root.capture({delay:o.current.params.duration/2,duration:o.current.params.duration});try{o.target.style.left=-(o.current.index*o.width())+"px"}catch(e){}}break;default:switch(e.type){case"set":o.addAttr("hidden");break;case"init":switch(o.loadable()&&o.load(),o.key){case"SQ_0":case"SQ_1":case"SQ_2":case"SQ_3":case"SQ_4":case"SQ_5":try{o.target.style.left=o.index*o.width()+"px"}catch(e){}break;case"CL":var l=o.root.getLayer("SQ",2);l?o.gestures.gesture_custom=new b.GestureListener(o.target,function(e,t,a){var r=-((a.pageX||a.clientX)-(t.pageX||t.clientX));switch((l.current.index>=l.frames.length-1&&r<0||l.current.index<=0&&0<r)&&(r=0),e){case"click":h(o,l.current.clicktag.url),l.pause();break;case"start":l.pause(),l.addAttr("move");break;case"move":1<l.frames.length&&(l.target.style.left=-(l.current.index*l.width())+r+"px");break;case"stop":if(l.removeAttr("move"),1<l.frames.length)if(r<-50)l.changeNext();else if(50<r)l.changePrevious();else try{l.target.style.left=-(l.current.index*o.width())+"px"}catch(e){}}}):o.events.click_custom=b.addEventSimple(document.body,"click",function(){h(o)})}break;case"parsed":if("MS"===o.key)try{var _=o.macros.local;_.MS_align_auto_h=_.MS_left<-50?"left":50<_.MS_left?"right":"center",_.MS_align_auto_v=_.MS_top<-50?"top":50<_.MS_top?"bottom":"middle"}catch(e){}break;case"enabled":if(o.removeAttr("disabled"),"FG_IMG"===o.key)try{o.layers[0]||o.parent.parent.addAttr(o.key.split("_")[0]+"_empty",{name:o.key.split("_")[0]+"_empty",global:!0})}catch(e){}break;case"load":case"enter":if(o.available()){"debug"===o.root.props.mode.get()&&function(e){try{var t,a=[["MS","TL","DS","PR","BT"]],r=[];for(t in a)-1!==a[t].indexOf(e.key)&&(r=r.concat(a[t]));if(e.key===A.scope[1]||0<r.length&&-1!==r.indexOf(A.scope[1])){if(!e.sequence)return!0;if(e.sequence.current.index===A.frame)return!0}}catch(e){}return!1}(o)&&o.addAttr("debug"),o.addAttr("active"),o.removeAttr("hidden");var u=f(o,-1);switch(b.each(o.getAnims(),function(e,t){var a=e.target,r=e.name,c=a.events.anim_end;c&&b.removeEventSimple(c.target,c.type,c.callback),u&&e.skip?a.addAttr(r+"_skip"):a.removeAttr(r+"_skip"),a.removeAttr(r+"_out"),a.addAttr(r+"_in")}),o.key){case"LG":try{o.root.getLayer("WR",1).addAttr("LG_type_"+o.getMacros().LG_type)}catch(e){}break;case"BG_VID_0":try{o.wrapper.getLayer("BG_IMG_0",1).addAttr("BG_anim_fade_out")}catch(e){}break;case"SQ_0":case"SQ_1":case"SQ_2":case"SQ_3":case"SQ_4":case"SQ_5":try{var p=o.root.getLayer("LG",2),m="default"===o.macros.local.SQ_theme?o.root.getLayer("CV").macros.local.CV_theme:o.macros.local.SQ_theme;b.arrayContains(["_theme_white"],"_theme_"+m)?(p.removeAttr("LG_color_text_white_icon_yellow"),p.addAttr("LG_color_text_blue_icon_yellow")):(b.arrayContains(["_theme_black","_theme_blue"],"_theme_"+m)?p.addAttr("LG_color_text_white_icon_yellow"):p.removeAttr("LG_color_text_white_icon_yellow"),p.removeAttr("LG_color_text_blue_icon_yellow"))}catch(e){}}}break;case"leave":var y=f(o,1);b.each(o.getAnims(),function(e,t){function a(){i&&b.removeEventSimple(i.target,i.type,i.callback)}var r=e.target,c=e.name,i=r.events.anim_end;a(),y&&e.skip?r.addAttr(c+"_skip"):r.removeAttr(c+"_skip"),r.removeAttr(c+"_in"),r.addAttr(c+"_out"),"FG_IMG_0"===o.key||(r.events.anim_end=b.addEventSimple(r.target,function(){var e,t=document.createElement("div"),a={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in a)if(void 0!==t.style[e])return a[e]}(),function(){a()}))}),o.removeAttr("active"),o.removeAttr("debug");break;case"empty":o.addAttr("empty");try{switch(o.key){case"MS_TXT_0":t="TL",a="MS";break;case"MS_TXT_1":t="DS",a="MS";break;case"MS_TXT_2":t="PR",a="MS";break;case"MS_TXT_3":t="BT",a="MS"}a&&(r=o.getLayer(a,-3),a&&r.parent.addAttr(t+"_empty",{name:t+"_empty",global:!0}))}catch(e){}break;case"disabled":o.addAttr("disabled");try{switch(o.key){case"LS":case"FG":case"BG":case"MS":case"TL":case"DS":case"PR":case"BT":c=i=(n=o).key;break;case"TL_TXT_0":case"DS_TXT_0":case"PR_TXT_0":case"BT_TXT_0":n=o.getLayer(i,-3),c=i=o.key.split("_")[0]}i&&i&&n.parent.addAttr(c+"_disabled",{name:c+"_disabled",global:!0})}catch(e){}}}},A={};v.ready(function(a){b.addEventSimple(window,"error",e),b.addEventSimple(document.body,"error",e),A=a.editor,b.each(["BN"],function(e,t){window[e]=new g.builder.layers.BannerLayer(e,a.banner,S)})})}(tactic);