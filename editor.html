
<!-- DATA PATCH 13.04.2021 -->
<!--<data ng-init="$data.banner.layers.CV.layers.WR.layers.SQ.props.tension.options = [[0,'p'],[2.5,'l']]"></data>-->
<!--<data ng-init="$data.banner.layers.CV.props.tension.options = [[0,'t2'],[0.5,'t1'],[0.7,'e0'],[2,'w1'],[5,'w2']]"></data>-->
<!-- / DATA PATCH 13.04.2021 -->

<div class="v3">

	<block-menu class="tabs">
		<a ng-click="$data.editor.scope[0] = 0;" ng-class="{selected: ($data.editor.scope[0] == 0), darker: ($data.editor.scope[0] == 0)}">Elements</a><a ng-click="$data.editor.scope[0] = 1;" ng-class="{selected: ($data.editor.scope[0] == 1)}">Settings</a>
	</block-menu>

	<!-- ELEMENTS -->
	<block ng-if="$data.editor.scope[0] == 0">

		<!-- COMMON ELEMENTS -->
		<block-group>

			<block-field title="Common Elements" class="label"></block-field>

			<block-toggle title="Background" class="toggle" ng-class="{selected: ($data.editor.scope[1].indexOf('BG') != -1)}"
						  ng-click="$data.editor.scope[1] = (($data.editor.scope[1] == 'BG') ? '' : 'BG')"></block-toggle>
			<block-group ng-if="($data.editor.scope[1].indexOf('BG') != -1)">

				<data ng-if="$frame = $data.banner.layers.CV.layers.WR"></data>

				<!-- TABS -->
				<data ng-init="$tab_setup = [['image', 'video', 'anim', 'appear'], 'image', ['appear'], 'appear']"></data>
				<!-- / TABS -->

				<!-- STATE VALIDATION -->
				<data ng-if="$nav[$data.editor.scope[0]][0] = 'BG'"></data>
				<data ng-if="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]] == undefined" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]] = [$tab_setup[0], $tab_setup[1], {}]"></data>
				<!-- / STATE VALIDATION -->

				<!-- TAB VALIDATION -->
				<data ng-if="$frame.layers[$nav[$data.editor.scope[0]][0]].enabled == false" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]][0] = $tab_setup[2]"></data>
				<data ng-if="$frame.layers[$nav[$data.editor.scope[0]][0]].enabled == false" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]][1] = $tab_setup[3]"></data>
				<data ng-if="$frame.layers[$nav[$data.editor.scope[0]][0]].enabled != false" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]][0] = $tab_setup[0]"></data>
				<!-- TAB VALIDATION -->

				<!-- SHORTCUTS -->
				<data ng-if="$scope = $nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]]"></data>
				<data ng-if="$wrapper_key = $nav[$data.editor.scope[0]][0]"></data>
				<data ng-if="$wrapper = $frame.layers[$nav[$data.editor.scope[0]][0]]"></data>
				<!-- / SHORTCUTS -->

				<block-menu class="tabs">
					<a ng-repeat="$tab in $tab_setup[0]" ng-click="$scope[1] = $tab" ng-class="{selected: ($scope[1] == $tab), disabled: (_.indexOf($scope[0], $tab) == -1)}">{{ ::  $dict['label_' + $tab] }}</a>
				</block-menu>

				<div ng-if="($scope[1] == 'image')">

					<!-- STATE VALIDATION -->
					<data ng-if="$nav[$data.editor.scope[0]][2] = 'IMG'"></data>
					<data ng-if="$nav[$data.editor.scope[0]][3] = 0"></data>
					<!-- / STATE VALIDATION -->

					<!-- SHORTCUTS -->
					<data ng-if="$holder_key = $nav[$data.editor.scope[0]][2]"></data>
					<data ng-if="$holder = $wrapper.layers[$wrapper_key + '_' + $holder_key]"></data>
					<data ng-if="$target_key = $nav[$data.editor.scope[0]][3]"></data>
					<data ng-if="$target = $wrapper.layers[$wrapper_key + '_' + $holder_key].layers[$target_key]"></data>
					<!-- / SHORTCUTS -->

					<!-- SHORTCUTS -->
					<data ng-if="$exceptions = $wrapper.layers[$wrapper_key + '_' + $holder_key].layers[$target_key].excepts"></data>
					<data ng-if="$exception_preset = $wrapper.layers[$wrapper_key + '_' + $holder_key].layers[$target_key].excepts.preset"></data>
					<!-- / SHORTCUTS -->

					<!-- VARIATIONS -->
					<data ng-init="$variation_setup = [_.concat(['default'], $variations[$wrapper_key + '_orient'], $variations['CV_tens']), 'default', _.concat(['default'])]"></data>
					<!-- VARIATIONS -->

					<!-- VARIATION PICKER -->
					<block-group ng-class="{disabled: (_.size($scope[2][$scope[1]][0]) <= 1)}">

						<block-field title="{{ :: $dict.label_variation }} @" class="label">

							<!-- VARIATION VALIDATION -->
							<data ng-if="$scope[2][$scope[1]] == undefined" ng-init="$scope[2][$scope[1]] = [$variation_setup[0], $variation_setup[1]]"></data>
							<data ng-if="$holder && $holder.layers[$target_key] != undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[0]"></data>
							<data ng-if="$holder && $holder.layers[$target_key] == undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[2]"></data>
							<!-- VARIATION VALIDATION -->

							<!-- CLONE PRESET AS NEW EXCEPTION -->
							<data ng-if="$scope[2][$scope[1]][1] != 'default' && $exceptions && $exception_preset && $exceptions[$scope[2][$scope[1]][1]] == undefined" ng-init="$exceptions[$scope[2][$scope[1]][1]] = _.cloneDeep($exception_preset)"></data>
							<!-- / CLONE PRESET AS NEW EXCEPTION -->

							<dropdown-select model="$scope[2][$scope[1]][1]" ng-class="{'col-2-3' : ($exceptions && $scope[2][$scope[1]][1] != 'default')}">
								<optgroup label="{{ :: $dict.label_default }}">
									<option value="default">{{ :: $dict.label_default }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_element_orientation }}" ng-if="$variations[$wrapper_key + '_orient']">
									<option ng-repeat="$variation in $variations[$wrapper_key + '_orient']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_creative_tension }}" ng-if="$variations['CV_tens']">
									<option ng-repeat="$variation in $variations['CV_tens']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_creative_scale }}" ng-if="$variations['CV_scale']">
									<option ng-repeat="$variation in $variations['CV_scale']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_creative_size }}" ng-if="$variations['CV_size']">
									<option ng-repeat="$variation in $variations['CV_size']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] ? $dict['label_' + $variation] : _.replace($variation, 'CV_size_', '') }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
							</dropdown-select>

							<div ng-if="$exceptions && $scope[2][$scope[1]][1] != 'default'">
								<toggle-button model="$exceptions[$scope[2][$scope[1]][1]].enabled" on="On" off="Off"></toggle-button>
							</div>

							<block-info ng-if="(_.size($variation_setup[0]) <= 1)">
								<p>
									<small><q>
										{{ :: $dict.hint_variation_not_available }}
									</q></small>
								</p>
							</block-info>

							<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
								<p>
									<small><q>
										{{ :: $dict.hint_variation_default_required }} {{ :: $dict.hint_variation_default_is }}
									</q></small>
								</p>
							</block-info>

							<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
								<p>
									<small>
										<q>{{ :: $dict.hint_variations_active }}</q>
										<span ng-repeat="($key, $exceptions) in $exceptions">
											<q ng-if="$exceptions.enabled && $exceptions.data"><a ng-click="$scope[2][$scope[1]][1] = $key">{{ $dict['label_' + $key] ? $dict['label_' + $key] : _.replace($key, 'CV_size_', '') }}</a>, </q>
										</span>
										<q><a ng-click="$scope[2][$scope[1]][1] = 'default'">{{ :: $dict.label_default }}</a></q>
									</small>
								</p>
							</block-info>

							<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
								<p ng-if="$relations[$scope[2][$scope[1]][1]]">
									<small>
										<q>
											{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_apply_asterisks }}
										</q>
									</small>
									<small>
										<q ng-repeat="$relation in $relations[$scope[2][$scope[1]][1]]"><a ng-click="$editor.changePreviewSize($relation)">{{ :: $relation }}</a>, </q>
										<q><a ng-click="$editor.changePreviewSize('RxR')">RxR</a></q>
									</small>
								</p>
								<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] == 'default'">
									<small>
										<q>
											{{ :: $dict.hint_variation_default_is }}
										</q>
									</small>
								</p>
								<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] != 'default'">
									<small>
										<q>
												{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_dynamic }}
										</q>
									</small>
								</p>
							</block-info>

						</block-field>

					</block-group>
					<!-- / VARIATION PICKER -->

					<!-- UPDATE DEFAULT PRESET VALUES -->
					<data ng-repeat="$item in [$wrapper_key + '_place_type']" ng-if="$scope[2][$scope[1]][1] != 'default' && $exception_preset.data[$item].value != $wrapper.macros[$item].value" ng-init="$exception_preset.data[$item].value = $wrapper.macros[$item].value"></data>
					<!-- / UPDATE DEFAULT PRESET VALUES -->

					<!-- ELEMENT SOURCE -->
					<block-group>

						<block-field title="Image Source" ng-if="$scope[2][$scope[1]][1] == 'default'">
							<image-picker model="$holder.layers[0]"
										  settings="{defaults: $holder.layers[1], cropping: { ratios: ($ratios[$wrapper_key + '_' + $wrapper.macros[$wrapper_key + '_place_type'].value]) } }"
										  no-crop="false" no-align="true" no-cover="true" no-load="false" no-excepts="false" no-excepts-orientation="true"></image-picker>
						</block-field>

						<block-field title="Image Source *" ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">
							<image-picker model="$exceptions['BG_orient_p'].data" ng-if="$scope[2][$scope[1]][1] == 'BG_orient_p'"
										  settings="{defaults: $holder.layers[1], cropping: { ratios: ($ratios[$wrapper_key + '_' + $wrapper.macros[$wrapper_key + '_place_type'].value]) } }"
										  no-crop="false" no-align="true" no-cover="true" no-load="false" no-excepts="false" no-excepts-orientation="true"></image-picker>
							<image-picker model="$exceptions['BG_orient_s'].data" ng-if="$scope[2][$scope[1]][1] == 'BG_orient_s'"
										  settings="{defaults: $holder.layers[1], cropping: { ratios: ($ratios[$wrapper_key + '_' + $wrapper.macros[$wrapper_key + '_place_type'].value]) } }"
										  no-crop="false" no-align="true" no-cover="true" no-load="false" no-excepts="false" no-excepts-orientation="true"></image-picker>
							<image-picker model="$exceptions['BG_orient_l'].data" ng-if="$scope[2][$scope[1]][1] == 'BG_orient_l'"
										  settings="{defaults: $holder.layers[1], cropping: { ratios: ($ratios[$wrapper_key + '_' + $wrapper.macros[$wrapper_key + '_place_type'].value]) } }"
										  no-crop="false" no-align="true" no-cover="true" no-load="false" no-excepts="false" no-excepts-orientation="true"></image-picker>
							<image-picker model="$exceptions['CV_tens_t2'].data" ng-if="$scope[2][$scope[1]][1] == 'CV_tens_t2'"
										  settings="{defaults: $holder.layers[1], cropping: { ratios: ($ratios[$wrapper_key + '_' + $wrapper.macros[$wrapper_key + '_place_type'].value]) } }"
										  no-crop="false" no-align="true" no-cover="true" no-load="false" no-excepts="false" no-excepts-orientation="true"></image-picker>
							<image-picker model="$exceptions['CV_tens_t1'].data" ng-if="$scope[2][$scope[1]][1] == 'CV_tens_t1'"
										  settings="{defaults: $holder.layers[1], cropping: { ratios: ($ratios[$wrapper_key + '_' + $wrapper.macros[$wrapper_key + '_place_type'].value]) } }"
										  no-crop="false" no-align="true" no-cover="true" no-load="false" no-excepts="false" no-excepts-orientation="true"></image-picker>
							<image-picker model="$exceptions['CV_tens_e0'].data" ng-if="$scope[2][$scope[1]][1] == 'CV_tens_e0'"
										  settings="{defaults: $holder.layers[1], cropping: { ratios: ($ratios[$wrapper_key + '_' + $wrapper.macros[$wrapper_key + '_place_type'].value]) } }"
										  no-crop="false" no-align="true" no-cover="true" no-load="false" no-excepts="false" no-excepts-orientation="true"></image-picker>
							<image-picker model="$exceptions['CV_tens_w1'].data" ng-if="$scope[2][$scope[1]][1] == 'CV_tens_w1'"
										  settings="{defaults: $holder.layers[1], cropping: { ratios: ($ratios[$wrapper_key + '_' + $wrapper.macros[$wrapper_key + '_place_type'].value]) } }"
										  no-crop="false" no-align="true" no-cover="true" no-load="false" no-excepts="false" no-excepts-orientation="true"></image-picker>
							<image-picker model="$exceptions['CV_tens_w2'].data" ng-if="$scope[2][$scope[1]][1] == 'CV_tens_w2'"
										  settings="{defaults: $holder.layers[1], cropping: { ratios: ($ratios[$wrapper_key + '_' + $wrapper.macros[$wrapper_key + '_place_type'].value]) } }"
										  no-crop="false" no-align="true" no-cover="true" no-load="false" no-excepts="false" no-excepts-orientation="true"></image-picker>
							<block-info ng-class="{disabled: ($exceptions[$scope[2][$scope[1]][1]].data)}">
								<p>
									<small><q><a ng-click="$exceptions[$scope[2][$scope[1]][1]].data = _.omit(_.cloneDeep($target), ['excepts', 'preset'])">Clone</a> asset source from default variation. {{ $dict.hint_asset_area }}</q></small>
								</p>
								<!--<p>
									<small><q>Element placement: <a ng-click="$holder.macros[$wrapper_key + '_place_type'] = 'fit'" ng-class="">fit</a> or <a ng-click="$holder.macros[$wrapper_key + '_place_type'] = 'fill'">fill</a>.</q></small>
								</p>-->
							</block-info>
						</block-field>

					</block-group>
					<!-- / ELEMENT SOURCE -->

				</div>

				<div ng-if="($scope[1] == 'video')">

					<!-- STATE VALIDATION -->
					<data ng-if="$nav[$data.editor.scope[0]][2] = 'VID'"></data>
					<data ng-if="$nav[$data.editor.scope[0]][3] = 0"></data>
					<!-- / STATE VALIDATION -->

					<!-- SHORTCUTS -->
					<data ng-if="$holder_key = $nav[$data.editor.scope[0]][2]"></data>
					<data ng-if="$holder = $wrapper.layers[$wrapper_key + '_' + $holder_key]"></data>
					<data ng-if="$target_key = $nav[$data.editor.scope[0]][3]"></data>
					<data ng-if="$target = $wrapper.layers[$wrapper_key + '_' + $holder_key].layers[$target_key]"></data>
					<!-- / SHORTCUTS -->

					<!-- SHORTCUTS -->
					<data ng-if="$exceptions = $wrapper.layers[$wrapper_key + '_' + $holder_key].layers[$target_key].excepts"></data>
					<data ng-if="$exception_preset = $wrapper.layers[$wrapper_key + '_' + $holder_key].layers[$target_key].excepts.preset"></data>
					<!-- / SHORTCUTS -->

					<!-- VARIATIONS -->
					<data ng-init="$variation_setup = [_.concat(['default'], $variations[$wrapper_key + '_orient'], $variations['CV_tens']), 'default', _.concat(['default'])]"></data>
					<!-- VARIATIONS -->

					<!-- VARIATION PICKER -->
					<block-group ng-class="{disabled: (_.size($scope[2][$scope[1]][0]) <= 1)}">

						<block-field title="{{ :: $dict.label_variation }} @" class="label">

							<!-- VARIATION VALIDATION -->
							<data ng-if="$scope[2][$scope[1]] == undefined" ng-init="$scope[2][$scope[1]] = [$variation_setup[0], $variation_setup[1]]"></data>
							<data ng-if="$holder && $holder.layers[$target_key] != undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[0]"></data>
							<data ng-if="$holder && $holder.layers[$target_key] == undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[2]"></data>
							<!-- VARIATION VALIDATION -->

							<!-- CLONE PRESET AS NEW EXCEPTION -->
							<data ng-if="$scope[2][$scope[1]][1] != 'default' && $exceptions && $exception_preset && $exceptions[$scope[2][$scope[1]][1]] == undefined" ng-init="$exceptions[$scope[2][$scope[1]][1]] = _.cloneDeep($exception_preset)"></data>
							<!-- / CLONE PRESET AS NEW EXCEPTION -->

							<dropdown-select model="$scope[2][$scope[1]][1]" ng-class="{'col-2-3' : ($exceptions && $scope[2][$scope[1]][1] != 'default')}">
								<optgroup label="{{ :: $dict.label_default }}">
									<option value="default">{{ :: $dict.label_default }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_element_orientation }}" ng-if="$variations[$wrapper_key + '_orient']">
									<option ng-repeat="$variation in $variations[$wrapper_key + '_orient']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_creative_tension }}" ng-if="$variations['CV_tens']">
									<option ng-repeat="$variation in $variations['CV_tens']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_creative_scale }}" ng-if="$variations['CV_scale']">
									<option ng-repeat="$variation in $variations['CV_scale']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_creative_size }}" ng-if="$variations['CV_size']">
									<option ng-repeat="$variation in $variations['CV_size']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] ? $dict['label_' + $variation] : _.replace($variation, 'CV_size_', '') }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
							</dropdown-select>

							<div ng-if="$exceptions && $scope[2][$scope[1]][1] != 'default'">
								<toggle-button model="$exceptions[$scope[2][$scope[1]][1]].enabled" on="On" off="Off"></toggle-button>
							</div>

							<block-info ng-if="(_.size($variation_setup[0]) <= 1)">
								<p>
									<small><q>
										{{ :: $dict.hint_variation_not_available }}
									</q></small>
								</p>
							</block-info>

							<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
								<p>
									<small><q>
										{{ :: $dict.hint_variation_default_required }} {{ :: $dict.hint_variation_default_is }}
									</q></small>
								</p>
							</block-info>

							<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
								<p>
									<small>
										<q>{{ :: $dict.hint_variations_active }}</q>
										<span ng-repeat="($key, $exceptions) in $exceptions">
											<q ng-if="$exceptions.enabled && $exceptions.data"><a ng-click="$scope[2][$scope[1]][1] = $key">{{ $dict['label_' + $key] ? $dict['label_' + $key] : _.replace($key, 'CV_size_', '') }}</a>, </q>
										</span>
										<q><a ng-click="$scope[2][$scope[1]][1] = 'default'">{{ :: $dict.label_default }}</a></q>
									</small>
								</p>
							</block-info>

							<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
								<p ng-if="$relations[$scope[2][$scope[1]][1]]">
									<small>
										<q>
											{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_apply_asterisks }}
										</q>
									</small>
									<small>
										<q ng-repeat="$relation in $relations[$scope[2][$scope[1]][1]]"><a ng-click="$editor.changePreviewSize($relation)">{{ :: $relation }}</a>, </q>
										<q><a ng-click="$editor.changePreviewSize('RxR')">RxR</a></q>
									</small>
								</p>
								<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] == 'default'">
									<small>
										<q>
											{{ :: $dict.hint_variation_default_is }}
										</q>
									</small>
								</p>
								<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] != 'default'">
									<small>
										<q>
											{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_dynamic }}
										</q>
									</small>
								</p>
							</block-info>

						</block-field>

					</block-group>
					<!-- / VARIATION PICKER -->

					<!-- UPDATE DEFAULT PRESET VALUES -->
					<data ng-repeat="$item in [$wrapper_key + '_place_type']" ng-if="$scope[2][$scope[1]][1] != 'default' && $exception_preset.data[$item].value != $wrapper.macros[$item].value" ng-init="$exception_preset.data[$item].value = $wrapper.macros[$item].value"></data>
					<!-- / UPDATE DEFAULT PRESET VALUES -->

					<!-- ELEMENT SOURCE -->
					<block-group>

						<block-field title="Video Source" ng-if="$scope[2][$scope[1]][1] == 'default'">
							<video-picker model="$holder.layers[0]"
										  settings="{defaults: $holder.layers[1], cropping: { ratios: ($ratios[$wrapper_key + '_' + $wrapper.macros[$wrapper_key + '_place_type'].value]) } }"
										  no-controls="true" no-mute="true" no-loop="false" no-autoplay="true"
										  no-crop="false" no-align="true" no-cover="true" no-load="false" no-excepts="!($frame.layers.BG.macros[$wrapper_key + '_place_type'].value == 'fill')" no-excepts-orientation="true"></video-picker>

							<block-info ng-if="$data.banner.props.mode.name == 'debug'">
								<p>
									<small><q>Please note that video won't start playing automatically while creative is in debug preview mode, switch to <a ng-click="$data.banner.props.mode.name = 'live'">live</a>.</q></small>
								</p>
							</block-info>
						</block-field>

						<block-field title="Video Source *" ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">
							<video-picker model="$exceptions['BG_orient_p'].data" ng-if="$scope[2][$scope[1]][1] == 'BG_orient_p'"
										  settings="{defaults: $holder.layers[1], cropping: { ratios: ($ratios[$wrapper_key + '_' + $wrapper.macros[$wrapper_key + '_place_type'].value]) } }"
										  no-controls="true" no-mute="true" no-loop="false" no-autoplay="true"
										  no-crop="false" no-align="true" no-cover="true" no-load="false" no-excepts="!($frame.layers.BG.macros[$wrapper_key + '_place_type'].value == 'fill')" no-excepts-orientation="true"></video-picker>
							<video-picker model="$exceptions['BG_orient_s'].data" ng-if="$scope[2][$scope[1]][1] == 'BG_orient_s'"
										  settings="{defaults: $holder.layers[1], cropping: { ratios: ($ratios[$wrapper_key + '_' + $wrapper.macros[$wrapper_key + '_place_type'].value]) } }"
										  no-controls="true" no-mute="true" no-loop="false" no-autoplay="true"
										  no-crop="false" no-align="true" no-cover="true" no-load="false" no-excepts="!($frame.layers.BG.macros[$wrapper_key + '_place_type'].value == 'fill')" no-excepts-orientation="true"></video-picker>
							<video-picker model="$exceptions['BG_orient_l'].data" ng-if="$scope[2][$scope[1]][1] == 'BG_orient_l'"
										  settings="{defaults: $holder.layers[1], cropping: { ratios: ($ratios[$wrapper_key + '_' + $wrapper.macros[$wrapper_key + '_place_type'].value]) } }"
										  no-controls="true" no-mute="true" no-loop="false" no-autoplay="true"
										  no-crop="false" no-align="true" no-cover="true" no-load="false" no-excepts="!($frame.layers.BG.macros[$wrapper_key + '_place_type'].value == 'fill')" no-excepts-orientation="true"></video-picker>
							<video-picker model="$exceptions['CV_tens_t2'].data" ng-if="$scope[2][$scope[1]][1] == 'CV_tens_t2'"
										  settings="{defaults: $holder.layers[1], cropping: { ratios: ($ratios[$wrapper_key + '_' + $wrapper.macros[$wrapper_key + '_place_type'].value]) } }"
										  no-controls="true" no-mute="true" no-loop="false" no-autoplay="true"
										  no-crop="false" no-align="true" no-cover="true" no-load="false" no-excepts="!($frame.layers.BG.macros[$wrapper_key + '_place_type'].value == 'fill')" no-excepts-orientation="true"></video-picker>
							<video-picker model="$exceptions['CV_tens_t1'].data" ng-if="$scope[2][$scope[1]][1] == 'CV_tens_t1'"
										  settings="{defaults: $holder.layers[1], cropping: { ratios: ($ratios[$wrapper_key + '_' + $wrapper.macros[$wrapper_key + '_place_type'].value]) } }"
										  no-controls="true" no-mute="true" no-loop="false" no-autoplay="true"
										  no-crop="false" no-align="true" no-cover="true" no-load="false" no-excepts="!($frame.layers.BG.macros[$wrapper_key + '_place_type'].value == 'fill')" no-excepts-orientation="true"></video-picker>
							<video-picker model="$exceptions['CV_tens_e0'].data" ng-if="$scope[2][$scope[1]][1] == 'CV_tens_e0'"
										  settings="{defaults: $holder.layers[1], cropping: { ratios: ($ratios[$wrapper_key + '_' + $wrapper.macros[$wrapper_key + '_place_type'].value]) } }"
										  no-controls="true" no-mute="true" no-loop="false" no-autoplay="true"
										  no-crop="false" no-align="true" no-cover="true" no-load="false" no-excepts="!($frame.layers.BG.macros[$wrapper_key + '_place_type'].value == 'fill')" no-excepts-orientation="true"></video-picker>
							<video-picker model="$exceptions['CV_tens_w1'].data" ng-if="$scope[2][$scope[1]][1] == 'CV_tens_w1'"
										  settings="{defaults: $holder.layers[1], cropping: { ratios: ($ratios[$wrapper_key + '_' + $wrapper.macros[$wrapper_key + '_place_type'].value]) } }"
										  no-controls="true" no-mute="true" no-loop="false" no-autoplay="true"
										  no-crop="false" no-align="true" no-cover="true" no-load="false" no-excepts="!($frame.layers.BG.macros[$wrapper_key + '_place_type'].value == 'fill')" no-excepts-orientation="true"></video-picker>
							<video-picker model="$exceptions['CV_tens_w2'].data" ng-if="$scope[2][$scope[1]][1] == 'CV_tens_w2'"
										  settings="{defaults: $holder.layers[1], cropping: { ratios: ($ratios[$wrapper_key + '_' + $wrapper.macros[$wrapper_key + '_place_type'].value]) } }"
										  no-controls="true" no-mute="true" no-loop="false" no-autoplay="true"
										  no-crop="false" no-align="true" no-cover="true" no-load="false" no-excepts="!($frame.layers.BG.macros[$wrapper_key + '_place_type'].value == 'fill')" no-excepts-orientation="true"></video-picker>
							<block-info ng-class="{disabled: ($exceptions[$scope[2][$scope[1]][1]].data)}">
								<p>
									<small><q><a ng-click="$exceptions[$scope[2][$scope[1]][1]].data = _.omit(_.cloneDeep($target), ['excepts', 'preset'])">Clone</a> asset source from default variation. {{ $dict.hint_asset_area }} </q></small>
								</p>
							</block-info>
						</block-field>

					</block-group>
					<!-- / ELEMENT SOURCE -->

				</div>

				<div ng-if="($scope[1] == 'anim')">

					<!-- STATE VALIDATION -->
					<data ng-if="$nav[$data.editor.scope[0]][2] = null"></data>
					<data ng-if="$nav[$data.editor.scope[0]][3] = null"></data>
					<!-- / STATE VALIDATION -->

					<!-- SHORTCUTS -->
					<data ng-if="$holder_key = null"></data>
					<data ng-if="$holder = null"></data>
					<data ng-if="$target_key = null"></data>
					<data ng-if="$target = null"></data>
					<!-- / SHORTCUTS -->

					<!-- SHORTCUTS -->
					<data ng-if="$exceptions = $wrapper.macros.excepts"></data>
					<data ng-if="$exception_preset = $wrapper.macros.excepts.preset"></data>
					<!-- / SHORTCUTS -->

					<!-- VARIATIONS -->
					<data ng-init="$variation_setup = [_.concat(['default'], $variations[$wrapper_key + '_orient'], $variations['CV_tens'], $variations['CV_scale'], $variations['CV_size']), 'default', _.concat(['default'])]"></data>
					<!-- VARIATIONS -->

					<!-- VARIATION PICKER -->
					<block-group ng-class="{disabled: (_.size($scope[2][$scope[1]][0]) <= 1)}">

						<block-field title="{{ :: $dict.label_variation }} @" class="label">

							<!-- VARIATION VALIDATION -->
							<data ng-if="$scope[2][$scope[1]] == undefined" ng-init="$scope[2][$scope[1]] = [$variation_setup[0], $variation_setup[1]]"></data>
							<data ng-if="$holder && $holder.layers[$target_key] != undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[0]"></data>
							<data ng-if="$holder && $holder.layers[$target_key] == undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[2]"></data>
							<!-- VARIATION VALIDATION -->

							<!-- CLONE PRESET AS NEW EXCEPTION -->
							<data ng-if="$scope[2][$scope[1]][1] != 'default' && $exceptions && $exception_preset && $exceptions[$scope[2][$scope[1]][1]] == undefined" ng-init="$exceptions[$scope[2][$scope[1]][1]] = _.cloneDeep($exception_preset)"></data>
							<!-- / CLONE PRESET AS NEW EXCEPTION -->

							<dropdown-select model="$scope[2][$scope[1]][1]" ng-class="{'col-2-3' : ($exceptions && $scope[2][$scope[1]][1] != 'default')}">
								<optgroup label="{{ :: $dict.label_default }}">
									<option value="default">{{ :: $dict.label_default }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_element_orientation }}" ng-if="$variations[$wrapper_key + '_orient']">
									<option ng-repeat="$variation in $variations[$wrapper_key + '_orient']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_creative_tension }}" ng-if="$variations['CV_tens']">
									<option ng-repeat="$variation in $variations['CV_tens']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_creative_scale }}" ng-if="$variations['CV_scale']">
									<option ng-repeat="$variation in $variations['CV_scale']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_creative_size }}" ng-if="$variations['CV_size']">
									<option ng-repeat="$variation in $variations['CV_size']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] ? $dict['label_' + $variation] : _.replace($variation, 'CV_size_', '') }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
							</dropdown-select>

							<div ng-if="$exceptions && $scope[2][$scope[1]][1] != 'default'">
								<toggle-button model="$exceptions[$scope[2][$scope[1]][1]].enabled" on="On" off="Off"></toggle-button>
							</div>

							<block-info ng-if="(_.size($variation_setup[0]) <= 1)">
								<p>
									<small><q>
										{{ :: $dict.hint_variation_not_available }}
									</q></small>
								</p>
							</block-info>

							<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
								<p>
									<small><q>
										{{ :: $dict.hint_variation_default_required }} {{ :: $dict.hint_variation_default_is }}
									</q></small>
								</p>
							</block-info>

							<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
								<p>
									<small>
										<q>{{ :: $dict.hint_variations_active }}</q>
										<span ng-repeat="($key, $exceptions) in $exceptions">
											<q ng-if="$exceptions.enabled && $exceptions.data"><a ng-click="$scope[2][$scope[1]][1] = $key">{{ $dict['label_' + $key] ? $dict['label_' + $key] : _.replace($key, 'CV_size_', '') }}</a>, </q>
										</span>
										<q><a ng-click="$scope[2][$scope[1]][1] = 'default'">{{ :: $dict.label_default }}</a></q>
									</small>
								</p>
							</block-info>

							<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
								<p ng-if="$relations[$scope[2][$scope[1]][1]]">
									<small>
										<q>
											{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_apply_asterisks }}
										</q>
									</small>
									<small>
										<q ng-repeat="$relation in $relations[$scope[2][$scope[1]][1]]"><a ng-click="$editor.changePreviewSize($relation)">{{ :: $relation }}</a>, </q>
										<q><a ng-click="$editor.changePreviewSize('RxR')">RxR</a></q>
									</small>
								</p>
								<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] == 'default'">
									<small>
										<q>
											{{ :: $dict.hint_variation_default_is }}
										</q>
									</small>
								</p>
								<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] != 'default'">
									<small>
										<q>
											{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_dynamic }}
										</q>
									</small>
								</p>
							</block-info>

						</block-field>

					</block-group>
					<!-- / VARIATION PICKER -->

					<!-- UPDATE DEFAULT PRESET VALUES -->
					<data ng-repeat="$item in [$wrapper_key + '_place_type', $wrapper_key + '_mask_type', $wrapper_key + '_margin']" ng-if="$scope[2][$scope[1]][1] != 'default' && $exceptions && $exception_preset && $exception_preset.data[$item].value != $wrapper.macros[$item].value" ng-init="$exception_preset.data[$item].value = $wrapper.macros[$item].value"></data>
					<!-- / UPDATE DEFAULT PRESET VALUES -->

					<!-- ANIMATIONS SETTINGS -->
					<block-group ng-class="{disabled: ($scope[2][$scope[1]][1] != 'default')}">

						<block-field title="Animation Delay">
							<number-slider model="$wrapper.macros[$wrapper_key + '_anim_delay'].value"
										   min="0" max="1000" length="4" index="ms" left="Min" center="|" right="Max"
										   pattern="^\d+"></number-slider>
						</block-field>

						<block-field title="Animation Skip" ng-if="($frames)" ng-class="{disabled: ($frames.model.frames.length < 2)}">
							<toggle-button model="$wrapper.macros[$wrapper_key + '_anim_skip'].value" on="Skip Identical Source" off="Always Animate"></toggle-button>
							<block-info ng-class="{disabled: ($exceptions[$scope[2][$scope[1]][1]].data)}">
								<p>
									<small><q>{{ $dict.hint_animation_skip }}</q></small>
								</p>
							</block-info>
						</block-field>

					</block-group>
					<!-- / ANIMATIONS SETTINGS -->

					<!-- / ANIMATION TYPE-->
					<block-group>

						<block-field title="Animation Type" ng-if="$scope[2][$scope[1]][1] == 'default'">
							<dropdown-select model="$wrapper.macros[$wrapper_key + '_anim_type'].value">
								<option value="default">Normal</option>
								<option value="pan">Panoramic</option>
							</dropdown-select>
							<block-info>
								<p>
									<small><q>
										<small><q>{{ $dict.hint_animation_pan }}</q></small>
									</q></small>
								</p>
							</block-info>
						</block-field>

						<block-field title="Animation Type *" ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">
							<dropdown-select model="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_anim_type'].value">
								<option value="default">Normal</option>
								<option value="pan">Panoramic</option>
							</dropdown-select>
							<block-info>
								<p>
									<small><q>
										<small><q>{{ $dict.hint_animation_pan }}</q></small>
									</q></small>
								</p>
							</block-info>
						</block-field>

					</block-group>
					<!-- / ANIMATIONS TYPE -->

					<!-- ANIMATIONS SETTINGS - IN - SPEED -->
					<block-group ng-class="{disabled: ($scope[2][$scope[1]][1] != 'default')}">

						<block-field title="Ease In Type">
							<dropdown-select model="$wrapper.macros[$wrapper_key + '_anim_in_ease'].value">
								<option value="linear">Linear</option>
								<option value="ease">Ease</option>
								<option value="ease-in">Ease In</option>
								<option value="ease-out">Ease Out</option>
								<option value="ease-in-out">Ease In Out</option>
							</dropdown-select>
						</block-field>

						<block-field title="Fade In Speed">
							<number-slider model="$wrapper.macros[$wrapper_key + '_anim_in_speed_opacity'].value"
										   min="0" max="10000" length="5" index="ms" left="Min" center="|" right="Max"
										   pattern="^\d+"></number-slider>
						</block-field>

						<block-field title="Slide In Speed">
							<number-slider model="$wrapper.macros[$wrapper_key + '_anim_in_speed_transform'].value"
										   min="0" max="10000" length="5" index="ms" left="Min" center="|" right="Max"
										   pattern="^\d+"></number-slider>
						</block-field>

					</block-group>
					<!-- / ANIMATIONS SETTINGS -->

					<!-- ANIMATIONS SETTINGS - IN - TRANSITION -->
					<block-group>

						<block-field title="Slide In X-Axis" ng-if="$scope[2][$scope[1]][1] == 'default'">
							<number-slider model="$wrapper.macros[$wrapper_key + '_anim_in_x'].value"
										   min="-50" max="50" length="5" index="x" left="Left" center="|" right="Right"
										   pattern="^(-50|-[1-4][0-9]|-[0-9]|[0-9]|[1-4][0-9]|50)$"></number-slider>
						</block-field>

						<block-field title="Slide In X-Axis *" ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">
							<number-slider model="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_anim_in_x'].value"
										   min="-50" max="50" length="5" index="x" left="Left" center="|" right="Right"
										   pattern="^(-50|-[1-4][0-9]|-[0-9]|[0-9]|[1-4][0-9]|50)$"></number-slider>
						</block-field>

						<block-field title="Slide In Y-Axis" ng-if="$scope[2][$scope[1]][1] == 'default'">
							<number-slider model="$wrapper.macros[$wrapper_key + '_anim_in_y'].value"
										   min="-50" max="50" length="5" index="x" left="Top" center="|" right="Bottom"
										   pattern="^(-50|-[1-4][0-9]|-[0-9]|[0-9]|[1-4][0-9]|50)$"></number-slider>
						</block-field>

						<block-field title="Slide In Y-Axis *" ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">
							<number-slider model="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_anim_in_y'].value"
										   min="-50" max="50" length="5" index="x" left="Top" center="|" right="Bottom"
										   pattern="^(-50|-[1-4][0-9]|-[0-9]|[0-9]|[1-4][0-9]|50)$"></number-slider>
						</block-field>

						<block-field title="Slide In Z-Axis" ng-if="$scope[2][$scope[1]][1] == 'default'">
							<number-slider model="$wrapper.macros[$wrapper_key + '_anim_in_z'].value"
										   min="-10" max="10" length="5" index="x" left="Small" center="|" right="Large"
										   pattern="^(-10|-[0-9]|[0-9]|10)$"></number-slider>
						</block-field>

						<block-field title="Slide In Z-Axis *" ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">
							<number-slider model="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_anim_in_z'].value"
										   min="-10" max="10" length="5" index="x" left="Small" center="|" right="Large"
										   pattern="^(-10|-[0-9]|[0-9]|10)$"></number-slider>
						</block-field>

						<block-field title="Slide In Z Origin" ng-if="$scope[2][$scope[1]][1] == 'default'">
							<dropdown-select model="$wrapper.macros[$wrapper_key + '_anim_in_origin'].value">
								<option value="center">Center</option>
								<option value="left">Left</option>
								<option value="right">Right</option>
								<option value="top">Top</option>
								<option value="bottom">Bottom</option>
							</dropdown-select>
						</block-field>

						<block-field title="Slide In Z Origin *" ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">
							<dropdown-select model="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_anim_in_origin'].value">
								<option value="center">Center</option>
								<option value="left">Left</option>
								<option value="right">Right</option>
								<option value="top">Top</option>
								<option value="bottom">Bottom</option>
							</dropdown-select>
						</block-field>

					</block-group>
					<!-- / ANIMATIONS SETTINGS -->

					<!-- ANIMATIONS SETTINGS - OUT - SPEED -->
					<block-group ng-class="{disabled: ($scope[2][$scope[1]][1] != 'default')}">

						<block-field title="Ease Out Type">
							<dropdown-select model="$wrapper.macros[$wrapper_key + '_anim_out_ease'].value">
								<option value="linear">Linear</option>
								<option value="ease">Ease</option>
								<option value="ease-in">Ease In</option>
								<option value="ease-out">Ease Out</option>
								<option value="ease-in-out">Ease In Out</option>
							</dropdown-select>
						</block-field>

						<block-field title="Fade Out Speed">
							<number-slider model="$wrapper.macros[$wrapper_key + '_anim_out_speed_opacity'].value"
										   min="0" max="10000" length="5" index="ms" left="Min" center="|" right="Max"
										   pattern="^\d+"></number-slider>
						</block-field>

						<block-field title="Slide Out Speed">
							<number-slider model="$wrapper.macros[$wrapper_key + '_anim_out_speed_transform'].value"
										   min="0" max="10000" length="5" index="ms" left="Min" center="|" right="Max"
										   pattern="^\d+"></number-slider>
						</block-field>

					</block-group>
					<!-- / ANIMATIONS SETTINGS -->

					<!-- ANIMATIONS SETTINGS - OUT - TRANSITION -->
					<block-group>

						<block-field title="Slide Out X-Axis" ng-if="$scope[2][$scope[1]][1] == 'default'">
							<number-slider model="$wrapper.macros[$wrapper_key + '_anim_out_x'].value"
										   min="-50" max="50" length="5" index="x" left="Left" center="|" right="Right"
										   pattern="^(-50|-[1-4][0-9]|-[0-9]|[0-9]|[1-4][0-9]|50)$"></number-slider>
						</block-field>

						<block-field title="Slide Out X-Axis *" ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">
							<number-slider model="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_anim_out_x'].value"
										   min="-50" max="50" length="5" index="x" left="Left" center="|" right="Right"
										   pattern="^(-50|-[1-4][0-9]|-[0-9]|[0-9]|[1-4][0-9]|50)$"></number-slider>
						</block-field>

						<block-field title="Slide Out Y-Axis" ng-if="$scope[2][$scope[1]][1] == 'default'">
							<number-slider model="$wrapper.macros[$wrapper_key + '_anim_out_y'].value"
										   min="-50" max="50" length="5" index="x" left="Top" center="|" right="Bottom"
										   pattern="^(-50|-[1-4][0-9]|-[0-9]|[0-9]|[1-4][0-9]|50)$"></number-slider>
						</block-field>

						<block-field title="Slide Out Y-Axis *" ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">
							<number-slider model="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_anim_out_y'].value"
										   min="-50" max="50" length="5" index="x" left="Left" center="|" right="Right"
										   pattern="^(-50|-[1-4][0-9]|-[0-9]|[0-9]|[1-4][0-9]|50)$"></number-slider>
						</block-field>

						<block-field title="Slide Out Z-Axis" ng-if="$scope[2][$scope[1]][1] == 'default'">
							<number-slider model="$wrapper.macros[$wrapper_key + '_anim_out_z'].value"
										   min="-10" max="10" length="5" index="x" left="Small" center="|" right="Large"
										   pattern="^(-10|-[0-9]|[0-9]|10)$"></number-slider>
						</block-field>

						<block-field title="Slide Out Z-Axis *" ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">
							<number-slider model="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_anim_out_z'].value"
										   min="-50" max="50" length="5" index="x" left="Left" center="|" right="Right"
										   pattern="^(-50|-[1-4][0-9]|-[0-9]|[0-9]|[1-4][0-9]|50)$"></number-slider>
						</block-field>

						<block-field title="Slide Out Z Origin" ng-if="$scope[2][$scope[1]][1] == 'default'">
							<dropdown-select model="$wrapper.macros[$wrapper_key + '_anim_out_origin'].value">
								<option value="center">Center</option>
								<option value="left">Left</option>
								<option value="right">Right</option>
								<option value="top">Top</option>
								<option value="bottom">Bottom</option>
							</dropdown-select>
						</block-field>

						<block-field title="Slide Out Z Origin *" ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">
							<dropdown-select model="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_anim_out_origin'].value">
								<option value="center">Center</option>
								<option value="left">Left</option>
								<option value="right">Right</option>
								<option value="top">Top</option>
								<option value="bottom">Bottom</option>
							</dropdown-select>
						</block-field>

					</block-group>
					<!-- / ANIMATIONS SETTINGS -->

				</div>

				<div ng-if="($scope[1] == 'appear')">

					<!-- STATE VALIDATION -->
					<data ng-if="$nav[$data.editor.scope[0]][2] = null"></data>
					<data ng-if="$nav[$data.editor.scope[0]][3] = null"></data>
					<!-- / STATE VALIDATION -->

					<!-- SHORTCUTS -->
					<data ng-if="$holder_key = null"></data>
					<data ng-if="$holder = null"></data>
					<data ng-if="$target_key = null"></data>
					<data ng-if="$target = null"></data>
					<!-- / SHORTCUTS -->

					<!-- SHORTCUTS -->
					<data ng-if="$exceptions = $wrapper.macros.excepts"></data>
					<data ng-if="$exception_preset = $wrapper.macros.excepts.preset"></data>
					<!-- / SHORTCUTS -->

					<!-- VARIATIONS -->
					<data ng-init="$variation_setup = [_.concat(['default'], $variations[$wrapper_key + '_orient'], $variations['CV_tens'], $variations['CV_scale'], $variations['CV_size']), 'default', _.concat(['default'])]"></data>
					<!-- VARIATIONS -->

					<!-- VARIATION PICKER -->
					<block-group ng-class="{disabled: (_.size($scope[2][$scope[1]][0]) <= 1)}">

						<block-field title="{{ :: $dict.label_variation }} @" class="label">

							<!-- VARIATION VALIDATION -->
							<data ng-if="$scope[2][$scope[1]] == undefined" ng-init="$scope[2][$scope[1]] = [$variation_setup[0], $variation_setup[1]]"></data>
							<data ng-if="$holder && $holder.layers[$target_key] != undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[0]"></data>
							<data ng-if="$holder && $holder.layers[$target_key] == undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[2]"></data>
							<!-- VARIATION VALIDATION -->

							<!-- CLONE PRESET AS NEW EXCEPTION -->
							<data ng-if="$scope[2][$scope[1]][1] != 'default' && $exceptions && $exception_preset && $exceptions[$scope[2][$scope[1]][1]] == undefined" ng-init="$exceptions[$scope[2][$scope[1]][1]] = _.cloneDeep($exception_preset)"></data>
							<!-- / CLONE PRESET AS NEW EXCEPTION -->

							<dropdown-select model="$scope[2][$scope[1]][1]" ng-class="{'col-2-3' : ($exceptions && $scope[2][$scope[1]][1] != 'default')}">
								<optgroup label="{{ :: $dict.label_default }}">
									<option value="default">{{ :: $dict.label_default }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_element_orientation }}" ng-if="$variations[$wrapper_key + '_orient']">
									<option ng-repeat="$variation in $variations[$wrapper_key + '_orient']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_creative_tension }}" ng-if="$variations['CV_tens']">
									<option ng-repeat="$variation in $variations['CV_tens']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_creative_scale }}" ng-if="$variations['CV_scale']">
									<option ng-repeat="$variation in $variations['CV_scale']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_creative_size }}" ng-if="$variations['CV_size']">
									<option ng-repeat="$variation in $variations['CV_size']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] ? $dict['label_' + $variation] : _.replace($variation, 'CV_size_', '') }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
							</dropdown-select>

							<div ng-if="$exceptions && $scope[2][$scope[1]][1] != 'default'" class="col-1-3">
								<toggle-button model="$exceptions[$scope[2][$scope[1]][1]].enabled" on="On" off="Off"></toggle-button>
							</div>

							<block-info ng-if="(_.size($variation_setup[0]) <= 1)">
								<p>
									<small><q>
										{{ :: $dict.hint_variation_not_available }}
									</q></small>
								</p>
							</block-info>

							<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
								<p>
									<small><q>
										{{ :: $dict.hint_variation_default_required }}
									</q></small>
								</p>
							</block-info>

							<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
								<p>
									<small><q>
										{{ :: $dict.hint_variation_default_is }}
									</q></small>
								</p>
							</block-info>

							<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
								<p>
									<small>
										<q>{{ :: $dict.hint_variations_active }}</q>
										<span ng-repeat="($key, $exceptions) in $exceptions">
												<q ng-if="$exceptions.enabled && $exceptions.data"><a ng-click="$scope[2][$scope[1]][1] = $key">{{ $dict['label_' + $key] ? $dict['label_' + $key] : _.replace($key, 'CV_size_', '') }}</a>, </q>
											</span>
										<q><a ng-click="$scope[2][$scope[1]][1] = 'default'">{{ :: $dict.label_default }}</a></q>
									</small>
								</p>
							</block-info>

							<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
								<p ng-if="$relations[$scope[2][$scope[1]][1]]">
									<small>
										<q>
											{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_apply_asterisks }}
										</q>
									</small>
									<small>
										<q ng-repeat="$relation in $relations[$scope[2][$scope[1]][1]]"><a ng-click="$editor.changePreviewSize($relation)">{{ :: $relation }}</a>, </q>
										<q><a ng-click="$editor.changePreviewSize('RxR')">RxR</a></q>
									</small>
								</p>
								<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] == 'default'">
									<small>
										<q>
											{{ :: $dict.hint_variation_default_is }}
										</q>
									</small>
								</p>
								<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] != 'default'">
									<small>
										<q>
											{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_dynamic }}
										</q>
									</small>
								</p>
							</block-info>

						</block-field>

					</block-group>
					<!-- / VARIATION PICKER -->

					<!-- UPDATE DEFAULT PRESET VALUES -->
					<data ng-repeat="$item in [$wrapper_key + '_position', $wrapper_key + '_width', $wrapper_key + '_height', $wrapper_key + '_offset_margin', $wrapper_key + '_top', $wrapper_key + '_left', $wrapper_key + '_offset_top', $wrapper_key + '_offset_left']" ng-if="$scope[2][$scope[1]][1] != 'default' && $exceptions && $exception_preset && $exception_preset.data[$item].value != $wrapper.macros[$item].value" ng-init="$exception_preset.data[$item].value = $wrapper.macros[$item].value"></data>
					<data ng-repeat="$item in [$wrapper_key + '_place_type', $wrapper_key + '_limit_min', $wrapper_key + '_limit_max', $wrapper_key + '_mask_type']" ng-if="$scope[2][$scope[1]][1] != 'default' && $exceptions && $exception_preset && $exception_preset.data[$item].value != $wrapper.macros[$item].value" ng-init="$exception_preset.data[$item].value = $wrapper.macros[$item].value"></data>
					<!-- / UPDATE DEFAULT PRESET VALUES -->

					<!-- VISIBILITY PICKER -->
					<block-group ng-class="{disabled: ($scope[2][$scope[1]][1] != 'default')}">

						<block-field title="Element Visibility">
							<toggle-button model="$wrapper.enabled" on="Visible" off="Hidden"></toggle-button>
						</block-field>

					</block-group>
					<!-- / VISIBILITY PICKER -->

					<!-- APPEARANCE PICKER -->
					<block-group ng-class="{disabled: (!$wrapper.enabled)}">

						<block-field title="Element Mask" ng-if="$scope[2][$scope[1]][1] == 'default'">
							<dropdown-select model="$wrapper.macros[$wrapper_key + '_mask_type'].value">
								<option value="circle">Circle</option>
								<option value="circle_sharp">Sharp Circle</option>
								<option value="none">None</option>
							</dropdown-select>
						</block-field>

						<block-field title="Element Mask * " ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">
							<dropdown-select model="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_mask_type'].value">
								<option value="circle">Circle</option>
								<option value="circle_sharp">Sharp Circle</option>
								<option value="none">None</option>
							</dropdown-select>
						</block-field>

						<block-field title="Element Overflow" ng-if="$scope[2][$scope[1]][1] == 'default'">
							<dropdown-select model="$wrapper.attrs[$wrapper_key + '_style'].css.overflow">
								<option value="hidden">Hidden</option>
								<option value="visible">Visible</option>
							</dropdown-select>
						</block-field>

						<block-field title="Element Opacity" ng-class="{disabled: ($scope[2][$scope[1]][1] != 'default')}">
							<number-slider model="$wrapper.attrs[$wrapper_key + '_style'].css.opacity.value"
										   min="0" max="10" length="2" index="x" left="Transparent" center="|" right="Visible"
										   pattern="^([0-9]|10)$"></number-slider>
						</block-field>

					</block-group>
					<!-- / APPEARANCE PICKER -->

					<!-- ASSET QUALITY PICKER -->
					<block-group ng-class="{disabled: (!$wrapper.enabled)}">

						<block-field title="Resolution Multiplier" ng-class="{disabled: ($scope[2][$scope[1]][1] != 'default')}">
							<number-slider model="$wrapper.macros[$wrapper_key + '_ratio'].value"
										   min="1" max="3" length="1" index="x" left="Min" center="|" right="Max"
										   pattern="^([1-3])$"></number-slider>
							<block-info>
								<p>
									<small><q>{{ $dict.hint_resolution_multiplier }}</q></small>
								</p>
							</block-info>
						</block-field>

						<block-field title="Resolution Min" ng-if="$scope[2][$scope[1]][1] == 'default'">
							<number-slider model="$wrapper.macros[$wrapper_key + '_limit_min'].value"
										   min="0" max="8" length="1" index="x" left="160" center="|" right="2560"
										   pattern="^([0-6])$"></number-slider>
						</block-field>

						<block-field title="Resolution Min *" ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">
							<number-slider model="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_limit_min'].value"
										   min="0" max="8" length="1" index="x" left="160" center="|" right="2560"
										   pattern="^([0-6])$"></number-slider>
						</block-field>

						<block-field title="Resolution Max" ng-if="$scope[2][$scope[1]][1] == 'default'">
							<number-slider model="$wrapper.macros[$wrapper_key + '_limit_max'].value"
										   min="0" max="8" length="1" index="x" left="160" cente	r="|" right="2560"
										   pattern="^([0-8])$"></number-slider>
						</block-field>

						<block-field title="Resolution Max *" ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">
							<number-slider model="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_limit_max'].value"
										   min="0" max="8" length="1" index="x" left="160" cente	r="|" right="2560"
										   pattern="^([0-8])$"></number-slider>
						</block-field>

					</block-group>
					<!-- / ASSET QUALITY PICKER -->

					<!-- PLACEMENT AND POSITION PICKER -->
					<block-group ng-if="$scope[2][$scope[1]][1] == 'default'" ng-class="{disabled: (!$wrapper.enabled)}">

						<block-field title="Element Placement">
							<dropdown-select model="$wrapper.macros[$wrapper_key + '_place_type'].value">
								<option value="fill">Fill Entire Container</option>
								<option value="fit">Fit Focus Area</option>
							</dropdown-select>
							<block-info ng-class="{disabled: ($exceptions[$scope[2][$scope[1]][1]].data)}">
								<p>
									<small><q>{{ $dict.hint_asset_placement }}</q></small>
								</p>
							</block-info>
						</block-field>

						<block-field title="Element Position" ng-class="{disabled: ($wrapper.macros[$wrapper_key + '_place_type'].value != 'fit')}">
							<dropdown-select model="$wrapper.macros[$wrapper_key + '_position'].value">
								<!-- width_height_top_left -->
								<option value="custom">Custom</option>
								<optgroup label="Full Size">
									<option value="100_100_0_0">Full Size</option>
								</optgroup>
								<optgroup label="Half Height">
									<option value="100_50_-100_0">Half Top</option>
									<option value="100_50_0_0">Half Center</option>
									<option value="100_50_100_0">Half Bottom</option>
								</optgroup>
								<optgroup label="Half Width">
									<option value="50_100_0_-100">Half Left</option>
									<option value="50_100_0_0">Half Middle</option>
									<option value="50_100_0_100">Half Right</option>
								</optgroup>
							</dropdown-select>
						</block-field>

						<!-- POSITION VALIDATION -->
						<data ng-if="$wrapper.macros[$wrapper_key + '_position'].value == '100_100_0_0'" ng-init="$wrapper.macros[$wrapper_key + '_width'].value = 100; $wrapper.macros[$wrapper_key + '_height'].value = 100; $wrapper.macros[$wrapper_key + '_top'].value = 0; $wrapper.macros[$wrapper_key + '_left'].value = 0;"></data>
						<data ng-if="$wrapper.macros[$wrapper_key + '_position'].value == '100_50_-100_0'" ng-init="$wrapper.macros[$wrapper_key + '_width'].value = 100; $wrapper.macros[$wrapper_key + '_height'].value = 50; $wrapper.macros[$wrapper_key + '_top'].value = -100; $wrapper.macros[$wrapper_key + '_left'].value = 0;"></data>
						<data ng-if="$wrapper.macros[$wrapper_key + '_position'].value == '100_50_0_0'" ng-init="$wrapper.macros[$wrapper_key + '_width'].value = 100; $wrapper.macros[$wrapper_key + '_height'].value = 50; $wrapper.macros[$wrapper_key + '_top'].value = 0; $wrapper.macros[$wrapper_key + '_left'].value = 0;"></data>
						<data ng-if="$wrapper.macros[$wrapper_key + '_position'].value == '100_50_100_0'" ng-init="$wrapper.macros[$wrapper_key + '_width'].value = 100; $wrapper.macros[$wrapper_key + '_height'].value = 50; $wrapper.macros[$wrapper_key + '_top'].value = 100; $wrapper.macros[$wrapper_key + '_left'].value = 0;"></data>
						<data ng-if="$wrapper.macros[$wrapper_key + '_position'].value == '50_100_0_-100'" ng-init="$wrapper.macros[$wrapper_key + '_width'].value = 50; $wrapper.macros[$wrapper_key + '_height'].value = 100; $wrapper.macros[$wrapper_key + '_top'].value = 0; $wrapper.macros[$wrapper_key + '_left'].value = -100;"></data>
						<data ng-if="$wrapper.macros[$wrapper_key + '_position'].value == '50_100_0_0'" ng-init="$wrapper.macros[$wrapper_key + '_width'].value = 50; $wrapper.macros[$wrapper_key + '_height'].value = 100; $wrapper.macros[$wrapper_key + '_top'].value = 0; $wrapper.macros[$wrapper_key + '_left'].value = 0;"></data>
						<data ng-if="$wrapper.macros[$wrapper_key + '_position'].value == '50_100_0_100'" ng-init="$wrapper.macros[$wrapper_key + '_width'].value = 50; $wrapper.macros[$wrapper_key + '_height'].value = 100; $wrapper.macros[$wrapper_key + '_top'].value = 0; $wrapper.macros[$wrapper_key + '_left'].value = 100;"></data>
						<!-- / POSITION VALIDATION -->

					</block-group>
					<block-group ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">

						<block-field title="Element Placement * ">
							<dropdown-select model="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_place_type'].value">
								<option value="fill">Fill Entire Container</option>
								<option value="fit">Fit Focus Area</option>
							</dropdown-select>
							<block-info ng-class="{disabled: ($exceptions[$scope[2][$scope[1]][1]].data)}">
								<p>
									<small><q>{{ $dict.hint_asset_placement }}</q></small>
								</p>
							</block-info>
						</block-field>

						<block-field title="Element Position *" ng-class="{disabled: ($exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_place_type'].value != 'fit')}">
							<dropdown-select model="$exceptions[$scope[2][$scope[1]][1]].data[$nav[$data.editor.scope[0]][0] + '_position'].value">
								<!-- width_height_top_left -->
								<option value="custom">Custom</option>
								<optgroup label="Full Size">
									<option value="100_100_0_0">Full</option>
								</optgroup>
								<optgroup label="Half Height">
									<option value="100_50_-100_0">Half Top</option>
									<option value="100_50_0_0">Half Center</option>
									<option value="100_50_100_0">Half Bottom</option>
								</optgroup>
								<optgroup label="Half Width">
									<option value="50_100_0_-100">Half Left</option>
									<option value="50_100_0_0">Half Middle</option>
									<option value="50_100_0_100">Half Right</option>
								</optgroup>
							</dropdown-select>
						</block-field>

						<!-- POSITION VALIDATION -->
						<data ng-if="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_position'].value == '100_100_0_0'" ng-init="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_width'].value = 100; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_height'].value = 100; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_top'].value = 0; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_left'].value = 0;"></data>
						<data ng-if="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_position'].value == '100_50_-100_0'" ng-init="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_width'].value = 100; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_height'].value = 50; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_top'].value = -100; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_left'].value = 0;"></data>
						<data ng-if="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_position'].value == '100_50_0_0'" ng-init="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_width'].value = 100; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_height'].value = 50; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_top'].value = 0; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_left'].value = 0;"></data>
						<data ng-if="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_position'].value == '100_50_100_0'" ng-init="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_width'].value = 100; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_height'].value = 50; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_top'].value = 100; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_left'].value = 0;"></data>
						<data ng-if="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_position'].value == '50_100_0_-100'" ng-init="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_width'].value = 50; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_height'].value = 100; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_top'].value = 0; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_left'].value = -100;"></data>
						<data ng-if="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_position'].value == '50_100_0_0'" ng-init="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_width'].value = 50; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_height'].value = 100; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_top'].value = 0; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_left'].value = 0;"></data>
						<data ng-if="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_position'].value == '50_100_0_100'" ng-init="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_width'].value = 50; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_height'].value = 100; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_top'].value = 0; $wrapper.macros[$wrapper_key + '_left'].value = 100;"></data>
						<!-- / POSITION VALIDATION -->

					</block-group>
					<!-- / PLACEMENT AND POSITION PICKER -->

					<!-- POSITION PICKER -->
					<block-group ng-if="$scope[2][$scope[1]][1] == 'default'" ng-class="{disabled: (!$wrapper.enabled || $wrapper.macros[$wrapper_key + '_place_type'].value != 'fit')}">

						<block-field title="Element Margin">
							<number-slider model="$wrapper.macros[$wrapper_key + '_margin'].value"
										   min="-5" max="5" length="2" index="x" left="Small" center="|" right="Big"
										   pattern="^(-[0-5]|[0-5])$"></number-slider>
						</block-field>

						<block-field title="Element X-Offset">
							<number-slider model="$wrapper.macros[$wrapper_key + '_offset_left'].value"
										   min="-10" max="10" length="3" index="x" left="Left" center="|" right="Right"
										   pattern="^(-10|-[0-9]|[0-9]|10)$"></number-slider>
						</block-field>

						<block-field title="Element Y-offset" ng-if="$scope[2][$scope[1]][1] == 'default'" >
							<number-slider model="$wrapper.macros[$wrapper_key + '_offset_top'].value"
										   min="-10" max="10" length="3" index="x" left="Top" center="|" right="Bottom"
										   pattern="^(-10|-[0-9]|[0-9]|10)$"></number-slider>
						</block-field>

					</block-group>
					<block-group ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled || $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_place_type'].value != 'fit')}">

						<block-field title="Element Margin * ">
							<number-slider model="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_margin'].value"
										   min="-5" max="5" length="2" index="x" left="Small" center="|" right="Big"
										   pattern="^(-[0-5]|[0-5])$"></number-slider>
						</block-field>

						<block-field title="Element X-Offset *">
							<number-slider model="$exceptions[$scope[2][$scope[1]][1]].data[$nav[$data.editor.scope[0]][0] + '_offset_left'].value"
										   min="-10" max="10" length="3" index="x" left="Left" center="|" right="Right"
										   pattern="^(-10|-[0-9]|[0-9]|10)$"></number-slider>
						</block-field>

						<block-field title="Element Y-Offset *">
							<number-slider model="$exceptions[$scope[2][$scope[1]][1]].data[$nav[$data.editor.scope[0]][0] + '_offset_top'].value"
										   min="-10" max="10" length="3" index="x" left="Top" center="|" right="Bottom"
										   pattern="^(-10|-[0-9]|[0-9]|10)$"></number-slider>
						</block-field>

					</block-group>
					<!-- / POSITION PICKER -->

					<!-- POSITION PICKER -->
					<block-group ng-if="$scope[2][$scope[1]][1] == 'default'" ng-class="{disabled: (!$wrapper.enabled || $wrapper.macros[$wrapper_key + '_position'].value != 'custom' || $wrapper.macros[$wrapper_key + '_place_type'].value != 'fit')}">

						<block-field title="Element Width">
							<number-slider model="$wrapper.macros[$wrapper_key + '_width'].value"
										   left="Min" center="|" right="Max" min="0" max="100" length="4" index="%"
										   pattern="^([0-9]|[1-9][0-9]|100)$"></number-slider>
						</block-field>

						<block-field title="Element Height">
							<number-slider model="$wrapper.macros[$wrapper_key + '_height'].value"
										   left="Min" center="|" right="Max" min="0" max="100" length="4" index="%"
										   pattern="^([0-9]|[1-9][0-9]|100)$"></number-slider>
						</block-field>

					</block-group>
					<block-group ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled || $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_position'].value != 'custom' || $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_place_type'].value != 'fit')}">

						<block-field title="Element Width *">
							<number-slider model="$exceptions[$scope[2][$scope[1]][1]].data[$nav[$data.editor.scope[0]][0] + '_width'].value"
										   left="Min" center="|" right="Max" min="0" max="100" length="4" index="%"
										   pattern="^([0-9]|[1-9][0-9]|100)$"></number-slider>
						</block-field>

						<block-field title="Element Height *">
							<number-slider model="$exceptions[$scope[2][$scope[1]][1]].data[$nav[$data.editor.scope[0]][0] + '_height'].value"
										   left="Min" center="|" right="Max" min="0" max="100" length="4" index="%"
										   pattern="^([0-9]|[1-9][0-9]|100)$"></number-slider>
						</block-field>

					</block-group>
					<!-- / POSITION PICKER -->

					<!-- POSITION PICKER -->
					<block-group ng-if="$scope[2][$scope[1]][1] == 'default'" ng-class="{disabled: (!$wrapper.enabled || $wrapper.macros[$wrapper_key + '_position'].value != 'custom' || $wrapper.macros[$wrapper_key + '_place_type'].value != 'fit')}">

						<block-field title="Element X-Axis">
							<number-slider model="$wrapper.macros[$wrapper_key + '_left'].value"
										   left="Left" center="|" right="Right" min="-100" max="100" length="4" index="%"
										   pattern="^(-100|-[1-9][0-9]|-[0-9]|[0-9]|[1-9][0-9]|100)$"></number-slider>
						</block-field>

						<block-field title="Element Y-Axis">
							<number-slider model="$wrapper.macros[$wrapper_key + '_top'].value"
										   left="Top" center="|" right="Bottom" min="-100" max="100" length="4" index="%"
										   pattern="^(-100|-[1-9][0-9]|-[0-9]|[0-9]|[1-9][0-9]|100)$"></number-slider>
						</block-field>

					</block-group>
					<block-group ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled || $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_position'].value != 'custom' || $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_place_type'].value != 'fit')}">

						<block-field title="Element X-Axis *">
							<number-slider model="$exceptions[$scope[2][$scope[1]][1]].data[$nav[$data.editor.scope[0]][0] + '_left'].value"
										   left="Left" center="|" right="Right" min="-100" max="100" length="4" index="%"
										   pattern="^(-100|-[1-9][0-9]|-[0-9]|[0-9]|[1-9][0-9]|100)$"></number-slider>
						</block-field>

						<block-field title="Element Y-Axis *">
							<number-slider model="$exceptions[$scope[2][$scope[1]][1]].data[$nav[$data.editor.scope[0]][0] + '_top'].value"
										   left="Top" center="|" right="Bottom" min="-100" max="100" length="4" index="x"
										   pattern="^(-100|-[1-9][0-9]|-[0-9]|[0-9]|[1-9][0-9]|100)$"></number-slider>
						</block-field>

					</block-group>
					<!-- / POSITION PICKER -->

				</div>

			</block-group>

			<block-toggle title="Sponsorship" class="toggle" ng-class="{selected: ($data.editor.scope[1].indexOf('LS') != -1)}"
								ng-click="$data.editor.scope[1] = (($data.editor.scope[1] == 'LS') ? '' : 'LS')">
			</block-toggle>
			<block-group ng-if="($data.editor.scope[1].indexOf('LS') != -1)">

				<data ng-if="$frame = $data.banner.layers.CV.layers.WR"></data>

				<!-- TABS -->
				<data ng-init="$tab_setup = [['image', 'appear'], 'image', ['appear'], 'appear']"></data>
				<!-- / TABS -->

				<!-- STATE VALIDATION -->
				<data ng-if="$nav[$data.editor.scope[0]][0] = 'LS'"></data>
				<data ng-if="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]] == undefined" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]] = [$tab_setup[0], $tab_setup[1], {}]"></data>
				<!-- / STATE VALIDATION -->

				<!-- TAB VALIDATION -->
				<data ng-if="$frame.layers[$nav[$data.editor.scope[0]][0]].enabled == false" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]][0] = $tab_setup[2]"></data>
				<data ng-if="$frame.layers[$nav[$data.editor.scope[0]][0]].enabled == false" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]][1] = $tab_setup[3]"></data>
				<data ng-if="$frame.layers[$nav[$data.editor.scope[0]][0]].enabled != false" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]][0] = $tab_setup[0]"></data>
				<!-- TAB VALIDATION -->

				<!-- SHORTCUTS -->
				<data ng-if="$scope = $nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]]"></data>
				<data ng-if="$wrapper_key = $nav[$data.editor.scope[0]][0]"></data>
				<data ng-if="$wrapper = $frame.layers[$nav[$data.editor.scope[0]][0]]"></data>
				<!-- / SHORTCUTS -->

				<block-menu class="tabs">
					<a ng-repeat="$tab in $tab_setup[0]" ng-click="$scope[1] = $tab" ng-class="{selected: ($scope[1] == $tab), disabled: (_.indexOf($scope[0], $tab) == -1)}">{{ ::  $dict['label_' + $tab] }}</a>
				</block-menu>

				<div ng-if="($scope[1] == 'image')">

					<!-- STATE VALIDATION -->
					<data ng-if="$nav[$data.editor.scope[0]][2] = 'IMG'"></data>
					<data ng-if="$nav[$data.editor.scope[0]][3] = 0"></data>
					<!-- / STATE VALIDATION -->

					<!-- SHORTCUTS -->
					<data ng-if="$holder_key = $nav[$data.editor.scope[0]][2]"></data>
					<data ng-if="$holder = $wrapper.layers[$wrapper_key + '_' + $holder_key]"></data>
					<data ng-if="$target_key = $nav[$data.editor.scope[0]][3]"></data>
					<data ng-if="$target = $wrapper.layers[$wrapper_key + '_' + $holder_key].layers[$target_key]"></data>
					<!-- / SHORTCUTS -->

					<!-- SHORTCUTS -->
					<data ng-if="$exceptions = $wrapper.layers[$wrapper_key + '_' + $holder_key].layers[$target_key].excepts"></data>
					<data ng-if="$exception_preset = $wrapper.layers[$wrapper_key + '_' + $holder_key].layers[$target_key].excepts.preset"></data>
					<!-- / SHORTCUTS -->

					<!-- VARIATIONS -->
					<data ng-init="$variation_setup = [_.concat(['default']), 'default', _.concat(['default'])]"></data>
					<!-- VARIATIONS -->

					<!-- VARIATION PICKER -->
					<block-group ng-class="{disabled: (_.size($scope[2][$scope[1]][0]) <= 1)}">

						<block-field title="{{ :: $dict.label_variation }} @" class="label">

							<!-- VARIATION VALIDATION -->
							<data ng-if="$scope[2][$scope[1]] == undefined" ng-init="$scope[2][$scope[1]] = [$variation_setup[0], $variation_setup[1]]"></data>
							<data ng-if="$holder && $holder.layers[$target_key] != undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[0]"></data>
							<data ng-if="$holder && $holder.layers[$target_key] == undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[2]"></data>
							<!-- VARIATION VALIDATION -->

							<!-- CLONE PRESET AS NEW EXCEPTION -->
							<data ng-if="$scope[2][$scope[1]][1] != 'default' && $exceptions && $exception_preset && $exceptions[$scope[2][$scope[1]][1]] == undefined" ng-init="$exceptions[$scope[2][$scope[1]][1]] = _.cloneDeep($exception_preset)"></data>
							<!-- / CLONE PRESET AS NEW EXCEPTION -->

							<dropdown-select model="$scope[2][$scope[1]][1]" ng-class="{'col-2-3' : ($exceptions && $scope[2][$scope[1]][1] != 'default')}">
								<optgroup label="{{ :: $dict.label_default }}">
									<option value="default">{{ :: $dict.label_default }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_element_orientation }}" ng-if="$variations[$wrapper_key + '_orient']">
									<option ng-repeat="$variation in $variations[$wrapper_key + '_orient']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_creative_tension }}" ng-if="$variations['CV_tens']">
									<option ng-repeat="$variation in $variations['CV_tens']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_creative_scale }}" ng-if="$variations['CV_scale']">
									<option ng-repeat="$variation in $variations['CV_scale']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_creative_size }}" ng-if="$variations['CV_size']">
									<option ng-repeat="$variation in $variations['CV_size']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] ? $dict['label_' + $variation] : _.replace($variation, 'CV_size_', '') }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
							</dropdown-select>

							<div ng-if="$exceptions && $scope[2][$scope[1]][1] != 'default'" class="col-1-3">
								<toggle-button model="$exceptions[$scope[2][$scope[1]][1]].enabled" on="On" off="Off"></toggle-button>
							</div>

							<block-info ng-if="(_.size($variation_setup[0]) <= 1)">
								<p>
									<small><q>
										{{ :: $dict.hint_variation_not_available }}
									</q></small>
								</p>
							</block-info>

							<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
								<p>
									<small><q>
										{{ :: $dict.hint_variation_default_required }}
									</q></small>
								</p>
							</block-info>

							<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
								<p>
									<small><q>
										{{ :: $dict.hint_variation_default_is }}
									</q></small>
								</p>
							</block-info>

							<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
								<p>
									<small>
										<q>{{ :: $dict.hint_variations_active }}</q>
										<span ng-repeat="($key, $exceptions) in $exceptions">
											<q ng-if="$exceptions.enabled && $exceptions.data"><a ng-click="$scope[2][$scope[1]][1] = $key">{{ $dict['label_' + $key] ? $dict['label_' + $key] : _.replace($key, 'CV_size_', '') }}</a>, </q>
										</span>
										<q><a ng-click="$scope[2][$scope[1]][1] = 'default'">{{ :: $dict.label_default }}</a></q>
									</small>
								</p>
							</block-info>

							<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
								<p ng-if="$relations[$scope[2][$scope[1]][1]]">
									<small>
										<q>
											{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_apply_asterisks }}
										</q>
									</small>
									<small>
										<q ng-repeat="$relation in $relations[$scope[2][$scope[1]][1]]"><a ng-click="$editor.changePreviewSize($relation)">{{ :: $relation }}</a>, </q>
										<q><a ng-click="$editor.changePreviewSize('RxR')">RxR</a></q>
									</small>
								</p>
								<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] == 'default'">
									<small>
										<q>
											{{ :: $dict.hint_variation_default_is }}
										</q>
									</small>
								</p>
								<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] != 'default'">
									<small>
										<q>
											{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_dynamic }}
										</q>
									</small>
								</p>
							</block-info>

						</block-field>

					</block-group>
					<!-- / VARIATION PICKER -->


					<block-field title="Logo type">
						<dropdown-select model="$frame.layers[$nav[$data.editor.scope[0]][0]].macros.LS_type.value">
							<option value="default">Default</option>
							<option value="other">Other</option>
						</dropdown-select>
					</block-field>

					<!-- CLONE PRESET AS NEW EXCEPTION -->
					<data ng-if="$scope[2][$scope[1]][1] != 'default' && $exceptions && $exception_preset && $exceptions[$scope[2][$scope[1]][1]] == undefined" ng-init="$exceptions[$scope[2][$scope[1]][1]] = _.cloneDeep($exception_preset)"></data>
					<!-- / CLONE PRESET AS NEW EXCEPTION -->

				</div>

				<div ng-if="($scope[1] == 'appear')">

					<!-- STATE VALIDATION -->
					<data ng-if="$nav[$data.editor.scope[0]][2] = null"></data>
					<data ng-if="$nav[$data.editor.scope[0]][3] = null"></data>
					<!-- / STATE VALIDATION -->

					<!-- SHORTCUTS -->
					<data ng-if="$holder_key = null"></data>
					<data ng-if="$holder = null"></data>
					<data ng-if="$target_key = null"></data>
					<data ng-if="$target = null"></data>
					<!-- / SHORTCUTS -->

					<!-- SHORTCUTS -->
					<data ng-if="$exceptions = $wrapper.macros.excepts"></data>
					<data ng-if="$exception_preset = $wrapper.macros.excepts.preset"></data>
					<!-- / SHORTCUTS -->

					<!-- VARIATIONS -->
					<data ng-init="$variation_setup = [_.concat(['default']), 'default', _.concat(['default'])]"></data>
					<!-- VARIATIONS -->

					<!-- VARIATION PICKER -->
					<block-group ng-class="{disabled: (_.size($scope[2][$scope[1]][0]) <= 1)}">

						<block-field title="{{ :: $dict.label_variation }} @" class="label">

							<!-- VARIATION VALIDATION -->
							<data ng-if="$scope[2][$scope[1]] == undefined" ng-init="$scope[2][$scope[1]] = [$variation_setup[0], $variation_setup[1]]"></data>
							<data ng-if="$holder && $holder.layers[$target_key] != undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[0]"></data>
							<data ng-if="$holder && $holder.layers[$target_key] == undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[2]"></data>
							<!-- VARIATION VALIDATION -->

							<!-- CLONE PRESET AS NEW EXCEPTION -->
							<data ng-if="$scope[2][$scope[1]][1] != 'default' && $exceptions && $exception_preset && $exceptions[$scope[2][$scope[1]][1]] == undefined" ng-init="$exceptions[$scope[2][$scope[1]][1]] = _.cloneDeep($exception_preset)"></data>
							<!-- / CLONE PRESET AS NEW EXCEPTION -->

							<dropdown-select model="$scope[2][$scope[1]][1]" ng-class="{'col-2-3' : ($exceptions && $scope[2][$scope[1]][1] != 'default')}">
								<optgroup label="{{ :: $dict.label_default }}">
									<option value="default">{{ :: $dict.label_default }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_element_orientation }}" ng-if="$variations[$wrapper_key + '_orient']">
									<option ng-repeat="$variation in $variations[$wrapper_key + '_orient']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_creative_tension }}" ng-if="$variations['CV_tens']">
									<option ng-repeat="$variation in $variations['CV_tens']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_creative_scale }}" ng-if="$variations['CV_scale']">
									<option ng-repeat="$variation in $variations['CV_scale']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_creative_size }}" ng-if="$variations['CV_size']">
									<option ng-repeat="$variation in $variations['CV_size']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] ? $dict['label_' + $variation] : _.replace($variation, 'CV_size_', '') }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
							</dropdown-select>

							<div ng-if="$exceptions && $scope[2][$scope[1]][1] != 'default'" class="col-1-3">
								<toggle-button model="$exceptions[$scope[2][$scope[1]][1]].enabled" on="On" off="Off"></toggle-button>
							</div>

							<block-info ng-if="(_.size($variation_setup[0]) <= 1)">
								<p>
									<small><q>
										{{ :: $dict.hint_variation_not_available }}
									</q></small>
								</p>
							</block-info>

							<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
								<p>
									<small><q>
										{{ :: $dict.hint_variation_default_required }}
									</q></small>
								</p>
							</block-info>

							<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
								<p>
									<small><q>
										{{ :: $dict.hint_variation_default_is }}
									</q></small>
								</p>
							</block-info>

							<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
								<p>
									<small>
										<q>{{ :: $dict.hint_variations_active }}</q>
										<span ng-repeat="($key, $exceptions) in $exceptions">
											<q ng-if="$exceptions.enabled && $exceptions.data"><a ng-click="$scope[2][$scope[1]][1] = $key">{{ $dict['label_' + $key] ? $dict['label_' + $key] : _.replace($key, 'CV_size_', '') }}</a>, </q>
										</span>
										<q><a ng-click="$scope[2][$scope[1]][1] = 'default'">{{ :: $dict.label_default }}</a></q>
									</small>
								</p>
							</block-info>

							<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
								<p ng-if="$relations[$scope[2][$scope[1]][1]]">
									<small>
										<q>
											{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_apply_asterisks }}
										</q>
									</small>
									<small>
										<q ng-repeat="$relation in $relations[$scope[2][$scope[1]][1]]"><a ng-click="$editor.changePreviewSize($relation)">{{ :: $relation }}</a>, </q>
										<q><a ng-click="$editor.changePreviewSize('RxR')">RxR</a></q>
									</small>
								</p>
								<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] == 'default'">
									<small>
										<q>
											{{ :: $dict.hint_variation_default_is }}
										</q>
									</small>
								</p>
								<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] != 'default'">
									<small>
										<q>
											{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_dynamic }}
										</q>
									</small>
								</p>
							</block-info>

						</block-field>

					</block-group>
					<!-- / VARIATION PICKER -->

					<!-- UPDATE DEFAULT PRESET VALUES -->
					<data ng-repeat="$item in [$wrapper_key + '_place_type', $wrapper_key + '_limit_min', $wrapper_key + '_limit_max', $wrapper_key + '_mask_type', $wrapper_key + '_margin']" ng-if="$scope[2][$scope[1]][1] != 'default' && $exceptions && $exception_preset && $exception_preset.data[$item].value != $wrapper.macros[$item].value" ng-init="$exception_preset.data[$item].value = $wrapper.macros[$item].value"></data>
					<!-- / UPDATE DEFAULT PRESET VALUES -->

					<!-- VISIBILITY PICKER -->
					<block-group ng-class="{disabled: ($scope[2][$scope[1]][1] != 'default')}">

						<block-field title="Element Visibility">
							<toggle-button model="$wrapper.enabled" on="Visible" off="Hidden"></toggle-button>
						</block-field>

					</block-group>
					<!-- / VISIBILITY PICKER -->

					<block-field title="Overlay Opacity">
						<number-slider model="$wrapper.attrs.style_SHD.css.opacity.value"
										min="0" max="100" length="3" index="%" left="Transparent" center="|" right="Visible" pattern="^\d+"></number-slider>
					</block-field>

				</div>

			</block-group>

			<block-toggle title="Logotype" class="toggle" ng-class="{selected: ($data.editor.scope[1].indexOf('LG') != -1)}"
								ng-click="$data.editor.scope[1] = (($data.editor.scope[1] == 'LG') ? '' : 'LG')">
			</block-toggle>
			<block-group ng-if="($data.editor.scope[1].indexOf('LG') != -1)">

				<data ng-if="$frame = $data.banner.layers.CV.layers.WR"></data>

				<!-- TABS -->
				<data ng-init="$tab_setup = [['image', 'appear'], 'image', ['appear'], 'appear']"></data>
				<!-- / TABS -->

				<!-- STATE VALIDATION -->
				<data ng-if="$nav[$data.editor.scope[0]][0] = 'LG'"></data>
				<data ng-if="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]] == undefined" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]] = [$tab_setup[0], $tab_setup[1], {}]"></data>
				<!-- / STATE VALIDATION -->

				<!-- TAB VALIDATION -->
				<data ng-if="$frame.layers[$nav[$data.editor.scope[0]][0]].enabled == false" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]][0] = $tab_setup[2]"></data>
				<data ng-if="$frame.layers[$nav[$data.editor.scope[0]][0]].enabled == false" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]][1] = $tab_setup[3]"></data>
				<data ng-if="$frame.layers[$nav[$data.editor.scope[0]][0]].enabled != false" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]][0] = $tab_setup[0]"></data>
				<!-- TAB VALIDATION -->

				<!-- SHORTCUTS -->
				<data ng-if="$scope = $nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]]"></data>
				<data ng-if="$wrapper_key = $nav[$data.editor.scope[0]][0]"></data>
				<data ng-if="$wrapper = $frame.layers[$nav[$data.editor.scope[0]][0]]"></data>
				<!-- / SHORTCUTS -->

				<block-menu class="tabs">
					<a ng-repeat="$tab in $tab_setup[0]" ng-click="$scope[1] = $tab" ng-class="{selected: ($scope[1] == $tab), disabled: (_.indexOf($scope[0], $tab) == -1)}">{{ ::  $dict['label_' + $tab] }}</a>
				</block-menu>

				<div ng-if="($scope[1] == 'image')">

					<!-- STATE VALIDATION -->
					<data ng-if="$nav[$data.editor.scope[0]][2] = 'IMG'"></data>
					<data ng-if="$nav[$data.editor.scope[0]][3] = 0"></data>
					<!-- / STATE VALIDATION -->

					<!-- SHORTCUTS -->
					<data ng-if="$holder_key = $nav[$data.editor.scope[0]][2]"></data>
					<data ng-if="$holder = $wrapper.layers[$wrapper_key + '_' + $holder_key]"></data>
					<data ng-if="$target_key = $nav[$data.editor.scope[0]][3]"></data>
					<data ng-if="$target = $wrapper.layers[$wrapper_key + '_' + $holder_key].layers[$target_key]"></data>
					<!-- / SHORTCUTS -->

					<!-- SHORTCUTS -->
					<data ng-if="$exceptions = $wrapper.layers[$wrapper_key + '_' + $holder_key].layers[$target_key].excepts"></data>
					<data ng-if="$exception_preset = $wrapper.layers[$wrapper_key + '_' + $holder_key].layers[$target_key].excepts.preset"></data>
					<!-- / SHORTCUTS -->

					<!-- VARIATIONS -->
					<data ng-init="$variation_setup = [_.concat(['default']), 'default', _.concat(['default'])]"></data>
					<!-- VARIATIONS -->

					<!-- VARIATION PICKER -->
					<block-group ng-class="{disabled: (_.size($scope[2][$scope[1]][0]) <= 1)}">

						<block-field title="{{ :: $dict.label_variation }} @" class="label">

							<!-- VARIATION VALIDATION -->
							<data ng-if="$scope[2][$scope[1]] == undefined" ng-init="$scope[2][$scope[1]] = [$variation_setup[0], $variation_setup[1]]"></data>
							<data ng-if="$holder && $holder.layers[$target_key] != undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[0]"></data>
							<data ng-if="$holder && $holder.layers[$target_key] == undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[2]"></data>
							<!-- VARIATION VALIDATION -->

							<!-- CLONE PRESET AS NEW EXCEPTION -->
							<data ng-if="$scope[2][$scope[1]][1] != 'default' && $exceptions && $exception_preset && $exceptions[$scope[2][$scope[1]][1]] == undefined" ng-init="$exceptions[$scope[2][$scope[1]][1]] = _.cloneDeep($exception_preset)"></data>
							<!-- / CLONE PRESET AS NEW EXCEPTION -->

							<dropdown-select model="$scope[2][$scope[1]][1]" ng-class="{'col-2-3' : ($exceptions && $scope[2][$scope[1]][1] != 'default')}">
								<optgroup label="{{ :: $dict.label_default }}">
									<option value="default">{{ :: $dict.label_default }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_element_orientation }}" ng-if="$variations[$wrapper_key + '_orient']">
									<option ng-repeat="$variation in $variations[$wrapper_key + '_orient']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_creative_tension }}" ng-if="$variations['CV_tens']">
									<option ng-repeat="$variation in $variations['CV_tens']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_creative_scale }}" ng-if="$variations['CV_scale']">
									<option ng-repeat="$variation in $variations['CV_scale']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_creative_size }}" ng-if="$variations['CV_size']">
									<option ng-repeat="$variation in $variations['CV_size']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] ? $dict['label_' + $variation] : _.replace($variation, 'CV_size_', '') }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
							</dropdown-select>

							<div ng-if="$exceptions && $scope[2][$scope[1]][1] != 'default'" class="col-1-3">
								<toggle-button model="$exceptions[$scope[2][$scope[1]][1]].enabled" on="On" off="Off"></toggle-button>
							</div>

							<block-info ng-if="(_.size($variation_setup[0]) <= 1)">
								<p>
									<small><q>
										{{ :: $dict.hint_variation_not_available }}
									</q></small>
								</p>
							</block-info>

							<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
								<p>
									<small><q>
										{{ :: $dict.hint_variation_default_required }}
									</q></small>
								</p>
							</block-info>

							<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
								<p>
									<small><q>
										{{ :: $dict.hint_variation_default_is }}
									</q></small>
								</p>
							</block-info>

							<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
								<p>
									<small>
										<q>{{ :: $dict.hint_variations_active }}</q>
										<span ng-repeat="($key, $exceptions) in $exceptions">
											<q ng-if="$exceptions.enabled && $exceptions.data"><a ng-click="$scope[2][$scope[1]][1] = $key">{{ $dict['label_' + $key] ? $dict['label_' + $key] : _.replace($key, 'CV_size_', '') }}</a>, </q>
										</span>
										<q><a ng-click="$scope[2][$scope[1]][1] = 'default'">{{ :: $dict.label_default }}</a></q>
									</small>
								</p>
							</block-info>

							<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
								<p ng-if="$relations[$scope[2][$scope[1]][1]]">
									<small>
										<q>
											{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_apply_asterisks }}
										</q>
									</small>
									<small>
										<q ng-repeat="$relation in $relations[$scope[2][$scope[1]][1]]"><a ng-click="$editor.changePreviewSize($relation)">{{ :: $relation }}</a>, </q>
										<q><a ng-click="$editor.changePreviewSize('RxR')">RxR</a></q>
									</small>
								</p>
								<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] == 'default'">
									<small>
										<q>
											{{ :: $dict.hint_variation_default_is }}
										</q>
									</small>
								</p>
								<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] != 'default'">
									<small>
										<q>
											{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_dynamic }}
										</q>
									</small>
								</p>
							</block-info>

						</block-field>

					</block-group>
					<!-- / VARIATION PICKER -->


					<block-field title="Logo type">
						<dropdown-select model="$frame.layers[$nav[$data.editor.scope[0]][0]].macros.LG_type.value">
							<option value="default">Default</option>
							<option value="partner">Partner</option>
						</dropdown-select>
					</block-field>

					<!-- CLONE PRESET AS NEW EXCEPTION -->
					<data ng-if="$scope[2][$scope[1]][1] != 'default' && $exceptions && $exception_preset && $exceptions[$scope[2][$scope[1]][1]] == undefined" ng-init="$exceptions[$scope[2][$scope[1]][1]] = _.cloneDeep($exception_preset)"></data>
					<!-- / CLONE PRESET AS NEW EXCEPTION -->

				</div>

				<div ng-if="($scope[1] == 'appear')">

					<!-- STATE VALIDATION -->
					<data ng-if="$nav[$data.editor.scope[0]][2] = null"></data>
					<data ng-if="$nav[$data.editor.scope[0]][3] = null"></data>
					<!-- / STATE VALIDATION -->

					<!-- SHORTCUTS -->
					<data ng-if="$holder_key = null"></data>
					<data ng-if="$holder = null"></data>
					<data ng-if="$target_key = null"></data>
					<data ng-if="$target = null"></data>
					<!-- / SHORTCUTS -->

					<!-- SHORTCUTS -->
					<data ng-if="$exceptions = $wrapper.macros.excepts"></data>
					<data ng-if="$exception_preset = $wrapper.macros.excepts.preset"></data>
					<!-- / SHORTCUTS -->

					<!-- VARIATIONS -->
					<data ng-init="$variation_setup = [_.concat(['default']), 'default', _.concat(['default'])]"></data>
					<!-- VARIATIONS -->

					<!-- VARIATION PICKER -->
					<block-group ng-class="{disabled: (_.size($scope[2][$scope[1]][0]) <= 1)}">

						<block-field title="{{ :: $dict.label_variation }} @" class="label">

							<!-- VARIATION VALIDATION -->
							<data ng-if="$scope[2][$scope[1]] == undefined" ng-init="$scope[2][$scope[1]] = [$variation_setup[0], $variation_setup[1]]"></data>
							<data ng-if="$holder && $holder.layers[$target_key] != undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[0]"></data>
							<data ng-if="$holder && $holder.layers[$target_key] == undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[2]"></data>
							<!-- VARIATION VALIDATION -->

							<!-- CLONE PRESET AS NEW EXCEPTION -->
							<data ng-if="$scope[2][$scope[1]][1] != 'default' && $exceptions && $exception_preset && $exceptions[$scope[2][$scope[1]][1]] == undefined" ng-init="$exceptions[$scope[2][$scope[1]][1]] = _.cloneDeep($exception_preset)"></data>
							<!-- / CLONE PRESET AS NEW EXCEPTION -->

							<dropdown-select model="$scope[2][$scope[1]][1]" ng-class="{'col-2-3' : ($exceptions && $scope[2][$scope[1]][1] != 'default')}">
								<optgroup label="{{ :: $dict.label_default }}">
									<option value="default">{{ :: $dict.label_default }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_element_orientation }}" ng-if="$variations[$wrapper_key + '_orient']">
									<option ng-repeat="$variation in $variations[$wrapper_key + '_orient']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_creative_tension }}" ng-if="$variations['CV_tens']">
									<option ng-repeat="$variation in $variations['CV_tens']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_creative_scale }}" ng-if="$variations['CV_scale']">
									<option ng-repeat="$variation in $variations['CV_scale']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_creative_size }}" ng-if="$variations['CV_size']">
									<option ng-repeat="$variation in $variations['CV_size']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] ? $dict['label_' + $variation] : _.replace($variation, 'CV_size_', '') }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
							</dropdown-select>

							<div ng-if="$exceptions && $scope[2][$scope[1]][1] != 'default'" class="col-1-3">
								<toggle-button model="$exceptions[$scope[2][$scope[1]][1]].enabled" on="On" off="Off"></toggle-button>
							</div>

							<block-info ng-if="(_.size($variation_setup[0]) <= 1)">
								<p>
									<small><q>
										{{ :: $dict.hint_variation_not_available }}
									</q></small>
								</p>
							</block-info>

							<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
								<p>
									<small><q>
										{{ :: $dict.hint_variation_default_required }}
									</q></small>
								</p>
							</block-info>

							<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
								<p>
									<small><q>
										{{ :: $dict.hint_variation_default_is }}
									</q></small>
								</p>
							</block-info>

							<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
								<p>
									<small>
										<q>{{ :: $dict.hint_variations_active }}</q>
										<span ng-repeat="($key, $exceptions) in $exceptions">
											<q ng-if="$exceptions.enabled && $exceptions.data"><a ng-click="$scope[2][$scope[1]][1] = $key">{{ $dict['label_' + $key] ? $dict['label_' + $key] : _.replace($key, 'CV_size_', '') }}</a>, </q>
										</span>
										<q><a ng-click="$scope[2][$scope[1]][1] = 'default'">{{ :: $dict.label_default }}</a></q>
									</small>
								</p>
							</block-info>

							<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
								<p ng-if="$relations[$scope[2][$scope[1]][1]]">
									<small>
										<q>
											{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_apply_asterisks }}
										</q>
									</small>
									<small>
										<q ng-repeat="$relation in $relations[$scope[2][$scope[1]][1]]"><a ng-click="$editor.changePreviewSize($relation)">{{ :: $relation }}</a>, </q>
										<q><a ng-click="$editor.changePreviewSize('RxR')">RxR</a></q>
									</small>
								</p>
								<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] == 'default'">
									<small>
										<q>
											{{ :: $dict.hint_variation_default_is }}
										</q>
									</small>
								</p>
								<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] != 'default'">
									<small>
										<q>
											{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_dynamic }}
										</q>
									</small>
								</p>
							</block-info>

						</block-field>

					</block-group>
					<!-- / VARIATION PICKER -->

					<!-- UPDATE DEFAULT PRESET VALUES -->
					<data ng-repeat="$item in [$wrapper_key + '_place_type', $wrapper_key + '_limit_min', $wrapper_key + '_limit_max', $wrapper_key + '_mask_type', $wrapper_key + '_margin']" ng-if="$scope[2][$scope[1]][1] != 'default' && $exceptions && $exception_preset && $exception_preset.data[$item].value != $wrapper.macros[$item].value" ng-init="$exception_preset.data[$item].value = $wrapper.macros[$item].value"></data>
					<!-- / UPDATE DEFAULT PRESET VALUES -->

					<!-- VISIBILITY PICKER -->
					<block-group ng-class="{disabled: ($scope[2][$scope[1]][1] != 'default')}">

						<block-field title="Element Visibility">
							<toggle-button model="$wrapper.enabled" on="Visible" off="Hidden"></toggle-button>
						</block-field>

					</block-group>
					<!-- / VISIBILITY PICKER -->

					<block-field title="Overlay Opacity">
						<number-slider model="$wrapper.attrs.style_SHD.css.opacity.value"
										min="0" max="100" length="3" index="%" left="Transparent" center="|" right="Visible" pattern="^\d+"></number-slider>
					</block-field>

				</div>

			</block-group>

			<block-toggle title="Button" class="toggle" ng-class="{selected: ($data.editor.scope[1].indexOf('BT') != -1)}"
									ng-click="$data.editor.scope[1] = (($data.editor.scope[1] == 'BT') ? '' : 'BT')"></block-toggle>
			<block-group ng-if="($data.editor.scope[1].indexOf('BT') != -1)">

						<data ng-if="$frame = $data.banner.layers.CV.layers.WR"></data>

						<!-- TABS -->
						<data ng-init="$tab_setup = [['text', 'appear'], 'text', ['appear'], 'appear']"></data>
						<!-- / TABS -->

						<!-- STATE VALIDATION -->
						<data ng-if="$nav[$data.editor.scope[0]][0] = 'BT'"></data>
						<data ng-if="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]] == undefined" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]] = [$tab_setup[0], $tab_setup[1], {}]"></data>
						<!-- / STATE VALIDATION -->

						<!-- TAB VALIDATION -->
						<data ng-if="$frame.layers[$nav[$data.editor.scope[0]][0]].enabled == false" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]][0] = $tab_setup[2]"></data>
						<data ng-if="$frame.layers[$nav[$data.editor.scope[0]][0]].enabled == false" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]][1] = $tab_setup[3]"></data>
						<data ng-if="$frame.layers[$nav[$data.editor.scope[0]][0]].enabled != false" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]][0] = $tab_setup[0]"></data>
						<!-- TAB VALIDATION -->

						<!-- SHORTCUTS -->
						<data ng-if="$scope = $nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]]"></data>
						<data ng-if="$wrapper_key = $nav[$data.editor.scope[0]][0]"></data>
						<data ng-if="$wrapper = $frame.layers[$nav[$data.editor.scope[0]][0]]"></data>
						<!-- / SHORTCUTS -->

						<block-menu class="tabs">
							<a ng-repeat="$tab in $tab_setup[0]" ng-click="$scope[1] = $tab" ng-class="{selected: ($scope[1] == $tab), disabled: (_.indexOf($scope[0], $tab) == -1)}">{{ ::  $dict['label_' + $tab] }}</a>
						</block-menu>

						<div ng-if="($scope[1] == 'text')">

							<!-- STATE VALIDATION -->
							<data ng-if="$nav[$data.editor.scope[0]][2] = 'TXT'"></data>
							<data ng-if="$nav[$data.editor.scope[0]][3] = 0"></data>
							<!-- / STATE VALIDATION -->

							<!-- SHORTCUTS -->
							<data ng-if="$holder_key = $nav[$data.editor.scope[0]][2]"></data>
							<data ng-if="$holder = $wrapper.layers[$wrapper_key + '_' + $holder_key]"></data>
							<data ng-if="$target_key = $nav[$data.editor.scope[0]][3]"></data>
							<data ng-if="$target = $wrapper.layers[$wrapper_key + '_' + $holder_key].layers[$target_key]"></data>

							<!-- / SHORTCUTS -->

							<!-- SHORTCUTS -->
							<data ng-if="$exceptions = $wrapper.layers[$wrapper_key + '_' + $holder_key].layers[$target_key].excepts"></data>
							<data ng-if="$exception_preset = $wrapper.layers[$wrapper_key + '_' + $holder_key].layers[$target_key].excepts.preset"></data>
							<!-- / SHORTCUTS -->

							<!-- VARIATIONS -->
							<data ng-init="$variation_setup = [_.concat(['default'], $variations['TL' + '_orient'], $variations['CV_tens'], $variations['CV_scale'], $variations['CV_size']), 'default', _.concat(['default'])]"></data>
							<!-- VARIATIONS -->

							<!-- VARIATION PICKER -->
							<block-group ng-class="{disabled: (_.size($scope[2][$scope[1]][0]) <= 1)}">

								<block-field title="{{ :: $dict.label_variation }} @" class="label">

									<!-- VARIATION VALIDATION -->
									<data ng-if="$scope[2][$scope[1]] == undefined" ng-init="$scope[2][$scope[1]] = [$variation_setup[0], $variation_setup[1]]"></data>
									<data ng-if="$holder && $holder.layers[$target_key] != undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[0]"></data>
									<data ng-if="$holder && $holder.layers[$target_key] == undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[2]"></data>
									<!-- VARIATION VALIDATION -->

									<!-- CLONE PRESET AS NEW EXCEPTION -->
									<data ng-if="$scope[2][$scope[1]][1] != 'default' && $exceptions && $exception_preset && $exceptions[$scope[2][$scope[1]][1]] == undefined" ng-init="$exceptions[$scope[2][$scope[1]][1]] = _.cloneDeep($exception_preset)"></data>
									<!-- / CLONE PRESET AS NEW EXCEPTION -->

									<dropdown-select model="$scope[2][$scope[1]][1]" ng-class="{'col-2-3' : ($exceptions && $scope[2][$scope[1]][1] != 'default')}">
										<optgroup label="{{ :: $dict.label_default }}">
											<option value="default">{{ :: $dict.label_default }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_element_orientation }}" ng-if="$variations['TL' + '_orient']">
											<option ng-repeat="$variation in $variations['TL' + '_orient']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_creative_tension }}" ng-if="$variations['CV_tens']">
											<option ng-repeat="$variation in $variations['CV_tens']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_creative_scale }}" ng-if="$variations['CV_scale']">
											<option ng-repeat="$variation in $variations['CV_scale']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_creative_size }}" ng-if="$variations['CV_size']">
											<option ng-repeat="$variation in $variations['CV_size']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] ? $dict['label_' + $variation] : _.replace($variation, 'CV_size_', '') }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
									</dropdown-select>

									<div ng-if="$exceptions && $scope[2][$scope[1]][1] != 'default'" class="col-1-3">
										<toggle-button model="$exceptions[$scope[2][$scope[1]][1]].enabled" on="On" off="Off"></toggle-button>
									</div>

									<block-info ng-if="(_.size($variation_setup[0]) <= 1)">
										<p>
											<small><q>
												{{ :: $dict.hint_variation_not_available }}
											</q></small>
										</p>
									</block-info>

									<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
										<p>
											<small><q>
												{{ :: $dict.hint_variation_default_required }}
											</q></small>
										</p>
									</block-info>

									<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
										<p>
											<small><q>
												{{ :: $dict.hint_variation_default_is }}
											</q></small>
										</p>
									</block-info>

									<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
										<p>
											<small>
												<q>{{ :: $dict.hint_variations_active }}</q>
												<span ng-repeat="($key, $exceptions) in $exceptions">
													<q ng-if="$exceptions.enabled && $exceptions.data"><a ng-click="$scope[2][$scope[1]][1] = $key">{{ $dict['label_' + $key] ? $dict['label_' + $key] : _.replace($key, 'CV_size_', '') }}</a>, </q>
												</span>
												<q><a ng-click="$scope[2][$scope[1]][1] = 'default'">{{ :: $dict.label_default }}</a></q>
											</small>
										</p>
									</block-info>

									<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
										<p ng-if="$relations[$scope[2][$scope[1]][1]]">
											<small>
												<q>
													{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_apply_asterisks }}
												</q>
											</small>
											<small>
												<q ng-repeat="$relation in $relations[$scope[2][$scope[1]][1]]"><a ng-click="$editor.changePreviewSize($relation)">{{ :: $relation }}</a>, </q>
												<q><a ng-click="$editor.changePreviewSize('RxR')">RxR</a></q>
											</small>
										</p>
										<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] == 'default'">
											<small>
												<q>
													{{ :: $dict.hint_variation_default_is }}
												</q>
											</small>
										</p>
										<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] != 'default'">
											<small>
												<q>
													{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_dynamic }}
												</q>
											</small>
										</p>
									</block-info>

								</block-field>

							</block-group>
							<!-- / VARIATION PICKER -->

							<!-- UPDATE DEFAULT PRESET VALUES -->
							<data ng-if="$scope[2][$scope[1]][1] != 'default' && $exception_preset.data.sources[0].text != $target.sources[0].text" ng-init="$exception_preset.data.sources[0].text = $target.sources[0].text"></data>
							<data ng-if="$scope[2][$scope[1]][1] != 'default' && $exception_preset.data.attrs[$nav[$data.editor.scope[0]][0] + '_style'].css['font-size'].value != $target.attrs[$nav[$data.editor.scope[0]][0] + '_style'].css['font-size'].value" ng-init="$exception_preset.data.attrs[$nav[$data.editor.scope[0]][0] + '_style'].css['font-size'].value = $target.attrs[$nav[$data.editor.scope[0]][0] + '_style'].css['font-size'].value"></data>
							<data ng-if="$scope[2][$scope[1]][1] != 'default' && $exception_preset.data.attrs[$nav[$data.editor.scope[0]][0] + '_size'].name != $target.attrs[$nav[$data.editor.scope[0]][0] + '_size'].name" ng-init="$exception_preset.data.attrs[$nav[$data.editor.scope[0]][0] + '_size'].name = $target.attrs[$nav[$data.editor.scope[0]][0] + '_size'].name"></data>
							<!-- / UPDATE DEFAULT PRESET VALUES -->

							<!-- ELEMENT SOURCE -->
							<block-group>

								<!--<block-field title="Text Origin" ng-if="$data.banner.feeds[0].enabled" ng-class="{disabled: ($scope[2][$scope[1]][1] != 'default')}">
									<toggle-button model="$target.feed.enabled" on="Use Feed" off="Custom Source"></toggle-button>
								</block-field>-->

								<block-field title="Text Source" ng-if="$scope[2][$scope[1]][1] == 'default'">
									<text-area model="$target.sources[0].text"></text-area>
									<block-info>
										<p>
											<small><q>{{ :: $dict.hint_text_area }} {{ :: $dict.hint_text_macros }}</q></small>
										</p>
									</block-info>
								</block-field>

								<block-field title="Text Source *" ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">
									<text-area placeholder="Value"
												model="$exceptions[$scope[2][$scope[1]][1]].data.sources[0].text"></text-area>
									<block-info>
										<p>
											<small><q>
												<a ng-click="$exceptions[$scope[2][$scope[1]][1]].data.sources[0].text = $target.sources[0].text">Clone</a> asset source from default variation.
											</q></small>
										</p>
										<p>
											<small><q>
												<small><q>{{ :: $dict.hint_text_area }} {{ :: $dict.hint_text_macros }}</q></small>
											</q></small>
										</p>
									</block-info>
								</block-field>

							</block-group>
							<!-- / ELEMENT SOURCE -->

							<!-- ELEMENT STYLE -->
							<block-group>

								<block-field title="Font Face" ng-class="{disabled: ($scope[2][$scope[1]][1] != 'default')}">
									<dropdown-select model="$target.attrs[$nav[$data.editor.scope[0]][0] + '_font'].name">
										<option ng-repeat="$font in $fonts" value="{{ $font[0] }}">{{ $font[1] }}</option>
									</dropdown-select>
								</block-field>

								<block-field title="Font Size" ng-if="$scope[2][$scope[1]][1] == 'default'">
									<number-slider model="$target.attrs[$nav[$data.editor.scope[0]][0] + '_style'].css['font-size'].value"
													min="0" max="6" length="1" index="x" left="Small" center="|" right="Large"
													pattern="^([0-6])$"></number-slider>
									<block-info>
										<p>
											<small><q>{{ $dict.hint_text_size }}</q></small>
										</p>
									</block-info>
								</block-field>

								<block-field title="Font Size *" ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">
									<number-slider model="$exceptions[$scope[2][$scope[1]][1]].data.attrs[$nav[$data.editor.scope[0]][0] + '_style'].css['font-size'].value"
													min="0" max="6" length="1" index="x" left="Small" center="|" right="Large"
													pattern="^([0-6])$"></number-slider>
									<block-info>
										<p>
											<small><q>{{ $dict.hint_text_size }}</q></small>
										</p>
									</block-info>
								</block-field>

							</block-group>
							<!-- / ELEMENT STYLE -->

						</div>

						<div ng-if="($scope[1] == 'appear')">

							<!-- STATE VALIDATION -->
							<data ng-if="$nav[$data.editor.scope[0]][2] = null"></data>
							<data ng-if="$nav[$data.editor.scope[0]][3] = null"></data>
							<!-- / STATE VALIDATION -->

							<!-- SHORTCUTS -->
							<data ng-if="$holder_key = null"></data>
							<data ng-if="$holder = null"></data>
							<data ng-if="$target_key = null"></data>
							<data ng-if="$target = null"></data>
							<!-- / SHORTCUTS -->

							<!-- SHORTCUTS -->
							<data ng-if="$exceptions = null"></data>
							<data ng-if="$exception_preset = null"></data>
							<!-- / SHORTCUTS -->

							<!-- VARIATIONS -->
							<data ng-init="$variation_setup = [_.concat(['default']), 'default', _.concat(['default'])]"></data>
							<!-- VARIATIONS -->

							<!-- VARIATION PICKER -->
							<block-group ng-class="{disabled: (_.size($scope[2][$scope[1]][0]) <= 1)}">

								<block-field title="{{ :: $dict.label_variation }} @" class="label">

									<!-- VARIATION VALIDATION -->
									<data ng-if="$scope[2][$scope[1]] == undefined" ng-init="$scope[2][$scope[1]] = [$variation_setup[0], $variation_setup[1]]"></data>
									<data ng-if="$holder && $holder.layers[$target_key] != undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[0]"></data>
									<data ng-if="$holder && $holder.layers[$target_key] == undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[2]"></data>
									<!-- VARIATION VALIDATION -->

									<!-- CLONE PRESET AS NEW EXCEPTION -->
									<data ng-if="$scope[2][$scope[1]][1] != 'default' && $exceptions && $exception_preset && $exceptions[$scope[2][$scope[1]][1]] == undefined" ng-init="$exceptions[$scope[2][$scope[1]][1]] = _.cloneDeep($exception_preset)"></data>
									<!-- / CLONE PRESET AS NEW EXCEPTION -->

									<dropdown-select model="$scope[2][$scope[1]][1]" ng-class="{'col-2-3' : ($exceptions && $scope[2][$scope[1]][1] != 'default')}">
										<optgroup label="{{ :: $dict.label_default }}">
											<option value="default">{{ :: $dict.label_default }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_element_orientation }}" ng-if="$variations[$wrapper_key + '_orient']">
											<option ng-repeat="$variation in $variations[$wrapper_key + '_orient']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_creative_tension }}" ng-if="$variations['CV_tens']">
											<option ng-repeat="$variation in $variations['CV_tens']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_creative_scale }}" ng-if="$variations['CV_scale']">
											<option ng-repeat="$variation in $variations['CV_scale']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_creative_size }}" ng-if="$variations['CV_size']">
											<option ng-repeat="$variation in $variations['CV_size']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] ? $dict['label_' + $variation] : _.replace($variation, 'CV_size_', '') }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
									</dropdown-select>

									<div ng-if="$exceptions && $scope[2][$scope[1]][1] != 'default'" class="col-1-3">
										<toggle-button model="$exceptions[$scope[2][$scope[1]][1]].enabled" on="On" off="Off"></toggle-button>
									</div>

									<block-info ng-if="(_.size($variation_setup[0]) <= 1)">
										<p>
											<small><q>
												{{ :: $dict.hint_variation_not_available }}
											</q></small>
										</p>
									</block-info>

									<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
										<p>
											<small><q>
												{{ :: $dict.hint_variation_default_required }}
											</q></small>
										</p>
									</block-info>

									<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
										<p>
											<small><q>
												{{ :: $dict.hint_variation_default_is }}
											</q></small>
										</p>
									</block-info>

									<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
										<p>
											<small>
												<q>{{ :: $dict.hint_variations_active }}</q>
												<span ng-repeat="($key, $exceptions) in $exceptions">
													<q ng-if="$exceptions.enabled && $exceptions.data"><a ng-click="$scope[2][$scope[1]][1] = $key">{{ $dict['label_' + $key] ? $dict['label_' + $key] : _.replace($key, 'CV_size_', '') }}</a>, </q>
												</span>
												<q><a ng-click="$scope[2][$scope[1]][1] = 'default'">{{ :: $dict.label_default }}</a></q>
											</small>
										</p>
									</block-info>

									<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
										<p ng-if="$relations[$scope[2][$scope[1]][1]]">
											<small>
												<q>
													{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_apply_asterisks }}
												</q>
											</small>
											<small>
												<q ng-repeat="$relation in $relations[$scope[2][$scope[1]][1]]"><a ng-click="$editor.changePreviewSize($relation)">{{ :: $relation }}</a>, </q>
												<q><a ng-click="$editor.changePreviewSize('RxR')">RxR</a></q>
											</small>
										</p>
										<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] == 'default'">
											<small>
												<q>
													{{ :: $dict.hint_variation_default_is }}
												</q>
											</small>
										</p>
										<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] != 'default'">
											<small>
												<q>
													{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_dynamic }}
												</q>
											</small>
										</p>
									</block-info>

								</block-field>

							</block-group>
							<!-- / VARIATION PICKER -->

							<!-- VISIBILITY PICKER -->
							<!--<block-group ng-class="{disabled: ($scope[2][$scope[1]][1] != 'default')}">-->
							<block-group>

								<block-field title="Element Visibility">
									<toggle-button model="$wrapper.enabled" on="Visible" off="Hidden"></toggle-button>
								</block-field>

							</block-group>
							<!-- / VISIBILITY PICKER -->

							<!-- APPEARANCE PICKER -->
							<!--<block-group ng-class="{disabled: (!$wrapper.enabled)}" class="disabled">-->
							<block-group ng-class="{disabled: (!$wrapper.enabled || $scope[2][$scope[1]][1] != 'default')}">

								<block-field title="Element Color">
									<dropdown-select model="$wrapper.layers[$wrapper_key + '_' + 'TXT'].layers[0].macros[$wrapper_key + '_color'].value">
										<option value="default">Default</option>
										<option value="blue">Blue</option>
										<option value="pink">Pink</option>
										<option value="yellow">Yellow</option>
										<option value="white">White</option>
									</dropdown-select>
								</block-field>

							</block-group>
							<!-- / APPEARANCE PICKER -->

							<block-field title="Overlay Opacity">
								<number-slider model="$wrapper.layers[$wrapper_key + '_' + 'TXT'].layers[0].attrs.style_SHD.css.opacity.value"
												min="0" max="100" length="3" index="%" left="Transparent" center="|" right="Visible" pattern="^\d+"></number-slider>
							</block-field>

						</div>

			</block-group>

			<block-toggle title="Condition" class="toggle" ng-class="{selected: ($data.editor.scope[1].indexOf('CN') != -1)}"
							ng-click="$data.editor.scope[1] = (($data.editor.scope[1] == 'CN') ? '' : 'CN')">
			</block-toggle>
			<block-group ng-if="($data.editor.scope[1].indexOf('CN') != -1)">

				<data ng-if="$frame = $data.banner.layers.CV.layers.WR"></data>

				<!-- TABS -->
				<data ng-init="$tab_setup = [['text', 'appear'], 'text', ['appear'], 'appear']"></data>
				<!-- / TABS -->
				<!-- STATE VALIDATION -->
				<data ng-if="$nav[$data.editor.scope[0]][0] = 'CN'"></data>
				<data ng-if="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]] == undefined" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]] = [$tab_setup[0], $tab_setup[1], {}]"></data>
				<!-- / STATE VALIDATION -->

				<!-- TAB VALIDATION -->
				<data ng-if="$frame.layers[$nav[$data.editor.scope[0]][0]].enabled == false" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]][0] = $tab_setup[2]"></data>
				<data ng-if="$frame.layers[$nav[$data.editor.scope[0]][0]].enabled == false" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]][1] = $tab_setup[3]"></data>
				<data ng-if="$frame.layers[$nav[$data.editor.scope[0]][0]].enabled != false" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]][0] = $tab_setup[0]"></data>
				<!-- TAB VALIDATION -->

				<!-- SHORTCUTS -->
				<data ng-if="$scope = $nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]]"></data>
				<data ng-if="$wrapper_key = $nav[$data.editor.scope[0]][0]"></data>
				<data ng-if="$wrapper = $frame.layers[$nav[$data.editor.scope[0]][0]]"></data>
				<!-- / SHORTCUTS -->

				<block-menu class="tabs">
					<a ng-repeat="$tab in $tab_setup[0]" ng-click="$scope[1] = $tab" ng-class="{selected: ($scope[1] == $tab), disabled: (_.indexOf($scope[0], $tab) == -1)}">{{ ::  $dict['label_' + $tab] }}</a>
				</block-menu>

				<div ng-if="($scope[1] == 'text')">

					<!-- STATE VALIDATION -->
					<data ng-if="$nav[$data.editor.scope[0]][2] = 'TXT'"></data>
					<data ng-if="$nav[$data.editor.scope[0]][3] = 1"></data>
					<!-- / STATE VALIDATION -->

					<!-- SHORTCUTS -->
					<data ng-if="$holder_key = $nav[$data.editor.scope[0]][2]"></data>
					<data ng-if="$holder = $wrapper.layers[$wrapper_key + '_' + $holder_key]"></data>
					<data ng-if="$target_key = 1"></data>
					<data ng-if="$target = $wrapper.layers[$wrapper_key + '_' + $holder_key].layers[$target_key]"></data>
					<!-- / SHORTCUTS -->

					<!-- SHORTCUTS -->
					<data ng-if="$exceptions = $wrapper.layers[$wrapper_key + '_' + $holder_key].layers[$target_key].excepts"></data>
					<data ng-if="$exception_preset = $wrapper.layers[$wrapper_key + '_' + $holder_key].layers[$target_key].excepts.preset"></data>
					<!-- / SHORTCUTS -->

					<!-- VARIATIONS -->
					<data ng-init="$variation_setup = [_.concat(['default'], $variations['CV_tens'], $variations['CV_scale'], $variations['CV_size']), 'default', _.concat(['default'])]"></data>
					<!-- VARIATIONS -->

					<!-- VARIATION PICKER -->
					<block-group ng-class="{disabled: (_.size($scope[2][$scope[1]][0]) <= 1)}">

						<block-field title="{{ :: $dict.label_variation }} @" class="label">

							<!-- VARIATION VALIDATION -->
							<data ng-if="$scope[2][$scope[1]] == undefined" ng-init="$scope[2][$scope[1]] = [$variation_setup[0], $variation_setup[1]]"></data>
							<data ng-if="$holder && $holder.layers[$target_key] != undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[0]"></data>
							<data ng-if="$holder && $holder.layers[$target_key] == undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[2]"></data>
							<!-- VARIATION VALIDATION -->

							<!-- CLONE PRESET AS NEW EXCEPTION -->
							<data ng-if="$scope[2][$scope[1]][1] != 'default' && $exceptions && $exception_preset && $exceptions[$scope[2][$scope[1]][1]] == undefined" ng-init="$exceptions[$scope[2][$scope[1]][1]] = _.cloneDeep($exception_preset)"></data>
							<!-- / CLONE PRESET AS NEW EXCEPTION -->

							<dropdown-select model="$scope[2][$scope[1]][1]" ng-class="{'col-2-3' : ($exceptions && $scope[2][$scope[1]][1] != 'default')}">
								<optgroup label="{{ :: $dict.label_default }}">
									<option value="default">{{ :: $dict.label_default }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_element_orientation }}" ng-if="$variations[$wrapper_key + '_orient']">
									<option ng-repeat="$variation in $variations[$wrapper_key + '_orient']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_creative_tension }}" ng-if="$variations['CV_tens']">
									<option ng-repeat="$variation in $variations['CV_tens']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_creative_scale }}" ng-if="$variations['CV_scale']">
									<option ng-repeat="$variation in $variations['CV_scale']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_creative_size }}" ng-if="$variations['CV_size']">
									<option ng-repeat="$variation in $variations['CV_size']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] ? $dict['label_' + $variation] : _.replace($variation, 'CV_size_', '') }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
							</dropdown-select>

							<div ng-if="$exceptions && $scope[2][$scope[1]][1] != 'default'">
								<toggle-button model="$exceptions[$scope[2][$scope[1]][1]].enabled" on="On" off="Off"></toggle-button>
							</div>

							<block-info ng-if="(_.size($variation_setup[0]) <= 1)">
								<p>
									<small><q>
										{{ :: $dict.hint_variation_not_available }}
									</q></small>
								</p>
							</block-info>

							<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
								<p>
									<small><q>
										{{ :: $dict.hint_variation_default_required }} {{ :: $dict.hint_variation_default_is }}
									</q></small>
								</p>
							</block-info>

							<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
								<p>
									<small>
										<q>{{ :: $dict.hint_variations_active }}</q>
										<span ng-repeat="($key, $exceptions) in $exceptions">
											<q ng-if="$exceptions.enabled && $exceptions.data"><a ng-click="$scope[2][$scope[1]][1] = $key">{{ $dict['label_' + $key] ? $dict['label_' + $key] : _.replace($key, 'CV_size_', '') }}</a>, </q>
										</span>
										<q><a ng-click="$scope[2][$scope[1]][1] = 'default'">{{ :: $dict.label_default }}</a></q>
									</small>
								</p>
							</block-info>

							<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
								<p ng-if="$relations[$scope[2][$scope[1]][1]]">
									<small>
										<q>
											{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_apply_asterisks }}
										</q>
									</small>
									<small>
										<q ng-repeat="$relation in $relations[$scope[2][$scope[1]][1]]"><a ng-click="$editor.changePreviewSize($relation)">{{ :: $relation }}</a>, </q>
										<q><a ng-click="$editor.changePreviewSize('RxR')">RxR</a></q>
									</small>
								</p>
								<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] == 'default'">
									<small>
										<q>
											{{ :: $dict.hint_variation_default_is }}
										</q>
									</small>
								</p>
								<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] != 'default'">
									<small>
										<q>
											{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_dynamic }}
										</q>
									</small>
								</p>
							</block-info>

						</block-field>

					</block-group>
					<!-- / VARIATION PICKER -->

					<!-- ELEMENT SOURCE -->
					<block-group>
							<block-field title="Text Source" ng-if="$scope[2][$scope[1]][1] == 'default'">
								<text-area placeholder="Value"
											model="$target.sources[0].text"></text-area>
								<block-info>
									<p>
										<small><q>{{ :: $dict.hint_text_area }} <!--{{ :: $dict.hint_text_macros }}--></q></small>
									</p>
								</block-info>
							</block-field>

						<block-field title="Text Source *" ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">
							<text-field placeholder="Value"
										model="$exceptions[$scope[2][$scope[1]][1]].data.sources[0].text"></text-field>
							<block-info>
								<p>
									<small><q>
										<a ng-click="$exceptions[$scope[2][$scope[1]][1]].data.sources[0].text = $target.sources[0].text">Clone</a> asset source from default variation.
									</q></small>
								</p>
								<p>
									<small><q>
										<small><q>{{ :: $dict.hint_text_field }} <!--{{ :: $dict.hint_text_macros }}--></q></small>
									</q></small>
								</p>
							</block-info>
						</block-field>

						<block-field title="Text Transform" ng-class="{disabled: ($scope[2][$scope[1]][1] != 'default')}">
							<dropdown-select model="$target.attrs[$nav[$data.editor.scope[0]][0] + '_TXT_style'].css['text-transform']">
								<option value="none">None</option>
								<option value="uppercase">Uppercase</option>
							</dropdown-select>
						</block-field>

					</block-group>
					<!-- / ELEMENT SOURCE -->

					<!-- ELEMENT STYLE -->
					<block-group>

						<block-field title="Font Face" ng-class="{disabled: ($scope[2][$scope[1]][1] != 'default')}">
							<dropdown-select model="$target.attrs[$nav[$data.editor.scope[0]][0] + '_TXT_font'].name">
								<option ng-repeat="$font in $fonts" value="{{ $font[0] }}">{{ $font[1] }}</option>
							</dropdown-select>
						</block-field>

						<block-field title="Font Size" ng-if="$scope[2][$scope[1]][1] == 'default'">
							<number-slider model="$target.attrs[$nav[$data.editor.scope[0]][0] + '_TXT_style'].css['font-size'].value"
											min="0" max="6" length="1" index="x" left="Small" center="|" right="Large"
											pattern="^([0-6])$"></number-slider>
							<block-info>
								<p>
									<small><q>{{ $dict.hint_text_size }}</q></small>
								</p>
							</block-info>
						</block-field>

						<block-field title="Font Size *" ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">
							<number-slider model="$exceptions[$scope[2][$scope[1]][1]].data.attrs[$nav[$data.editor.scope[0]][0] + '_TXT_style'].css['font-size'].value"
											min="0" max="6" length="1" index="x" left="Small" center="|" right="Large"
											pattern="^([0-6])$"></number-slider>
							<block-info>
								<p>
									<small><q>{{ $dict.hint_text_size }}</q></small>
								</p>
							</block-info>
						</block-field>

					</block-group>

					<!-- / ELEMENT STYLE -->

				</div>

				<div ng-if="($scope[1] == 'appear')">

					<!-- STATE VALIDATION -->
					<data ng-if="$nav[$data.editor.scope[0]][2] = null"></data>
					<data ng-if="$nav[$data.editor.scope[0]][3] = null"></data>
					<!-- / STATE VALIDATION -->

					<!-- SHORTCUTS -->
					<data ng-if="$holder_key = null"></data>
					<data ng-if="$holder = null"></data>
					<data ng-if="$target_key = null"></data>
					<data ng-if="$target = null"></data>
					<!-- / SHORTCUTS -->

					<!-- SHORTCUTS -->
					<data ng-if="$exceptions = null"></data>
					<data ng-if="$exception_preset = null"></data>
					<!-- / SHORTCUTS -->

					<!-- VARIATIONS -->
					<data ng-init="$variation_setup = [_.concat(['default']), 'default', _.concat(['default'])]"></data>
					<!-- VARIATIONS -->

					<!-- VARIATION PICKER -->
					<block-group ng-class="{disabled: (_.size($scope[2][$scope[1]][0]) <= 1)}">

						<block-field title="{{ :: $dict.label_variation }} @" class="label">

							<!-- VARIATION VALIDATION -->
							<data ng-if="$scope[2][$scope[1]] == undefined" ng-init="$scope[2][$scope[1]] = [$variation_setup[0], $variation_setup[1]]"></data>
							<data ng-if="$holder && $holder.layers[$target_key] != undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[0]"></data>
							<data ng-if="$holder && $holder.layers[$target_key] == undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[2]"></data>
							<!-- VARIATION VALIDATION -->

							<!-- CLONE PRESET AS NEW EXCEPTION -->
							<data ng-if="$scope[2][$scope[1]][1] != 'default' && $exceptions && $exception_preset && $exceptions[$scope[2][$scope[1]][1]] == undefined" ng-init="$exceptions[$scope[2][$scope[1]][1]] = _.cloneDeep($exception_preset)"></data>
							<!-- / CLONE PRESET AS NEW EXCEPTION -->

							<dropdown-select model="$scope[2][$scope[1]][1]" ng-class="{'col-2-3' : ($exceptions && $scope[2][$scope[1]][1] != 'default')}">
								<optgroup label="{{ :: $dict.label_default }}">
									<option value="default">{{ :: $dict.label_default }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_element_orientation }}" ng-if="$variations[$wrapper_key + '_orient']">
									<option ng-repeat="$variation in $variations[$wrapper_key + '_orient']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_creative_tension }}" ng-if="$variations['CV_tens']">
									<option ng-repeat="$variation in $variations['CV_tens']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_creative_scale }}" ng-if="$variations['CV_scale']">
									<option ng-repeat="$variation in $variations['CV_scale']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
								<optgroup label="{{ :: $dict.label_creative_size }}" ng-if="$variations['CV_size']">
									<option ng-repeat="$variation in $variations['CV_size']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] ? $dict['label_' + $variation] : _.replace($variation, 'CV_size_', '') }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
								</optgroup>
							</dropdown-select>

							<div ng-if="$exceptions && $scope[2][$scope[1]][1] != 'default'">
								<toggle-button model="$exceptions[$scope[2][$scope[1]][1]].enabled" on="On" off="Off"></toggle-button>
							</div>

							<block-info ng-if="(_.size($variation_setup[0]) <= 1)">
								<p>
									<small><q>
										{{ :: $dict.hint_variation_not_available }}
									</q></small>
								</p>
							</block-info>

							<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
								<p>
									<small><q>
										{{ :: $dict.hint_variation_default_required }} {{ :: $dict.hint_variation_default_is }}
									</q></small>
								</p>
							</block-info>

							<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
								<p>
									<small>
										<q>{{ :: $dict.hint_variations_active }}</q>
										<span ng-repeat="($key, $exceptions) in $exceptions">
											<q ng-if="$exceptions.enabled && $exceptions.data"><a ng-click="$scope[2][$scope[1]][1] = $key">{{ $dict['label_' + $key] ? $dict['label_' + $key] : _.replace($key, 'CV_size_', '') }}</a>, </q>
										</span>
										<q><a ng-click="$scope[2][$scope[1]][1] = 'default'">{{ :: $dict.label_default }}</a></q>
									</small>
								</p>
							</block-info>

							<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
								<p ng-if="$relations[$scope[2][$scope[1]][1]]">
									<small>
										<q>
											{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_apply_asterisks }}
										</q>
									</small>
									<small>
										<q ng-repeat="$relation in $relations[$scope[2][$scope[1]][1]]"><a ng-click="$editor.changePreviewSize($relation)">{{ :: $relation }}</a>, </q>
										<q><a ng-click="$editor.changePreviewSize('RxR')">RxR</a></q>
									</small>
								</p>
								<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] == 'default'">
									<small>
										<q>
											{{ :: $dict.hint_variation_default_is }}
										</q>
									</small>
								</p>
								<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] != 'default'">
									<small>
										<q>
											{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_dynamic }}
										</q>
									</small>
								</p>
							</block-info>

						</block-field>

					</block-group>
					<!-- / VARIATION PICKER -->

					<!-- VISIBILITY PICKER -->
					<!--<block-group ng-class="{disabled: ($scope[2][$scope[1]][1] != 'default')}">-->
					<block-group>
						<block-field title="Element Visibility">
							<toggle-button model="$wrapper.enabled" on="Visible" off="Hidden"></toggle-button>
						</block-field>

					</block-group>
					<!-- / VISIBILITY PICKER -->

					<block-group>
						
						<block-field title="Overlay Opacity">
							<number-slider model="$wrapper.layers[$wrapper_key + '_' + 'TXT'].layers[1].attrs.style_SHD.css.opacity.value"
										   min="0" max="100" length="3" index="%" left="Transparent" center="|" right="Visible" pattern="^\d+"></number-slider>
						</block-field>

					</block-group>

				</div>

			</block-group>

		</block-group>
		<!-- / COMMON ELEMENTS -->

		<!-- SEQUENCED ELEMENTS -->
		<block-group>

			<frames-block ng-model="$data.banner.layers.CV.layers.WR.layers.SQ"
						  default-settings="$data.banner.layers.CV.layers.WR.layers.SQ.params"
						  default-frame-data="$data.banner.layers.CV.layers.WR.layers.SQ.frames[0]">

				<!-- FRAME INDEX VALIDATION -->
				<data ng-init="$frame_selected = false"></data>
				<data ng-if="$frame_selected === false" ng-init="$frame_selected = true; $frames.go($data.editor.frame);"></data>
				<data ng-if="$data.editor.frame !== $frames.index" ng-init="$data.editor.frame = $frames.index"></data>
				<!-- / FRAME INDEX VALIDATION -->

				<!-- SECONDARY FOREGROUND IMAGE VALIDATION -->
				<data ng-if="$frame.layers['ZG'].layers['ZG_IMG'].layers[0] && $frame.layers['ZG'].enabled == false" ng-init="$frame.layers['ZG'].enabled = true"></data>
				<data ng-if="!$frame.layers['ZG'].layers['ZG_IMG'].layers[0] && $frame.layers['ZG'].enabled == true" ng-init="$frame.layers['ZG'].enabled = false"></data>
				<data ng-repeat="$item in ['mask_type', 'limit_min', 'limit_max', 'ratio']" ng-if="$frame.layers['ZG'].macros['ZG_' + $item].value != $frame.layers['FG'].macros['FG_' + $item].value" ng-init="$frame.layers['ZG'].macros['ZG_' + $item].value = $frame.layers['FG'].macros['FG_' + $item].value"></data>
				<!-- / SECONDARY FOREGROUND IMAGE VALIDATION -->

				<block-field title="Sequenced Elements" class="label"></block-field>

				<frames-block-controls class="no-start-time no-stop-time no-stop-on no-duration"></frames-block-controls>

				<block-toggle title="Frame" class="toggle" ng-class="{selected: ($data.editor.scope[1].indexOf('SQ') != -1)}"
							  ng-click="$data.editor.scope[1] = (($data.editor.scope[1] == 'SQ') ? '' : 'SQ')"></block-toggle>
				<!--<block-group ng-if="($data.editor.scope[1].indexOf('SQ') != -1)">

					&lt;!&ndash; TABS &ndash;&gt;
					<data ng-init="$tab_setup = [['settings'], 'settings', ['appear'], 'appear']"></data>
					&lt;!&ndash; / TABS &ndash;&gt;

					&lt;!&ndash; STATE VALIDATION &ndash;&gt;
					<data ng-if="$nav[$data.editor.scope[0]][0] = 'SQ'"></data>
					<data ng-if="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]] == undefined" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]] = [$tab_setup[0], $tab_setup[1], {}]"></data>
					&lt;!&ndash; / STATE VALIDATION &ndash;&gt;

					&lt;!&ndash; TAB VALIDATION &ndash;&gt;
					<data ng-if="$frame.layers[$nav[$data.editor.scope[0]][0]].enabled == false" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]][0] = $tab_setup[2]"></data>
					<data ng-if="$frame.layers[$nav[$data.editor.scope[0]][0]].enabled == false" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]][1] = $tab_setup[3]"></data>
					<data ng-if="$frame.layers[$nav[$data.editor.scope[0]][0]].enabled != false" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]][0] = $tab_setup[0]"></data>
					&lt;!&ndash; TAB VALIDATION &ndash;&gt;

					&lt;!&ndash; SHORTCUTS &ndash;&gt;
					<data ng-if="$scope = $nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]]"></data>
					<data ng-if="$wrapper_key = $nav[$data.editor.scope[0]][0]"></data>
					<data ng-if="$wrapper = $frame.layers[$nav[$data.editor.scope[0]][0]]"></data>
					&lt;!&ndash; / SHORTCUTS &ndash;&gt;

					<block-menu class="tabs">
						<a ng-repeat="$tab in $tab_setup[0]" ng-click="$scope[1] = $tab" ng-class="{selected: ($scope[1] == $tab), disabled: (_.indexOf($scope[0], $tab) == -1)}">{{ ::  $dict['label_' + $tab] }}</a>
					</block-menu>

					<div ng-if="($scope[1] == 'settings')">

						&lt;!&ndash; STATE VALIDATION &ndash;&gt;
						<data ng-if="$nav[$data.editor.scope[0]][2] = null"></data>
						<data ng-if="$nav[$data.editor.scope[0]][3] = null"></data>
						&lt;!&ndash; / STATE VALIDATION &ndash;&gt;

						&lt;!&ndash; SHORTCUTS &ndash;&gt;
						<data ng-if="$holder_key = null"></data>
						<data ng-if="$holder = null"></data>
						<data ng-if="$target_key = null"></data>
						<data ng-if="$target = null"></data>
						&lt;!&ndash; / SHORTCUTS &ndash;&gt;

						&lt;!&ndash; SHORTCUTS &ndash;&gt;
						<data ng-if="$exceptions = null"></data>
						<data ng-if="$exception_preset = null"></data>
						&lt;!&ndash; / SHORTCUTS &ndash;&gt;

						&lt;!&ndash; VARIATIONS &ndash;&gt;
						<data ng-init="$variation_setup = [_.concat(['default']), 'default', _.concat(['default'])]"></data>
						&lt;!&ndash; VARIATIONS &ndash;&gt;

						&lt;!&ndash; VARIATION PICKER &ndash;&gt;
						<block-group ng-class="{disabled: (_.size($scope[2][$scope[1]][0]) <= 1)}">

							<block-field title="{{ :: $dict.label_variation }} @" class="label">

								&lt;!&ndash; VARIATION VALIDATION &ndash;&gt;
								<data ng-if="$scope[2][$scope[1]] == undefined" ng-init="$scope[2][$scope[1]] = [$variation_setup[0], $variation_setup[1]]"></data>
								<data ng-if="$holder && $holder.layers[$target_key] != undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[0]"></data>
								<data ng-if="$holder && $holder.layers[$target_key] == undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[2]"></data>
								&lt;!&ndash; VARIATION VALIDATION &ndash;&gt;

								&lt;!&ndash; CLONE PRESET AS NEW EXCEPTION &ndash;&gt;
								<data ng-if="$scope[2][$scope[1]][1] != 'default' && $exceptions && $exception_preset && $exceptions[$scope[2][$scope[1]][1]] == undefined" ng-init="$exceptions[$scope[2][$scope[1]][1]] = _.cloneDeep($exception_preset)"></data>
								&lt;!&ndash; / CLONE PRESET AS NEW EXCEPTION &ndash;&gt;

								<dropdown-select model="$scope[2][$scope[1]][1]" ng-class="{'col-2-3' : ($exceptions && $scope[2][$scope[1]][1] != 'default')}">
									<optgroup label="{{ :: $dict.label_default }}">
										<option value="default">{{ :: $dict.label_default }}</option>
									</optgroup>
									<optgroup label="{{ :: $dict.label_element_orientation }}" ng-if="$variations[$wrapper_key + '_orient']">
										<option ng-repeat="$variation in $variations[$wrapper_key + '_orient']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
									</optgroup>
									<optgroup label="{{ :: $dict.label_creative_tension }}" ng-if="$variations['CV_tens']">
										<option ng-repeat="$variation in $variations['CV_tens']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
									</optgroup>
									<optgroup label="{{ :: $dict.label_creative_scale }}" ng-if="$variations['CV_scale']">
										<option ng-repeat="$variation in $variations['CV_scale']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
									</optgroup>
									<optgroup label="{{ :: $dict.label_creative_size }}" ng-if="$variations['CV_size']">
										<option ng-repeat="$variation in $variations['CV_size']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] ? $dict['label_' + $variation] : _.replace($variation, 'CV_size_', '') }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
									</optgroup>
								</dropdown-select>

								<div ng-if="$exceptions && $scope[2][$scope[1]][1] != 'default'" class="col-1-3">
									<toggle-button model="$exceptions[$scope[2][$scope[1]][1]].enabled" on="On" off="Off"></toggle-button>
								</div>

								<block-info ng-if="(_.size($variation_setup[0]) <= 1)">
									<p>
										<small><q>
											{{ :: $dict.hint_variation_not_available }}
										</q></small>
									</p>
								</block-info>

								<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
									<p>
										<small><q>
											{{ :: $dict.hint_variation_default_required }}
										</q></small>
									</p>
								</block-info>

								<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
									<p>
										<small><q>
											{{ :: $dict.hint_variation_default_is }}
										</q></small>
									</p>
								</block-info>

								<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
									<p>
										<small>
											<q>{{ :: $dict.hint_variations_active }}</q>
											<span ng-repeat="($key, $exceptions) in $exceptions">
												<q ng-if="$exceptions.enabled && $exceptions.data"><a ng-click="$scope[2][$scope[1]][1] = $key">{{ $dict['label_' + $key] ? $dict['label_' + $key] : _.replace($key, 'CV_size_', '') }}</a>, </q>
											</span>
											<q><a ng-click="$scope[2][$scope[1]][1] = 'default'">{{ :: $dict.label_default }}</a></q>
										</small>
									</p>
								</block-info>

								<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
									<p ng-if="$relations[$scope[2][$scope[1]][1]]">
										<small>
											<q>
												{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_apply_asterisks }}
											</q>
										</small>
										<small>
											<q ng-repeat="$relation in $relations[$scope[2][$scope[1]][1]]"><a ng-click="$editor.changePreviewSize($relation)">{{ :: $relation }}</a>, </q>
											<q><a ng-click="$editor.changePreviewSize('RxR')">RxR</a></q>
										</small>
									</p>
									<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] == 'default'">
										<small>
											<q>
												{{ :: $dict.hint_variation_default_is }}
											</q>
										</small>
									</p>
									<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] != 'default'">
										<small>
											<q>
												{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_dynamic }}
											</q>
										</small>
									</p>
								</block-info>

							</block-field>

						</block-group>
						&lt;!&ndash; / VARIATION PICKER &ndash;&gt;

						&lt;!&ndash; FRAME SETTINGS &ndash;&gt;
						<block-group>

							<frames-block-controls class="no-start-time no-stop-time no-stop-on no-frames"></frames-block-controls>

							&lt;!&ndash;<block-field title="Frame Delay">
								<number-slider model="$frame.macros['SQ_anim_delay'].value"
											   min="0" max="1000" length="4" index="ms" left="Min" center="|" right="Max"
											   pattern="^\d+"></number-slider>
							</block-field>&ndash;&gt;

							<block-field title="Frame Layout">
								<dropdown-select model="$frame.macros.SQ_layout.value">
									<option value="product">Product</option>
									<option value="message">Message</option>
								</dropdown-select>
							</block-field>

						</block-group>
						&lt;!&ndash; / FRAME SETTINGS &ndash;&gt;

						&lt;!&ndash; FRAME SHORTCUTS &ndash;&gt;
						<block-group>

							<block-field title="Title Source" ng-if="$frames.macros['SQ_layout'].value == 'message'">
								<text-field placeholder="Value" model="$frame.layers['TL'].layers['TL_TXT'].layers[0].sources[0].text"></text-field>
							</block-field>

							<block-field title="Title Source" ng-if="$frames.macros['SQ_layout'].value == 'product'">
								<text-field placeholder="Value" model="$frame.layers['NM'].layers['NM_TXT'].layers[0].sources[0].text"></text-field>
							</block-field>

						</block-group>
						&lt;!&ndash; / FRAME SHORTCUTS &ndash;&gt;

						&lt;!&ndash; / FRAME DESTINATION &ndash;&gt;
						<block-group>

							<block-field title="Destination URL" ng-class="{disabled: (!$data.banner.clicktag.override)}">
								<text-field placeholder="{{ $data.banner.clicktag.url }}" model="$frame.clicktag.url"
											pattern="https?\:\/\/.+|\$\[dest_url\]|\$\{dest_url\}"></text-field>
							</block-field>

						</block-group>
						&lt;!&ndash; / FRAME DESTINATION &ndash;&gt;

					</div>

					<div ng-if="($scope[1] == 'appear')">

						&lt;!&ndash; STATE VALIDATION &ndash;&gt;
						<data ng-if="$nav[$data.editor.scope[0]][2] = null"></data>
						<data ng-if="$nav[$data.editor.scope[0]][3] = null"></data>
						&lt;!&ndash; / STATE VALIDATION &ndash;&gt;

						&lt;!&ndash; SHORTCUTS &ndash;&gt;
						<data ng-if="$holder_key = $frames.index"></data>
						<data ng-if="$holder = $wrapper.frames[$frames.index]"></data>
						<data ng-if="$target_key = null"></data>
						<data ng-if="$target = null"></data>
						&lt;!&ndash; / SHORTCUTS &ndash;&gt;

						&lt;!&ndash; SHORTCUTS &ndash;&gt;
						<data ng-if="$exceptions = $frame.excepts"></data>
						<data ng-if="$exception_preset = $frame.excepts.preset"></data>
						&lt;!&ndash; / SHORTCUTS &ndash;&gt;

						&lt;!&ndash; VARIATIONS &ndash;&gt;
						<data ng-init="$variation_setup = [_.concat(['default'], $variations['CV_tens'], $variations['CV_scale'], $variations['CV_size']), 'default', _.concat(['default'])]"></data>
						&lt;!&ndash; VARIATIONS &ndash;&gt;

						&lt;!&ndash; VARIATION PICKER &ndash;&gt;
						<block-group ng-class="{disabled: (_.size($scope[2][$scope[1]][0]) <= 1)}">

							<block-field title="{{ :: $dict.label_variation }} @" class="label">

								&lt;!&ndash; VARIATION VALIDATION &ndash;&gt;
								<data ng-if="$scope[2][$scope[1]] == undefined" ng-init="$scope[2][$scope[1]] = [$variation_setup[0], $variation_setup[1]]"></data>
								<data ng-if="$holder && $holder.layers[$target_key] != undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[0]"></data>
								<data ng-if="$holder && $holder.layers[$target_key] == undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[2]"></data>
								&lt;!&ndash; VARIATION VALIDATION &ndash;&gt;

								&lt;!&ndash; CLONE PRESET AS NEW EXCEPTION &ndash;&gt;
								<data ng-if="$scope[2][$scope[1]][1] != 'default' && $exceptions && $exception_preset && $exceptions[$scope[2][$scope[1]][1]] == undefined" ng-init="$exceptions[$scope[2][$scope[1]][1]] = _.cloneDeep($exception_preset)"></data>
								&lt;!&ndash; / CLONE PRESET AS NEW EXCEPTION &ndash;&gt;

								<dropdown-select model="$scope[2][$scope[1]][1]" ng-class="{'col-2-3' : ($exceptions && $scope[2][$scope[1]][1] != 'default')}">
									<optgroup label="{{ :: $dict.label_default }}">
										<option value="default">{{ :: $dict.label_default }}</option>
									</optgroup>
									<optgroup label="{{ :: $dict.label_element_orientation }}" ng-if="$variations[$wrapper_key + '_orient']">
										<option ng-repeat="$variation in $variations[$wrapper_key + '_orient']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
									</optgroup>
									<optgroup label="{{ :: $dict.label_creative_tension }}" ng-if="$variations['CV_tens']">
										<option ng-repeat="$variation in $variations['CV_tens']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
									</optgroup>
									<optgroup label="{{ :: $dict.label_creative_scale }}" ng-if="$variations['CV_scale']">
										<option ng-repeat="$variation in $variations['CV_scale']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
									</optgroup>
									<optgroup label="{{ :: $dict.label_creative_size }}" ng-if="$variations['CV_size']">
										<option ng-repeat="$variation in $variations['CV_size']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] ? $dict['label_' + $variation] : _.replace($variation, 'CV_size_', '') }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
									</optgroup>
								</dropdown-select>

								<div ng-if="$exceptions && $scope[2][$scope[1]][1] != 'default'" class="col-1-3">
									<toggle-button model="$exceptions[$scope[2][$scope[1]][1]].enabled" on="On" off="Off"></toggle-button>
								</div>

								<block-info ng-if="(_.size($variation_setup[0]) <= 1)">
									<p>
										<small><q>
											{{ :: $dict.hint_variation_not_available }}
										</q></small>
									</p>
								</block-info>

								<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
									<p>
										<small><q>
											{{ :: $dict.hint_variation_default_required }}
										</q></small>
									</p>
								</block-info>

								<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
									<p>
										<small><q>
											{{ :: $dict.hint_variation_default_is }}
										</q></small>
									</p>
								</block-info>

								<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
									<p>
										<small>
											<q>{{ :: $dict.hint_variations_active }}</q>
											<span ng-repeat="($key, $exceptions) in $exceptions">
												<q ng-if="$exceptions.enabled && $exceptions.data"><a ng-click="$scope[2][$scope[1]][1] = $key">{{ $dict['label_' + $key] ? $dict['label_' + $key] : _.replace($key, 'CV_size_', '') }}</a>, </q>
											</span>
											<q><a ng-click="$scope[2][$scope[1]][1] = 'default'">{{ :: $dict.label_default }}</a></q>
										</small>
									</p>
								</block-info>

								<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
									<p ng-if="$relations[$scope[2][$scope[1]][1]]">
										<small>
											<q>
												{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_apply_asterisks }}
											</q>
										</small>
										<small>
											<q ng-repeat="$relation in $relations[$scope[2][$scope[1]][1]]"><a ng-click="$editor.changePreviewSize($relation)">{{ :: $relation }}</a>, </q>
											<q><a ng-click="$editor.changePreviewSize('RxR')">RxR</a></q>
										</small>
									</p>
									<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] == 'default'">
										<small>
											<q>
												{{ :: $dict.hint_variation_default_is }}
											</q>
										</small>
									</p>
									<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] != 'default'">
										<small>
											<q>
												{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_dynamic }}
											</q>
										</small>
									</p>
								</block-info>

							</block-field>

						</block-group>
						&lt;!&ndash; / VARIATION PICKER &ndash;&gt;

						&lt;!&ndash; FRAME VISIBILITY PICKER &ndash;&gt;
						<block-group>

							<block-field title="Element Visibility" ng-if="$scope[2][$scope[1]][1] == 'default'">
								<toggle-button model="$frame.enabled" on="Visible" off="Hidden"></toggle-button>
							</block-field>

							<block-field title="Element Visibility *" ng-if="$scope[2][$scope[1]][1] !== 'default'" ng-class="{disabled: !($frame.excepts[$scope[2][$scope[1]][1]].enabled)}">
								<toggle-button model="$frame.excepts[$scope[2][$scope[1]][1]].data.enabled" on="Visible" off="Hidden"></toggle-button>
							</block-field>

						</block-group>
						&lt;!&ndash; / FRAME VISIBILITY PICKER &ndash;&gt;

					</div>

				</block-group>-->
				<block-group>

					<style ng-if="$data.editor.scope[1].indexOf('SQ') == -1">
						.frame-duration .cols.field.mexpand {
							border-bottom: none !important;
						}
					</style>

					<frames-block-controls class="no-start-time no-stop-time no-stop-on no-frames"></frames-block-controls>

					<block-field title="Frame Layout">
						<dropdown-select model="$frame.macros.SQ_layout.value">
							<option value="default">Default</option>
							<option value="logo">Dealer info</option>
						</dropdown-select>
					</block-field>

					<block-field title="Frame Theme" ng-if="($data.editor.scope[1].indexOf('SQ') != -1)" ng-class="{disabled: ($frame.macros.SQ_layout.value === 'default')}">
						<dropdown-select model="$frame.macros['SQ' + '_theme'].value">
							<option value="inherit">Inherit</option>
							<option value="default">Default Blue</option>
							<option value="light-blue">Light Blue</option>
							<option value="black">Black</option>
							<option value="white">White</option>
						</dropdown-select>
						<block-info ng-if="(_.size($variation_setup[0]) <= 1 && $data.editor.scope[1].indexOf('SQ') != -1)">
							<p>
								<small><q>
									You may change global theme at <a ng-click="$data.editor.scope[0] = 1; $data.editor.scope[2] = 'colors';">color setting</a>.
								</q></small>
							</p>
						</block-info>
					</block-field>

				</block-group>
				<block-group ng-if="($data.editor.scope[1].indexOf('SQ') != -1)">

					<block-field title="Destination URL" ng-class="{disabled: (!$data.banner.clicktag.override)}">
						<text-field placeholder="{{ $data.banner.clicktag.url }}" model="$frame.clicktag.url"
									pattern="https?\:\/\/.+|\$\[dest_url\]|\$\{dest_url\}"></text-field>
						<block-info ng-if="(_.size($variation_setup[0]) <= 1 && $data.editor.scope[1].indexOf('SQ') != -1)">
							<p>
								<small><q>
									You may change global click tag value at <a ng-click="$data.editor.scope[0] = 1; $data.editor.scope[2] = 'destination';">destination setting</a>.
								</q></small>
							</p>
						</block-info>
					</block-field>

				</block-group>

				<div ng-if="$frame.macros.SQ_layout.value === 'logo'">

				<block-toggle title="Dealer Logotype" class="toggle" ng-class="{selected: ($data.editor.scope[1].indexOf('LD') != -1)}"
									ng-click="$data.editor.scope[1] = (($data.editor.scope[1] == 'LD') ? '' : 'LD')">
				</block-toggle>
					<block-group ng-if="($data.editor.scope[1].indexOf('LD') != -1)">

						<!-- TABS -->
						<data ng-init="$tab_setup = [['image', 'appear'], 'image', ['appear'], 'appear']"></data>
						<!-- / TABS -->

						<!-- STATE VALIDATION -->
						<data ng-if="$nav[$data.editor.scope[0]][0] = 'LD'"></data>
						<data ng-if="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]] == undefined" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]] = [$tab_setup[0], $tab_setup[1], {}]"></data>
						<!-- / STATE VALIDATION -->

						<!-- TAB VALIDATION -->
						<data ng-if="$frame.layers[$nav[$data.editor.scope[0]][0]].enabled == false" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]][0] = $tab_setup[2]"></data>
						<data ng-if="$frame.layers[$nav[$data.editor.scope[0]][0]].enabled == false" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]][1] = $tab_setup[3]"></data>
						<data ng-if="$frame.layers[$nav[$data.editor.scope[0]][0]].enabled != false" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]][0] = $tab_setup[0]"></data>
						<!-- TAB VALIDATION -->

						<!-- SHORTCUTS -->
						<data ng-if="$scope = $nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]]"></data>
						<data ng-if="$wrapper_key = $nav[$data.editor.scope[0]][0]"></data>
						<data ng-if="$wrapper = $frame.layers[$nav[$data.editor.scope[0]][0]]"></data>
						<!-- / SHORTCUTS -->

						<block-menu class="tabs">
							<a ng-repeat="$tab in $tab_setup[0]" ng-click="$scope[1] = $tab" ng-class="{selected: ($scope[1] == $tab), disabled: (_.indexOf($scope[0], $tab) == -1)}">{{ ::  $dict['label_' + $tab] }}</a>
						</block-menu>

						<div ng-if="($scope[1] == 'image')">

							<!-- STATE VALIDATION -->
							<data ng-if="$nav[$data.editor.scope[0]][2] = 'IMG'"></data>
							<data ng-if="$nav[$data.editor.scope[0]][3] = 0"></data>
							<!-- / STATE VALIDATION -->

							<!-- SHORTCUTS -->
							<data ng-if="$holder_key = $nav[$data.editor.scope[0]][2]"></data>
							<data ng-if="$holder = $wrapper.layers[$wrapper_key + '_' + $holder_key]"></data>
							<data ng-if="$target_key = $nav[$data.editor.scope[0]][3]"></data>
							<data ng-if="$target = $wrapper.layers[$wrapper_key + '_' + $holder_key].layers[$target_key]"></data>
							<!-- / SHORTCUTS -->

							<!-- SHORTCUTS -->
							<data ng-if="$exceptions = $wrapper.layers[$wrapper_key + '_' + $holder_key].layers[$target_key].excepts"></data>
							<data ng-if="$exception_preset = $wrapper.layers[$wrapper_key + '_' + $holder_key].layers[$target_key].excepts.preset"></data>
							<!-- / SHORTCUTS -->

							<!-- VARIATIONS -->
							<data ng-init="$variation_setup = [_.concat(['default']), 'default', _.concat(['default'])]"></data>
							<!-- VARIATIONS -->

							<!-- VARIATION PICKER -->
							<block-group ng-class="{disabled: (_.size($scope[2][$scope[1]][0]) <= 1)}">

								<block-field title="{{ :: $dict.label_variation }} @" class="label">

									<!-- VARIATION VALIDATION -->
									<data ng-if="$scope[2][$scope[1]] == undefined" ng-init="$scope[2][$scope[1]] = [$variation_setup[0], $variation_setup[1]]"></data>
									<data ng-if="$holder && $holder.layers[$target_key] != undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[0]"></data>
									<data ng-if="$holder && $holder.layers[$target_key] == undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[2]"></data>
									<!-- VARIATION VALIDATION -->

									<!-- CLONE PRESET AS NEW EXCEPTION -->
									<data ng-if="$scope[2][$scope[1]][1] != 'default' && $exceptions && $exception_preset && $exceptions[$scope[2][$scope[1]][1]] == undefined" ng-init="$exceptions[$scope[2][$scope[1]][1]] = _.cloneDeep($exception_preset)"></data>
									<!-- / CLONE PRESET AS NEW EXCEPTION -->

									<dropdown-select model="$scope[2][$scope[1]][1]" ng-class="{'col-2-3' : ($exceptions && $scope[2][$scope[1]][1] != 'default')}">
										<optgroup label="{{ :: $dict.label_default }}">
											<option value="default">{{ :: $dict.label_default }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_element_orientation }}" ng-if="$variations[$wrapper_key + '_orient']">
											<option ng-repeat="$variation in $variations[$wrapper_key + '_orient']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_creative_tension }}" ng-if="$variations['CV_tens']">
											<option ng-repeat="$variation in $variations['CV_tens']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_creative_scale }}" ng-if="$variations['CV_scale']">
											<option ng-repeat="$variation in $variations['CV_scale']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_creative_size }}" ng-if="$variations['CV_size']">
											<option ng-repeat="$variation in $variations['CV_size']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] ? $dict['label_' + $variation] : _.replace($variation, 'CV_size_', '') }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
									</dropdown-select>

									<div ng-if="$exceptions && $scope[2][$scope[1]][1] != 'default'" class="col-1-3">
										<toggle-button model="$exceptions[$scope[2][$scope[1]][1]].enabled" on="On" off="Off"></toggle-button>
									</div>

									<block-info ng-if="(_.size($variation_setup[0]) <= 1)">
										<p>
											<small><q>
												{{ :: $dict.hint_variation_not_available }}
											</q></small>
										</p>
									</block-info>

									<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
										<p>
											<small><q>
												{{ :: $dict.hint_variation_default_required }}
											</q></small>
										</p>
									</block-info>

									<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
										<p>
											<small><q>
												{{ :: $dict.hint_variation_default_is }}
											</q></small>
										</p>
									</block-info>

									<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
										<p>
											<small>
												<q>{{ :: $dict.hint_variations_active }}</q>
												<span ng-repeat="($key, $exceptions) in $exceptions">
													<q ng-if="$exceptions.enabled && $exceptions.data"><a ng-click="$scope[2][$scope[1]][1] = $key">{{ $dict['label_' + $key] ? $dict['label_' + $key] : _.replace($key, 'CV_size_', '') }}</a>, </q>
												</span>
												<q><a ng-click="$scope[2][$scope[1]][1] = 'default'">{{ :: $dict.label_default }}</a></q>
											</small>
										</p>
									</block-info>

									<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
										<p ng-if="$relations[$scope[2][$scope[1]][1]]">
											<small>
												<q>
													{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_apply_asterisks }}
												</q>
											</small>
											<small>
												<q ng-repeat="$relation in $relations[$scope[2][$scope[1]][1]]"><a ng-click="$editor.changePreviewSize($relation)">{{ :: $relation }}</a>, </q>
												<q><a ng-click="$editor.changePreviewSize('RxR')">RxR</a></q>
											</small>
										</p>
										<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] == 'default'">
											<small>
												<q>
													{{ :: $dict.hint_variation_default_is }}
												</q>
											</small>
										</p>
										<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] != 'default'">
											<small>
												<q>
													{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_dynamic }}
												</q>
											</small>
										</p>
									</block-info>

								</block-field>

							</block-group>
							<!-- / VARIATION PICKER -->

							<block-field title="Image Source" ng-if="$scope[2][$scope[1]][1] == 'default'">
								<image-picker model="$holder.layers[0]"
												settings="{defaults: $holder.layers[1], cropping: { ratios: ($ratios[$wrapper_key + '_' + $wrapper.macros[$wrapper_key + '_place_type'].value]) } }"
												no-crop="false" no-align="true" no-cover="true" no-load="false" no-excepts="false" no-excepts-orientation="true"></image-picker>
							</block-field>

							<!-- CLONE PRESET AS NEW EXCEPTION -->
							<data ng-if="$scope[2][$scope[1]][1] != 'default' && $exceptions && $exception_preset && $exceptions[$scope[2][$scope[1]][1]] == undefined" ng-init="$exceptions[$scope[2][$scope[1]][1]] = _.cloneDeep($exception_preset)"></data>
							<!-- / CLONE PRESET AS NEW EXCEPTION -->

						</div>

						<div ng-if="($scope[1] == 'appear')">

							<!-- STATE VALIDATION -->
							<data ng-if="$nav[$data.editor.scope[0]][2] = null"></data>
							<data ng-if="$nav[$data.editor.scope[0]][3] = null"></data>
							<!-- / STATE VALIDATION -->

							<!-- SHORTCUTS -->
							<data ng-if="$holder_key = null"></data>
							<data ng-if="$holder = null"></data>
							<data ng-if="$target_key = null"></data>
							<data ng-if="$target = null"></data>
							<!-- / SHORTCUTS -->

							<!-- SHORTCUTS -->
							<data ng-if="$exceptions = $wrapper.macros.excepts"></data>
							<data ng-if="$exception_preset = $wrapper.macros.excepts.preset"></data>
							<!-- / SHORTCUTS -->

							<!-- VARIATIONS -->
							<data ng-init="$variation_setup = [_.concat(['default']), 'default', _.concat(['default'])]"></data>
							<!-- VARIATIONS -->

							<!-- VARIATION PICKER -->
							<block-group ng-class="{disabled: (_.size($scope[2][$scope[1]][0]) <= 1)}">

								<block-field title="{{ :: $dict.label_variation }} @" class="label">

									<!-- VARIATION VALIDATION -->
									<data ng-if="$scope[2][$scope[1]] == undefined" ng-init="$scope[2][$scope[1]] = [$variation_setup[0], $variation_setup[1]]"></data>
									<data ng-if="$holder && $holder.layers[$target_key] != undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[0]"></data>
									<data ng-if="$holder && $holder.layers[$target_key] == undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[2]"></data>
									<!-- VARIATION VALIDATION -->

									<!-- CLONE PRESET AS NEW EXCEPTION -->
									<data ng-if="$scope[2][$scope[1]][1] != 'default' && $exceptions && $exception_preset && $exceptions[$scope[2][$scope[1]][1]] == undefined" ng-init="$exceptions[$scope[2][$scope[1]][1]] = _.cloneDeep($exception_preset)"></data>
									<!-- / CLONE PRESET AS NEW EXCEPTION -->

									<dropdown-select model="$scope[2][$scope[1]][1]" ng-class="{'col-2-3' : ($exceptions && $scope[2][$scope[1]][1] != 'default')}">
										<optgroup label="{{ :: $dict.label_default }}">
											<option value="default">{{ :: $dict.label_default }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_element_orientation }}" ng-if="$variations[$wrapper_key + '_orient']">
											<option ng-repeat="$variation in $variations[$wrapper_key + '_orient']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_creative_tension }}" ng-if="$variations['CV_tens']">
											<option ng-repeat="$variation in $variations['CV_tens']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_creative_scale }}" ng-if="$variations['CV_scale']">
											<option ng-repeat="$variation in $variations['CV_scale']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_creative_size }}" ng-if="$variations['CV_size']">
											<option ng-repeat="$variation in $variations['CV_size']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] ? $dict['label_' + $variation] : _.replace($variation, 'CV_size_', '') }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
									</dropdown-select>

									<div ng-if="$exceptions && $scope[2][$scope[1]][1] != 'default'" class="col-1-3">
										<toggle-button model="$exceptions[$scope[2][$scope[1]][1]].enabled" on="On" off="Off"></toggle-button>
									</div>

									<block-info ng-if="(_.size($variation_setup[0]) <= 1)">
										<p>
											<small><q>
												{{ :: $dict.hint_variation_not_available }}
											</q></small>
										</p>
									</block-info>

									<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
										<p>
											<small><q>
												{{ :: $dict.hint_variation_default_required }}
											</q></small>
										</p>
									</block-info>

									<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
										<p>
											<small><q>
												{{ :: $dict.hint_variation_default_is }}
											</q></small>
										</p>
									</block-info>

									<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
										<p>
											<small>
												<q>{{ :: $dict.hint_variations_active }}</q>
												<span ng-repeat="($key, $exceptions) in $exceptions">
													<q ng-if="$exceptions.enabled && $exceptions.data"><a ng-click="$scope[2][$scope[1]][1] = $key">{{ $dict['label_' + $key] ? $dict['label_' + $key] : _.replace($key, 'CV_size_', '') }}</a>, </q>
												</span>
												<q><a ng-click="$scope[2][$scope[1]][1] = 'default'">{{ :: $dict.label_default }}</a></q>
											</small>
										</p>
									</block-info>

									<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
										<p ng-if="$relations[$scope[2][$scope[1]][1]]">
											<small>
												<q>
													{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_apply_asterisks }}
												</q>
											</small>
											<small>
												<q ng-repeat="$relation in $relations[$scope[2][$scope[1]][1]]"><a ng-click="$editor.changePreviewSize($relation)">{{ :: $relation }}</a>, </q>
												<q><a ng-click="$editor.changePreviewSize('RxR')">RxR</a></q>
											</small>
										</p>
										<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] == 'default'">
											<small>
												<q>
													{{ :: $dict.hint_variation_default_is }}
												</q>
											</small>
										</p>
										<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] != 'default'">
											<small>
												<q>
													{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_dynamic }}
												</q>
											</small>
										</p>
									</block-info>

								</block-field>

							</block-group>
							<!-- / VARIATION PICKER -->

							<!-- UPDATE DEFAULT PRESET VALUES -->
							<data ng-repeat="$item in [$wrapper_key + '_place_type', $wrapper_key + '_limit_min', $wrapper_key + '_limit_max', $wrapper_key + '_mask_type', $wrapper_key + '_margin']" ng-if="$scope[2][$scope[1]][1] != 'default' && $exceptions && $exception_preset && $exception_preset.data[$item].value != $wrapper.macros[$item].value" ng-init="$exception_preset.data[$item].value = $wrapper.macros[$item].value"></data>
							<!-- / UPDATE DEFAULT PRESET VALUES -->

							<!-- VISIBILITY PICKER -->
							<block-group ng-class="{disabled: ($scope[2][$scope[1]][1] != 'default')}">

								<block-field title="Element Visibility">
									<toggle-button model="$wrapper.enabled" on="Visible" off="Hidden"></toggle-button>
								</block-field>

							</block-group>
							<!-- / VISIBILITY PICKER -->

						</div>

					</block-group>

				</div>
				<div ng-if="$frame.macros.SQ_layout.value === 'default'">

					<block-toggle title="Foreground" class="toggle" ng-class="{selected: ($data.editor.scope[1].indexOf('FG') != -1)}"
									ng-click="$data.editor.scope[1] = (($data.editor.scope[1] == 'FG') ? '' : 'FG')"></block-toggle>
					<block-group ng-if="($data.editor.scope[1].indexOf('FG') != -1)">

						<!-- TABS -->
						<data ng-init="$tab_setup = [['image', 'anim', 'appear'], 'image', ['appear'], 'appear']"></data>
						<!-- / TABS -->

						<!-- STATE VALIDATION -->
						<data ng-if="$nav[$data.editor.scope[0]][0] = 'FG'"></data>
						<data ng-if="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]] == undefined" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]] = [$tab_setup[0], $tab_setup[1], {}]"></data>
						<!-- / STATE VALIDATION -->

						<!-- TAB VALIDATION -->
						<data ng-if="$frame.layers[$nav[$data.editor.scope[0]][0]].enabled == false" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]][0] = $tab_setup[2]"></data>
						<data ng-if="$frame.layers[$nav[$data.editor.scope[0]][0]].enabled == false" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]][1] = $tab_setup[3]"></data>
						<data ng-if="$frame.layers[$nav[$data.editor.scope[0]][0]].enabled != false" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]][0] = $tab_setup[0]"></data>
						<!-- TAB VALIDATION -->

						<!-- SHORTCUTS -->
						<data ng-if="$scope = $nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]]"></data>
						<data ng-if="$wrapper_key = $nav[$data.editor.scope[0]][0]"></data>
						<data ng-if="$wrapper = $frame.layers[$nav[$data.editor.scope[0]][0]]"></data>
						<!-- / SHORTCUTS -->

						<block-menu class="tabs">
							<a ng-repeat="$tab in $tab_setup[0]" ng-click="$scope[1] = $tab" ng-class="{selected: ($scope[1] == $tab), disabled: (_.indexOf($scope[0], $tab) == -1)}">{{ ::  $dict['label_' + $tab] }}</a>
						</block-menu>

						<div ng-if="($scope[1] == 'image')">

							<!-- STATE VALIDATION -->
							<data ng-if="$nav[$data.editor.scope[0]][2] = 'IMG'"></data>
							<data ng-if="$nav[$data.editor.scope[0]][3] = 0"></data>
							<!-- / STATE VALIDATION -->

							<!-- SHORTCUTS -->
							<data ng-if="$holder_key = $nav[$data.editor.scope[0]][2]"></data>
							<data ng-if="$holder = $wrapper.layers[$wrapper_key + '_' + $holder_key]"></data>
							<data ng-if="$target_key = $nav[$data.editor.scope[0]][3]"></data>
							<data ng-if="$target = $wrapper.layers[$wrapper_key + '_' + $holder_key].layers[$target_key]"></data>
							<!-- / SHORTCUTS -->

							<!-- SHORTCUTS -->
							<data ng-if="$exceptions = $wrapper.layers[$wrapper_key + '_' + $holder_key].layers[$target_key].excepts"></data>
							<data ng-if="$exception_preset = $wrapper.layers[$wrapper_key + '_' + $holder_key].layers[$target_key].excepts.preset"></data>
							<!-- / SHORTCUTS -->

							<!-- VARIATIONS -->
							<data ng-init="$variation_setup = [_.concat(['default'], $variations[$wrapper_key + '_orient'], $variations['CV_tens']), 'default', _.concat(['default'])]"></data>
							<!-- VARIATIONS -->

							<!-- VARIATION PICKER -->
							<block-group ng-class="{disabled: (_.size($scope[2][$scope[1]][0]) <= 1)}">

								<block-field title="{{ :: $dict.label_variation }} @" class="label">

									<!-- VARIATION VALIDATION -->
									<data ng-if="$scope[2][$scope[1]] == undefined" ng-init="$scope[2][$scope[1]] = [$variation_setup[0], $variation_setup[1]]"></data>
									<data ng-if="$holder && $holder.layers[$target_key] != undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[0]"></data>
									<data ng-if="$holder && $holder.layers[$target_key] == undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[2]"></data>
									<!-- VARIATION VALIDATION -->

									<!-- CLONE PRESET AS NEW EXCEPTION -->
									<data ng-if="$scope[2][$scope[1]][1] != 'default' && $exceptions && $exception_preset && $exceptions[$scope[2][$scope[1]][1]] == undefined" ng-init="$exceptions[$scope[2][$scope[1]][1]] = _.cloneDeep($exception_preset)"></data>
									<!-- / CLONE PRESET AS NEW EXCEPTION -->

									<dropdown-select model="$scope[2][$scope[1]][1]" ng-class="{'col-2-3' : ($exceptions && $scope[2][$scope[1]][1] != 'default')}">
										<optgroup label="{{ :: $dict.label_default }}">
											<option value="default">{{ :: $dict.label_default }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_element_orientation }}" ng-if="$variations[$wrapper_key + '_orient']">
											<option ng-repeat="$variation in $variations[$wrapper_key + '_orient']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_creative_tension }}" ng-if="$variations['CV_tens']">
											<option ng-repeat="$variation in $variations['CV_tens']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_creative_scale }}" ng-if="$variations['CV_scale']">
											<option ng-repeat="$variation in $variations['CV_scale']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_creative_size }}" ng-if="$variations['CV_size']">
											<option ng-repeat="$variation in $variations['CV_size']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] ? $dict['label_' + $variation] : _.replace($variation, 'CV_size_', '') }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
									</dropdown-select>

									<div ng-if="$exceptions && $scope[2][$scope[1]][1] != 'default'">
										<toggle-button model="$exceptions[$scope[2][$scope[1]][1]].enabled" on="On" off="Off"></toggle-button>
									</div>

									<block-info ng-if="(_.size($variation_setup[0]) <= 1)">
										<p>
											<small><q>
												{{ :: $dict.hint_variation_not_available }}
											</q></small>
										</p>
									</block-info>

									<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
										<p>
											<small><q>
												{{ :: $dict.hint_variation_default_required }} {{ :: $dict.hint_variation_default_is }}
											</q></small>
										</p>
									</block-info>

									<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
										<p>
											<small>
												<q>{{ :: $dict.hint_variations_active }}</q>
												<span ng-repeat="($key, $exceptions) in $exceptions">
													<q ng-if="$exceptions.enabled && $exceptions.data"><a ng-click="$scope[2][$scope[1]][1] = $key">{{ $dict['label_' + $key] ? $dict['label_' + $key] : _.replace($key, 'CV_size_', '') }}</a>, </q>
												</span>
												<q><a ng-click="$scope[2][$scope[1]][1] = 'default'">{{ :: $dict.label_default }}</a></q>
											</small>
										</p>
									</block-info>

									<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
										<p ng-if="$relations[$scope[2][$scope[1]][1]]">
											<small>
												<q>
													{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_apply_asterisks }}
												</q>
											</small>
											<small>
												<q ng-repeat="$relation in $relations[$scope[2][$scope[1]][1]]"><a ng-click="$editor.changePreviewSize($relation)">{{ :: $relation }}</a>, </q>
												<q><a ng-click="$editor.changePreviewSize('RxR')">RxR</a></q>
											</small>
										</p>
										<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] == 'default'">
											<small>
												<q>
													{{ :: $dict.hint_variation_default_is }}
												</q>
											</small>
										</p>
										<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] != 'default'">
											<small>
												<q>
													{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_dynamic }}
												</q>
											</small>
										</p>
									</block-info>

								</block-field>

							</block-group>
							<!-- / VARIATION PICKER -->

							<!-- UPDATE DEFAULT PRESET VALUES -->
							<data ng-repeat="$item in [$wrapper_key + '_place_type']" ng-if="$scope[2][$scope[1]][1] != 'default' && $exception_preset.data[$item].value != $wrapper.macros[$item].value" ng-init="$exception_preset.data[$item].value = $wrapper.macros[$item].value"></data>
							<!-- / UPDATE DEFAULT PRESET VALUES -->

							<!-- ELEMENT SOURCE -->
							<block-group>

								<block-field title="Image Source" ng-if="$scope[2][$scope[1]][1] == 'default'">
									<image-picker model="$holder.layers[0]"
													settings="{defaults: $holder.layers[1], cropping: { ratios: ($ratios[$wrapper_key + '_' + $wrapper.macros[$wrapper_key + '_place_type'].value]) } }"
													no-crop="false" no-align="true" no-cover="true" no-load="false" no-excepts="false" no-excepts-orientation="true"></image-picker>
								</block-field>

								<block-field title="Image Source *" ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">
									<image-picker model="$exceptions['FG_orient_p'].data" ng-if="$scope[2][$scope[1]][1] == 'FG_orient_p'"
													settings="{defaults: $holder.layers[1], cropping: { ratios: ($ratios[$wrapper_key + '_' + $wrapper.macros[$wrapper_key + '_place_type'].value]) } }"
													no-crop="false" no-align="true" no-cover="true" no-load="false" no-excepts="false" no-excepts-orientation="true"></image-picker>
									<image-picker model="$exceptions['FG_orient_s'].data" ng-if="$scope[2][$scope[1]][1] == 'FG_orient_s'"
													settings="{defaults: $holder.layers[1], cropping: { ratios: ($ratios[$wrapper_key + '_' + $wrapper.macros[$wrapper_key + '_place_type'].value]) } }"
													no-crop="false" no-align="true" no-cover="true" no-load="false" no-excepts="false" no-excepts-orientation="true"></image-picker>
									<image-picker model="$exceptions['FG_orient_l'].data" ng-if="$scope[2][$scope[1]][1] == 'FG_orient_l'"
													settings="{defaults: $holder.layers[1], cropping: { ratios: ($ratios[$wrapper_key + '_' + $wrapper.macros[$wrapper_key + '_place_type'].value]) } }"
													no-crop="false" no-align="true" no-cover="true" no-load="false" no-excepts="false" no-excepts-orientation="true"></image-picker>
									<image-picker model="$exceptions['CV_tens_t2'].data" ng-if="$scope[2][$scope[1]][1] == 'CV_tens_t2'"
													settings="{defaults: $holder.layers[1], cropping: { ratios: ($ratios[$wrapper_key + '_' + $wrapper.macros[$wrapper_key + '_place_type'].value]) } }"
													no-crop="false" no-align="true" no-cover="true" no-load="false" no-excepts="false" no-excepts-orientation="true"></image-picker>
									<image-picker model="$exceptions['CV_tens_t1'].data" ng-if="$scope[2][$scope[1]][1] == 'CV_tens_t1'"
													settings="{defaults: $holder.layers[1], cropping: { ratios: ($ratios[$wrapper_key + '_' + $wrapper.macros[$wrapper_key + '_place_type'].value]) } }"
													no-crop="false" no-align="true" no-cover="true" no-load="false" no-excepts="false" no-excepts-orientation="true"></image-picker>
									<image-picker model="$exceptions['CV_tens_e0'].data" ng-if="$scope[2][$scope[1]][1] == 'CV_tens_e0'"
													settings="{defaults: $holder.layers[1], cropping: { ratios: ($ratios[$wrapper_key + '_' + $wrapper.macros[$wrapper_key + '_place_type'].value]) } }"
													no-crop="false" no-align="true" no-cover="true" no-load="false" no-excepts="false" no-excepts-orientation="true"></image-picker>
									<image-picker model="$exceptions['CV_tens_w1'].data" ng-if="$scope[2][$scope[1]][1] == 'CV_tens_w1'"
													settings="{defaults: $holder.layers[1], cropping: { ratios: ($ratios[$wrapper_key + '_' + $wrapper.macros[$wrapper_key + '_place_type'].value]) } }"
													no-crop="false" no-align="true" no-cover="true" no-load="false" no-excepts="false" no-excepts-orientation="true"></image-picker>
									<image-picker model="$exceptions['CV_tens_w2'].data" ng-if="$scope[2][$scope[1]][1] == 'CV_tens_w2'"
													settings="{defaults: $holder.layers[1], cropping: { ratios: ($ratios[$wrapper_key + '_' + $wrapper.macros[$wrapper_key + '_place_type'].value]) } }"
													no-crop="false" no-align="true" no-cover="true" no-load="false" no-excepts="false" no-excepts-orientation="true"></image-picker>
									<block-info ng-class="{disabled: ($exceptions[$scope[2][$scope[1]][1]].data)}">
										<p>
											<small><q><a ng-click="$exceptions[$scope[2][$scope[1]][1]].data = _.omit(_.cloneDeep($target), ['excepts', 'preset'])">Clone</a> asset source from default variation. {{ $dict.hint_asset_area }}</q></small>
										</p>
									</block-info>
								</block-field>

							</block-group>
							<!-- ELEMENT SOURCE -->

						</div>

						<div ng-if="($scope[1] == 'anim')">

							<!-- STATE VALIDATION -->
							<data ng-if="$nav[$data.editor.scope[0]][2] = null"></data>
							<data ng-if="$nav[$data.editor.scope[0]][3] = null"></data>
							<!-- / STATE VALIDATION -->

							<!-- SHORTCUTS -->
							<data ng-if="$holder_key = null"></data>
							<data ng-if="$holder = null"></data>
							<data ng-if="$target_key = null"></data>
							<data ng-if="$target = null"></data>
							<!-- / SHORTCUTS -->

							<!-- SHORTCUTS -->
							<data ng-if="$exceptions = $wrapper.macros.excepts"></data>
							<data ng-if="$exception_preset = $wrapper.macros.excepts.preset"></data>
							<!-- / SHORTCUTS -->

							<!-- VARIATIONS -->
							<data ng-init="$variation_setup = [_.concat(['default'], $variations[$wrapper_key + '_orient'], $variations['CV_tens'], $variations['CV_scale'], $variations['CV_size']), 'default', _.concat(['default'])]"></data>
							<!-- VARIATIONS -->

							<!-- VARIATION PICKER -->
							<block-group ng-class="{disabled: (_.size($scope[2][$scope[1]][0]) <= 1)}">

								<block-field title="{{ :: $dict.label_variation }} @" class="label">

									<!-- VARIATION VALIDATION -->
									<data ng-if="$scope[2][$scope[1]] == undefined" ng-init="$scope[2][$scope[1]] = [$variation_setup[0], $variation_setup[1]]"></data>
									<data ng-if="$holder && $holder.layers[$target_key] != undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[0]"></data>
									<data ng-if="$holder && $holder.layers[$target_key] == undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[2]"></data>
									<!-- VARIATION VALIDATION -->

									<!-- CLONE PRESET AS NEW EXCEPTION -->
									<data ng-if="$scope[2][$scope[1]][1] != 'default' && $exceptions && $exception_preset && $exceptions[$scope[2][$scope[1]][1]] == undefined" ng-init="$exceptions[$scope[2][$scope[1]][1]] = _.cloneDeep($exception_preset)"></data>
									<!-- / CLONE PRESET AS NEW EXCEPTION -->

									<dropdown-select model="$scope[2][$scope[1]][1]" ng-class="{'col-2-3' : ($exceptions && $scope[2][$scope[1]][1] != 'default')}">
										<optgroup label="{{ :: $dict.label_default }}">
											<option value="default">{{ :: $dict.label_default }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_element_orientation }}" ng-if="$variations[$wrapper_key + '_orient']">
											<option ng-repeat="$variation in $variations[$wrapper_key + '_orient']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_creative_tension }}" ng-if="$variations['CV_tens']">
											<option ng-repeat="$variation in $variations['CV_tens']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_creative_scale }}" ng-if="$variations['CV_scale']">
											<option ng-repeat="$variation in $variations['CV_scale']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_creative_size }}" ng-if="$variations['CV_size']">
											<option ng-repeat="$variation in $variations['CV_size']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] ? $dict['label_' + $variation] : _.replace($variation, 'CV_size_', '') }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
									</dropdown-select>

									<div ng-if="$exceptions && $scope[2][$scope[1]][1] != 'default'">
										<toggle-button model="$exceptions[$scope[2][$scope[1]][1]].enabled" on="On" off="Off"></toggle-button>
									</div>

									<block-info ng-if="(_.size($variation_setup[0]) <= 1)">
										<p>
											<small><q>
												{{ :: $dict.hint_variation_not_available }}
											</q></small>
										</p>
									</block-info>

									<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
										<p>
											<small><q>
												{{ :: $dict.hint_variation_default_required }} {{ :: $dict.hint_variation_default_is }}
											</q></small>
										</p>
									</block-info>

									<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
										<p>
											<small>
												<q>{{ :: $dict.hint_variations_active }}</q>
												<span ng-repeat="($key, $exceptions) in $exceptions">
												<q ng-if="$exceptions.enabled && $exceptions.data"><a ng-click="$scope[2][$scope[1]][1] = $key">{{ $dict['label_' + $key] ? $dict['label_' + $key] : _.replace($key, 'CV_size_', '') }}</a>, </q>
											</span>
												<q><a ng-click="$scope[2][$scope[1]][1] = 'default'">{{ :: $dict.label_default }}</a></q>
											</small>
										</p>
									</block-info>

									<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
										<p ng-if="$relations[$scope[2][$scope[1]][1]]">
											<small>
												<q>
													{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_apply_asterisks }}
												</q>
											</small>
											<small>
												<q ng-repeat="$relation in $relations[$scope[2][$scope[1]][1]]"><a ng-click="$editor.changePreviewSize($relation)">{{ :: $relation }}</a>, </q>
												<q><a ng-click="$editor.changePreviewSize('RxR')">RxR</a></q>
											</small>
										</p>
										<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] == 'default'">
											<small>
												<q>
													{{ :: $dict.hint_variation_default_is }}
												</q>
											</small>
										</p>
										<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] != 'default'">
											<small>
												<q>
													{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_dynamic }}
												</q>
											</small>
										</p>
									</block-info>

								</block-field>

							</block-group>
							<!-- / VARIATION PICKER -->

							<!-- UPDATE DEFAULT PRESET VALUES -->
							<data ng-repeat="$item in [$wrapper_key + '_place_type', $wrapper_key + '_mask_type', $wrapper_key + '_margin']" ng-if="$scope[2][$scope[1]][1] != 'default' && $exceptions && $exception_preset && $exception_preset.data[$item].value != $wrapper.macros[$item].value" ng-init="$exception_preset.data[$item].value = $wrapper.macros[$item].value"></data>
							<!-- / UPDATE DEFAULT PRESET VALUES -->

							<!-- ANIMATIONS SETTINGS -->
							<block-group ng-class="{disabled: ($scope[2][$scope[1]][1] != 'default')}">

								<block-field title="Animation Delay">
									<number-slider model="$wrapper.macros[$wrapper_key + '_anim_delay'].value"
													min="0" max="1000" length="4" index="ms" left="Min" center="|" right="Max"
													pattern="^\d+"></number-slider>
								</block-field>

								<block-field title="Animation Skip" ng-if="($frames)" ng-class="{disabled: ($frames.model.frames.length < 2)}">
									<toggle-button model="$wrapper.macros[$wrapper_key + '_anim_skip'].value" on="Skip Identical Source" off="Always Animate"></toggle-button>
									<block-info ng-class="{disabled: ($exceptions[$scope[2][$scope[1]][1]].data)}">
										<p>
											<small><q>{{ $dict.hint_animation_skip }}</q></small>
										</p>
									</block-info>
								</block-field>

							</block-group>
							<!-- / ANIMATIONS SETTINGS -->

							<!-- / ANIMATION TYPE-->
							<block-group>

								<block-field title="Animation Type" ng-if="$scope[2][$scope[1]][1] == 'default'">
									<dropdown-select model="$wrapper.macros[$wrapper_key + '_anim_type'].value">
										<option value="default">Normal</option>
										<option value="pan">Panoramic</option>
									</dropdown-select>
									<block-info>
										<p>
											<small><q>
												<small><q>{{ $dict.hint_animation_pan }}</q></small>
											</q></small>
										</p>
									</block-info>
								</block-field>

								<block-field title="Animation Type *" ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">
									<dropdown-select model="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_anim_type'].value">
										<option value="default">Normal</option>
										<option value="pan">Panoramic</option>
									</dropdown-select>
									<block-info>
										<p>
											<small><q>
												<small><q>{{ $dict.hint_animation_pan }}</q></small>
											</q></small>
										</p>
									</block-info>
								</block-field>

							</block-group>
							<!-- / ANIMATIONS TYPE -->

							<!-- ANIMATIONS SETTINGS - IN - SPEED -->
							<block-group ng-class="{disabled: ($scope[2][$scope[1]][1] != 'default')}">

								<block-field title="Ease In Type">
									<dropdown-select model="$wrapper.macros[$wrapper_key + '_anim_in_ease'].value">
										<option value="linear">Linear</option>
										<option value="ease">Ease</option>
										<option value="ease-in">Ease In</option>
										<option value="ease-out">Ease Out</option>
										<option value="ease-in-out">Ease In Out</option>
									</dropdown-select>
								</block-field>

								<block-field title="Fade In Speed">
									<number-slider model="$wrapper.macros[$wrapper_key + '_anim_in_speed_opacity'].value"
													min="0" max="10000" length="5" index="ms" left="Min" center="|" right="Max"
													pattern="^\d+"></number-slider>
								</block-field>

								<block-field title="Slide In Speed">
									<number-slider model="$wrapper.macros[$wrapper_key + '_anim_in_speed_transform'].value"
													min="0" max="10000" length="5" index="ms" left="Min" center="|" right="Max"
													pattern="^\d+"></number-slider>
								</block-field>

							</block-group>
							<!-- / ANIMATIONS SETTINGS -->

							<!-- ANIMATIONS SETTINGS - IN - TRANSITION -->
							<block-group>

								<block-field title="Slide In X-Axis" ng-if="$scope[2][$scope[1]][1] == 'default'">
									<number-slider model="$wrapper.macros[$wrapper_key + '_anim_in_x'].value"
													min="-50" max="50" length="5" index="x" left="Left" center="|" right="Right"
													pattern="^(-50|-[1-4][0-9]|-[0-9]|[0-9]|[1-4][0-9]|50)$"></number-slider>
								</block-field>

								<block-field title="Slide In X-Axis *" ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">
									<number-slider model="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_anim_in_x'].value"
													min="-50" max="50" length="5" index="x" left="Left" center="|" right="Right"
													pattern="^(-50|-[1-4][0-9]|-[0-9]|[0-9]|[1-4][0-9]|50)$"></number-slider>
								</block-field>

								<block-field title="Slide In Y-Axis" ng-if="$scope[2][$scope[1]][1] == 'default'">
									<number-slider model="$wrapper.macros[$wrapper_key + '_anim_in_y'].value"
													min="-50" max="50" length="5" index="x" left="Top" center="|" right="Bottom"
													pattern="^(-50|-[1-4][0-9]|-[0-9]|[0-9]|[1-4][0-9]|50)$"></number-slider>
								</block-field>

								<block-field title="Slide In Y-Axis *" ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">
									<number-slider model="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_anim_in_y'].value"
													min="-50" max="50" length="5" index="x" left="Top" center="|" right="Bottom"
													pattern="^(-50|-[1-4][0-9]|-[0-9]|[0-9]|[1-4][0-9]|50)$"></number-slider>
								</block-field>

								<block-field title="Slide In Z-Axis" ng-if="$scope[2][$scope[1]][1] == 'default'">
									<number-slider model="$wrapper.macros[$wrapper_key + '_anim_in_z'].value"
													min="-10" max="10" length="5" index="x" left="Small" center="|" right="Large"
													pattern="^(-10|-[0-9]|[0-9]|10)$"></number-slider>
								</block-field>

								<block-field title="Slide In Z-Axis *" ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">
									<number-slider model="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_anim_in_z'].value"
													min="-10" max="10" length="5" index="x" left="Small" center="|" right="Large"
													pattern="^(-10|-[0-9]|[0-9]|10)$"></number-slider>
								</block-field>

								<block-field title="Slide In Z Origin" ng-if="$scope[2][$scope[1]][1] == 'default'">
									<dropdown-select model="$wrapper.macros[$wrapper_key + '_anim_in_origin'].value">
										<option value="center">Center</option>
										<option value="left">Left</option>
										<option value="right">Right</option>
										<option value="top">Top</option>
										<option value="bottom">Bottom</option>
									</dropdown-select>
								</block-field>

								<block-field title="Slide In Z Origin *" ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">
									<dropdown-select model="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_anim_in_origin'].value">
										<option value="center">Center</option>
										<option value="left">Left</option>
										<option value="right">Right</option>
										<option value="top">Top</option>
										<option value="bottom">Bottom</option>
									</dropdown-select>
								</block-field>

							</block-group>
							<!-- / ANIMATIONS SETTINGS -->

							<!-- ANIMATIONS SETTINGS - OUT - SPEED -->
							<block-group ng-class="{disabled: ($scope[2][$scope[1]][1] != 'default')}">

															<block-field title="Ease Out Type">
																	<dropdown-select model="$wrapper.macros[$wrapper_key + '_anim_out_ease'].value">
																			<option value="linear">Linear</option>
																			<option value="ease">Ease</option>
																			<option value="ease-in">Ease In</option>
																			<option value="ease-out">Ease Out</option>
																			<option value="ease-in-out">Ease In Out</option>
																	</dropdown-select>
															</block-field>

															<block-field title="Fade Out Speed">
																	<number-slider model="$wrapper.macros[$wrapper_key + '_anim_out_speed_opacity'].value"
																								min="0" max="10000" length="5" index="ms" left="Min" center="|" right="Max"
																								pattern="^\d+"></number-slider>
															</block-field>

															<block-field title="Slide Out Speed">
																	<number-slider model="$wrapper.macros[$wrapper_key + '_anim_out_speed_transform'].value"
																								min="0" max="10000" length="5" index="ms" left="Min" center="|" right="Max"
																								pattern="^\d+"></number-slider>
															</block-field>

													</block-group>
							<!-- / ANIMATIONS SETTINGS -->

							<!-- ANIMATIONS SETTINGS - OUT - TRANSITION -->
							<block-group>

															<block-field title="Slide Out X-Axis" ng-if="$scope[2][$scope[1]][1] == 'default'">
																	<number-slider model="$wrapper.macros[$wrapper_key + '_anim_out_x'].value"
																								min="-50" max="50" length="5" index="x" left="Left" center="|" right="Right"
																								pattern="^(-50|-[1-4][0-9]|-[0-9]|[0-9]|[1-4][0-9]|50)$"></number-slider>
															</block-field>

															<block-field title="Slide Out X-Axis *" ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">
																	<number-slider model="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_anim_out_x'].value"
																								min="-50" max="50" length="5" index="x" left="Left" center="|" right="Right"
																								pattern="^(-50|-[1-4][0-9]|-[0-9]|[0-9]|[1-4][0-9]|50)$"></number-slider>
															</block-field>

															<block-field title="Slide Out Y-Axis" ng-if="$scope[2][$scope[1]][1] == 'default'">
																	<number-slider model="$wrapper.macros[$wrapper_key + '_anim_out_y'].value"
																								min="-50" max="50" length="5" index="x" left="Top" center="|" right="Bottom"
																								pattern="^(-50|-[1-4][0-9]|-[0-9]|[0-9]|[1-4][0-9]|50)$"></number-slider>
															</block-field>

															<block-field title="Slide Out Y-Axis *" ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">
																	<number-slider model="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_anim_out_y'].value"
																								min="-50" max="50" length="5" index="x" left="Left" center="|" right="Right"
																								pattern="^(-50|-[1-4][0-9]|-[0-9]|[0-9]|[1-4][0-9]|50)$"></number-slider>
															</block-field>

															<block-field title="Slide Out Z-Axis" ng-if="$scope[2][$scope[1]][1] == 'default'">
																	<number-slider model="$wrapper.macros[$wrapper_key + '_anim_out_z'].value"
																								min="-10" max="10" length="5" index="x" left="Small" center="|" right="Large"
																								pattern="^(-10|-[0-9]|[0-9]|10)$"></number-slider>
															</block-field>

															<block-field title="Slide Out Z-Axis *" ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">
																	<number-slider model="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_anim_out_z'].value"
																								min="-50" max="50" length="5" index="x" left="Left" center="|" right="Right"
																								pattern="^(-50|-[1-4][0-9]|-[0-9]|[0-9]|[1-4][0-9]|50)$"></number-slider>
															</block-field>

															<block-field title="Slide Out Z Origin" ng-if="$scope[2][$scope[1]][1] == 'default'">
																	<dropdown-select model="$wrapper.macros[$wrapper_key + '_anim_out_origin'].value">
																			<option value="center">Center</option>
																			<option value="left">Left</option>
																			<option value="right">Right</option>
																			<option value="top">Top</option>
																			<option value="bottom">Bottom</option>
																	</dropdown-select>
															</block-field>

															<block-field title="Slide Out Z Origin *" ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">
																	<dropdown-select model="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_anim_out_origin'].value">
																			<option value="center">Center</option>
																			<option value="left">Left</option>
																			<option value="right">Right</option>
																			<option value="top">Top</option>
																			<option value="bottom">Bottom</option>
																	</dropdown-select>
															</block-field>

													</block-group>
							<!-- / ANIMATIONS SETTINGS -->

						</div>

						<div ng-if="($scope[1] == 'appear')">

							<!-- STATE VALIDATION -->
							<data ng-if="$nav[$data.editor.scope[0]][2] = null"></data>
							<data ng-if="$nav[$data.editor.scope[0]][3] = null"></data>
							<!-- / STATE VALIDATION -->

							<!-- SHORTCUTS -->
							<data ng-if="$holder_key = null"></data>
							<data ng-if="$holder = null"></data>
							<data ng-if="$target_key = null"></data>
							<data ng-if="$target = null"></data>
							<!-- / SHORTCUTS -->

							<!-- SHORTCUTS -->
							<data ng-if="$exceptions = $wrapper.macros.excepts"></data>
							<data ng-if="$exception_preset = $wrapper.macros.excepts.preset"></data>
							<!-- / SHORTCUTS -->

							<!-- VARIATIONS -->
							<data ng-init="$variation_setup = [_.concat(['default'], $variations[$wrapper_key + '_orient'], $variations['CV_tens'], $variations['CV_scale'], $variations['CV_size']), 'default', _.concat(['default'])]"></data>
							<!-- VARIATIONS -->

							<!-- VARIATION PICKER -->
							<block-group ng-class="{disabled: (_.size($scope[2][$scope[1]][0]) <= 1)}">

								<block-field title="{{ :: $dict.label_variation }} @" class="label">

									<!-- VARIATION VALIDATION -->
									<data ng-if="$scope[2][$scope[1]] == undefined" ng-init="$scope[2][$scope[1]] = [$variation_setup[0], $variation_setup[1]]"></data>
									<data ng-if="$holder && $holder.layers[$target_key] != undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[0]"></data>
									<data ng-if="$holder && $holder.layers[$target_key] == undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[2]"></data>
									<!-- VARIATION VALIDATION -->

									<!-- CLONE PRESET AS NEW EXCEPTION -->
									<data ng-if="$scope[2][$scope[1]][1] != 'default' && $exceptions && $exception_preset && $exceptions[$scope[2][$scope[1]][1]] == undefined" ng-init="$exceptions[$scope[2][$scope[1]][1]] = _.cloneDeep($exception_preset)"></data>
									<!-- / CLONE PRESET AS NEW EXCEPTION -->

									<dropdown-select model="$scope[2][$scope[1]][1]" ng-class="{'col-2-3' : ($exceptions && $scope[2][$scope[1]][1] != 'default')}">
										<optgroup label="{{ :: $dict.label_default }}">
											<option value="default">{{ :: $dict.label_default }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_element_orientation }}" ng-if="$variations[$wrapper_key + '_orient']">
											<option ng-repeat="$variation in $variations[$wrapper_key + '_orient']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_creative_tension }}" ng-if="$variations['CV_tens']">
											<option ng-repeat="$variation in $variations['CV_tens']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_creative_scale }}" ng-if="$variations['CV_scale']">
											<option ng-repeat="$variation in $variations['CV_scale']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_creative_size }}" ng-if="$variations['CV_size']">
											<option ng-repeat="$variation in $variations['CV_size']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] ? $dict['label_' + $variation] : _.replace($variation, 'CV_size_', '') }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
									</dropdown-select>

									<div ng-if="$exceptions && $scope[2][$scope[1]][1] != 'default'" class="col-1-3">
										<toggle-button model="$exceptions[$scope[2][$scope[1]][1]].enabled" on="On" off="Off"></toggle-button>
									</div>

									<block-info ng-if="(_.size($variation_setup[0]) <= 1)">
										<p>
											<small><q>
												{{ :: $dict.hint_variation_not_available }}
											</q></small>
										</p>
									</block-info>

									<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
										<p>
											<small><q>
												{{ :: $dict.hint_variation_default_required }}
											</q></small>
										</p>
									</block-info>

									<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
										<p>
											<small><q>
												{{ :: $dict.hint_variation_default_is }}
											</q></small>
										</p>
									</block-info>

									<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
										<p>
											<small>
												<q>{{ :: $dict.hint_variations_active }}</q>
												<span ng-repeat="($key, $exceptions) in $exceptions">
													<q ng-if="$exceptions.enabled && $exceptions.data"><a ng-click="$scope[2][$scope[1]][1] = $key">{{ $dict['label_' + $key] ? $dict['label_' + $key] : _.replace($key, 'CV_size_', '') }}</a>, </q>
												</span>
												<q><a ng-click="$scope[2][$scope[1]][1] = 'default'">{{ :: $dict.label_default }}</a></q>
											</small>
										</p>
									</block-info>

									<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
										<p ng-if="$relations[$scope[2][$scope[1]][1]]">
											<small>
												<q>
													{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_apply_asterisks }}
												</q>
											</small>
											<small>
												<q ng-repeat="$relation in $relations[$scope[2][$scope[1]][1]]"><a ng-click="$editor.changePreviewSize($relation)">{{ :: $relation }}</a>, </q>
												<q><a ng-click="$editor.changePreviewSize('RxR')">RxR</a></q>
											</small>
										</p>
										<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] == 'default'">
											<small>
												<q>
													{{ :: $dict.hint_variation_default_is }}
												</q>
											</small>
										</p>
										<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] != 'default'">
											<small>
												<q>
													{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_dynamic }}
												</q>
											</small>
										</p>
									</block-info>

								</block-field>

							</block-group>
							<!-- / VARIATION PICKER -->

							<!-- UPDATE DEFAULT PRESET VALUES -->
							<data ng-repeat="$item in [$wrapper_key + '_position', $wrapper_key + '_width', $wrapper_key + '_height', $wrapper_key + '_offset_margin', $wrapper_key + '_top', $wrapper_key + '_left', $wrapper_key + '_offset_top', $wrapper_key + '_offset_left']" ng-if="$scope[2][$scope[1]][1] != 'default' && $exceptions && $exception_preset && $exception_preset.data[$item].value != $wrapper.macros[$item].value" ng-init="$exception_preset.data[$item].value = $wrapper.macros[$item].value"></data>
							<data ng-repeat="$item in [$wrapper_key + '_place_type', $wrapper_key + '_limit_min', $wrapper_key + '_limit_max', $wrapper_key + '_mask_type']" ng-if="$scope[2][$scope[1]][1] != 'default' && $exceptions && $exception_preset && $exception_preset.data[$item].value != $wrapper.macros[$item].value" ng-init="$exception_preset.data[$item].value = $wrapper.macros[$item].value"></data>
							<!-- / UPDATE DEFAULT PRESET VALUES -->

							<!-- VISIBILITY PICKER -->
							<block-group ng-class="{disabled: ($scope[2][$scope[1]][1] != 'default')}">

								<block-field title="Element Visibility">
									<toggle-button model="$wrapper.enabled" on="Visible" off="Hidden"></toggle-button>
								</block-field>

							</block-group>
							<!-- / VISIBILITY PICKER -->

							<!-- APPEARANCE PICKER -->
							<block-group ng-class="{disabled: (!$wrapper.enabled)}">

								<block-field title="Element Mask" ng-if="$scope[2][$scope[1]][1] == 'default'">
									<dropdown-select model="$wrapper.macros[$wrapper_key + '_mask_type'].value">
										<option value="circle">Circle</option>
										<option value="circle_sharp">Sharp Circle</option>
										<option value="none">None</option>
									</dropdown-select>
								</block-field>

								<block-field title="Element Mask * " ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">
									<dropdown-select model="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_mask_type'].value">
										<option value="circle">Circle</option>
										<option value="circle_sharp">Sharp Circle</option>
										<option value="none">None</option>
									</dropdown-select>
								</block-field>

								<block-field title="Element Overflow" ng-if="$scope[2][$scope[1]][1] == 'default'">
									<dropdown-select model="$wrapper.attrs[$wrapper_key + '_style'].css.overflow">
										<option value="hidden">Hidden</option>
										<option value="visible">Visible</option>
									</dropdown-select>
								</block-field>

								<block-field title="Element Opacity" ng-class="{disabled: ($scope[2][$scope[1]][1] != 'default')}">
									<number-slider model="$wrapper.attrs[$wrapper_key + '_style'].css.opacity.value"
													min="0" max="10" length="2" index="x" left="Transparent" center="|" right="Visible"
													pattern="^([0-9]|10)$"></number-slider>
								</block-field>

							</block-group>
							<!-- / APPEARANCE PICKER -->

							<!-- ASSET QUALITY PICKER -->
							<block-group ng-class="{disabled: (!$wrapper.enabled)}">

								<block-field title="Resolution Multiplier" ng-class="{disabled: ($scope[2][$scope[1]][1] != 'default')}">
									<number-slider model="$wrapper.macros[$wrapper_key + '_ratio'].value"
													min="1" max="3" length="1" index="x" left="Min" center="|" right="Max"
													pattern="^([1-3])$"></number-slider>
									<block-info>
										<p>
											<small><q>{{ $dict.hint_resolution_multiplier }}</q></small>
										</p>
									</block-info>
								</block-field>

								<block-field title="Resolution Min" ng-if="$scope[2][$scope[1]][1] == 'default'">
									<number-slider model="$wrapper.macros[$wrapper_key + '_limit_min'].value"
													min="0" max="8" length="1" index="x" left="160" center="|" right="2560"
													pattern="^([0-6])$"></number-slider>
								</block-field>

								<block-field title="Resolution Min *" ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">
									<number-slider model="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_limit_min'].value"
													min="0" max="8" length="1" index="x" left="160" center="|" right="2560"
													pattern="^([0-6])$"></number-slider>
								</block-field>

								<block-field title="Resolution Max" ng-if="$scope[2][$scope[1]][1] == 'default'">
									<number-slider model="$wrapper.macros[$wrapper_key + '_limit_max'].value"
													min="0" max="8" length="1" index="x" left="160" cente	r="|" right="2560"
													pattern="^([0-8])$"></number-slider>
								</block-field>

								<block-field title="Resolution Max *" ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">
									<number-slider model="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_limit_max'].value"
													min="0" max="8" length="1" index="x" left="160" cente	r="|" right="2560"
													pattern="^([0-8])$"></number-slider>
								</block-field>

							</block-group>
							<!-- / ASSET QUALITY PICKER -->

							<!-- PLACEMENT AND POSITION PICKER -->
							<block-group ng-if="$scope[2][$scope[1]][1] == 'default'" ng-class="{disabled: (!$wrapper.enabled)}">

								<block-field title="Element Placement">
									<dropdown-select model="$wrapper.macros[$wrapper_key + '_place_type'].value">
										<option value="fill">Fill Entire Container</option>
										<option value="fit">Fit Focus Area</option>
									</dropdown-select>
									<block-info ng-class="{disabled: ($exceptions[$scope[2][$scope[1]][1]].data)}">
										<p>
											<small><q>{{ $dict.hint_asset_placement }}</q></small>
										</p>
									</block-info>
								</block-field>

								<block-field title="Element Position" ng-class="{disabled: ($wrapper.macros[$wrapper_key + '_place_type'].value != 'fit')}">
									<dropdown-select model="$wrapper.macros[$wrapper_key + '_position'].value">
										<!-- width_height_top_left -->
										<option value="custom">Custom</option>
										<optgroup label="Full Size">
											<option value="100_100_0_0">Full Size</option>
										</optgroup>
										<optgroup label="Half Height">
											<option value="100_50_-100_0">Half Top</option>
											<option value="100_50_0_0">Half Center</option>
											<option value="100_50_100_0">Half Bottom</option>
										</optgroup>
										<optgroup label="Half Width">
											<option value="50_100_0_-100">Half Left</option>
											<option value="50_100_0_0">Half Middle</option>
											<option value="50_100_0_100">Half Right</option>
										</optgroup>
									</dropdown-select>
								</block-field>

								<!-- POSITION VALIDATION -->
								<data ng-if="$wrapper.macros[$wrapper_key + '_position'].value == '100_100_0_0'" ng-init="$wrapper.macros[$wrapper_key + '_width'].value = 100; $wrapper.macros[$wrapper_key + '_height'].value = 100; $wrapper.macros[$wrapper_key + '_top'].value = 0; $wrapper.macros[$wrapper_key + '_left'].value = 0;"></data>
								<data ng-if="$wrapper.macros[$wrapper_key + '_position'].value == '100_50_-100_0'" ng-init="$wrapper.macros[$wrapper_key + '_width'].value = 100; $wrapper.macros[$wrapper_key + '_height'].value = 50; $wrapper.macros[$wrapper_key + '_top'].value = -100; $wrapper.macros[$wrapper_key + '_left'].value = 0;"></data>
								<data ng-if="$wrapper.macros[$wrapper_key + '_position'].value == '100_50_0_0'" ng-init="$wrapper.macros[$wrapper_key + '_width'].value = 100; $wrapper.macros[$wrapper_key + '_height'].value = 50; $wrapper.macros[$wrapper_key + '_top'].value = 0; $wrapper.macros[$wrapper_key + '_left'].value = 0;"></data>
								<data ng-if="$wrapper.macros[$wrapper_key + '_position'].value == '100_50_100_0'" ng-init="$wrapper.macros[$wrapper_key + '_width'].value = 100; $wrapper.macros[$wrapper_key + '_height'].value = 50; $wrapper.macros[$wrapper_key + '_top'].value = 100; $wrapper.macros[$wrapper_key + '_left'].value = 0;"></data>
								<data ng-if="$wrapper.macros[$wrapper_key + '_position'].value == '50_100_0_-100'" ng-init="$wrapper.macros[$wrapper_key + '_width'].value = 50; $wrapper.macros[$wrapper_key + '_height'].value = 100; $wrapper.macros[$wrapper_key + '_top'].value = 0; $wrapper.macros[$wrapper_key + '_left'].value = -100;"></data>
								<data ng-if="$wrapper.macros[$wrapper_key + '_position'].value == '50_100_0_0'" ng-init="$wrapper.macros[$wrapper_key + '_width'].value = 50; $wrapper.macros[$wrapper_key + '_height'].value = 100; $wrapper.macros[$wrapper_key + '_top'].value = 0; $wrapper.macros[$wrapper_key + '_left'].value = 0;"></data>
								<data ng-if="$wrapper.macros[$wrapper_key + '_position'].value == '50_100_0_100'" ng-init="$wrapper.macros[$wrapper_key + '_width'].value = 50; $wrapper.macros[$wrapper_key + '_height'].value = 100; $wrapper.macros[$wrapper_key + '_top'].value = 0; $wrapper.macros[$wrapper_key + '_left'].value = 100;"></data>
								<!-- / POSITION VALIDATION -->

							</block-group>
							<block-group ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">

								<block-field title="Element Placement * ">
									<dropdown-select model="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_place_type'].value">
										<option value="fill">Fill Entire Container</option>
										<option value="fit">Fit Focus Area</option>
									</dropdown-select>
									<block-info ng-class="{disabled: ($exceptions[$scope[2][$scope[1]][1]].data)}">
										<p>
											<small><q>{{ $dict.hint_asset_placement }}</q></small>
										</p>
									</block-info>
								</block-field>

								<block-field title="Element Position *" ng-class="{disabled: ($exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_place_type'].value != 'fit')}">
									<dropdown-select model="$exceptions[$scope[2][$scope[1]][1]].data[$nav[$data.editor.scope[0]][0] + '_position'].value">
										<!-- width_height_top_left -->
										<option value="custom">Custom</option>
										<optgroup label="Full Size">
											<option value="100_100_0_0">Full</option>
										</optgroup>
										<optgroup label="Half Height">
											<option value="100_50_-100_0">Half Top</option>
											<option value="100_50_0_0">Half Center</option>
											<option value="100_50_100_0">Half Bottom</option>
										</optgroup>
										<optgroup label="Half Width">
											<option value="50_100_0_-100">Half Left</option>
											<option value="50_100_0_0">Half Middle</option>
											<option value="50_100_0_100">Half Right</option>
										</optgroup>
									</dropdown-select>
								</block-field>

								<!-- POSITION VALIDATION -->
								<data ng-if="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_position'].value == '100_100_0_0'" ng-init="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_width'].value = 100; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_height'].value = 100; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_top'].value = 0; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_left'].value = 0;"></data>
								<data ng-if="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_position'].value == '100_50_-100_0'" ng-init="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_width'].value = 100; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_height'].value = 50; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_top'].value = -100; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_left'].value = 0;"></data>
								<data ng-if="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_position'].value == '100_50_0_0'" ng-init="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_width'].value = 100; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_height'].value = 50; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_top'].value = 0; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_left'].value = 0;"></data>
								<data ng-if="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_position'].value == '100_50_100_0'" ng-init="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_width'].value = 100; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_height'].value = 50; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_top'].value = 100; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_left'].value = 0;"></data>
								<data ng-if="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_position'].value == '50_100_0_-100'" ng-init="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_width'].value = 50; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_height'].value = 100; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_top'].value = 0; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_left'].value = -100;"></data>
								<data ng-if="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_position'].value == '50_100_0_0'" ng-init="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_width'].value = 50; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_height'].value = 100; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_top'].value = 0; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_left'].value = 0;"></data>
								<data ng-if="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_position'].value == '50_100_0_100'" ng-init="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_width'].value = 50; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_height'].value = 100; $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_top'].value = 0; $wrapper.macros[$wrapper_key + '_left'].value = 100;"></data>
								<!-- / POSITION VALIDATION -->

							</block-group>
							<!-- / PLACEMENT AND POSITION PICKER -->

							<!-- POSITION PICKER -->
							<block-group ng-if="$scope[2][$scope[1]][1] == 'default'" ng-class="{disabled: (!$wrapper.enabled || $wrapper.macros[$wrapper_key + '_place_type'].value != 'fit')}">

								<block-field title="Element Margin">
									<number-slider model="$wrapper.macros[$wrapper_key + '_margin'].value"
													min="-5" max="5" length="2" index="x" left="Small" center="|" right="Big"
													pattern="^(-[0-5]|[0-5])$"></number-slider>
								</block-field>

								<block-field title="Element X-Offset">
									<number-slider model="$wrapper.macros[$wrapper_key + '_offset_left'].value"
													min="-10" max="10" length="3" index="x" left="Left" center="|" right="Right"
													pattern="^(-10|-[0-9]|[0-9]|10)$"></number-slider>
								</block-field>

								<block-field title="Element Y-offset" ng-if="$scope[2][$scope[1]][1] == 'default'" >
									<number-slider model="$wrapper.macros[$wrapper_key + '_offset_top'].value"
													min="-10" max="10" length="3" index="x" left="Top" center="|" right="Bottom"
													pattern="^(-10|-[0-9]|[0-9]|10)$"></number-slider>
								</block-field>

							</block-group>
							<block-group ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled || $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_place_type'].value != 'fit')}">

								<block-field title="Element Margin * ">
									<number-slider model="$exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_margin'].value"
													min="-5" max="5" length="2" index="x" left="Small" center="|" right="Big"
													pattern="^(-[0-5]|[0-5])$"></number-slider>
								</block-field>

								<block-field title="Element X-Offset *">
									<number-slider model="$exceptions[$scope[2][$scope[1]][1]].data[$nav[$data.editor.scope[0]][0] + '_offset_left'].value"
													min="-10" max="10" length="3" index="x" left="Left" center="|" right="Right"
													pattern="^(-10|-[0-9]|[0-9]|10)$"></number-slider>
								</block-field>

								<block-field title="Element Y-Offset *">
									<number-slider model="$exceptions[$scope[2][$scope[1]][1]].data[$nav[$data.editor.scope[0]][0] + '_offset_top'].value"
													min="-10" max="10" length="3" index="x" left="Top" center="|" right="Bottom"
													pattern="^(-10|-[0-9]|[0-9]|10)$"></number-slider>
								</block-field>

							</block-group>
							<!-- / POSITION PICKER -->

							<!-- POSITION PICKER -->
							<block-group ng-if="$scope[2][$scope[1]][1] == 'default'" ng-class="{disabled: (!$wrapper.enabled || $wrapper.macros[$wrapper_key + '_position'].value != 'custom' || $wrapper.macros[$wrapper_key + '_place_type'].value != 'fit')}">

								<block-field title="Element Width">
									<number-slider model="$wrapper.macros[$wrapper_key + '_width'].value"
													left="Min" center="|" right="Max" min="0" max="100" length="4" index="%"
													pattern="^([0-9]|[1-9][0-9]|100)$"></number-slider>
								</block-field>

								<block-field title="Element Height">
									<number-slider model="$wrapper.macros[$wrapper_key + '_height'].value"
													left="Min" center="|" right="Max" min="0" max="100" length="4" index="%"
													pattern="^([0-9]|[1-9][0-9]|100)$"></number-slider>
								</block-field>

							</block-group>
							<block-group ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled || $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_position'].value != 'custom' || $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_place_type'].value != 'fit')}">

								<block-field title="Element Width *">
									<number-slider model="$exceptions[$scope[2][$scope[1]][1]].data[$nav[$data.editor.scope[0]][0] + '_width'].value"
													left="Min" center="|" right="Max" min="0" max="100" length="4" index="%"
													pattern="^([0-9]|[1-9][0-9]|100)$"></number-slider>
								</block-field>

								<block-field title="Element Height *">
									<number-slider model="$exceptions[$scope[2][$scope[1]][1]].data[$nav[$data.editor.scope[0]][0] + '_height'].value"
													left="Min" center="|" right="Max" min="0" max="100" length="4" index="%"
													pattern="^([0-9]|[1-9][0-9]|100)$"></number-slider>
								</block-field>

							</block-group>
							<!-- / POSITION PICKER -->

							<!-- POSITION PICKER -->
							<block-group ng-if="$scope[2][$scope[1]][1] == 'default'" ng-class="{disabled: (!$wrapper.enabled || $wrapper.macros[$wrapper_key + '_position'].value != 'custom' || $wrapper.macros[$wrapper_key + '_place_type'].value != 'fit')}">

								<block-field title="Element X-Axis">
									<number-slider model="$wrapper.macros[$wrapper_key + '_left'].value"
													left="Left" center="|" right="Right" min="-100" max="100" length="4" index="%"
													pattern="^(-100|-[1-9][0-9]|-[0-9]|[0-9]|[1-9][0-9]|100)$"></number-slider>
								</block-field>

								<block-field title="Element Y-Axis">
									<number-slider model="$wrapper.macros[$wrapper_key + '_top'].value"
													left="Top" center="|" right="Bottom" min="-100" max="100" length="4" index="%"
													pattern="^(-100|-[1-9][0-9]|-[0-9]|[0-9]|[1-9][0-9]|100)$"></number-slider>
								</block-field>

							</block-group>
							<block-group ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled || $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_position'].value != 'custom' || $exceptions[$scope[2][$scope[1]][1]].data[$wrapper_key + '_place_type'].value != 'fit')}">

								<block-field title="Element X-Axis *">
									<number-slider model="$exceptions[$scope[2][$scope[1]][1]].data[$nav[$data.editor.scope[0]][0] + '_left'].value"
													left="Left" center="|" right="Right" min="-100" max="100" length="4" index="%"
													pattern="^(-100|-[1-9][0-9]|-[0-9]|[0-9]|[1-9][0-9]|100)$"></number-slider>
								</block-field>

								<block-field title="Element Y-Axis *">
									<number-slider model="$exceptions[$scope[2][$scope[1]][1]].data[$nav[$data.editor.scope[0]][0] + '_top'].value"
													left="Top" center="|" right="Bottom" min="-100" max="100" length="4" index="x"
													pattern="^(-100|-[1-9][0-9]|-[0-9]|[0-9]|[1-9][0-9]|100)$"></number-slider>
								</block-field>

							</block-group>
							<!-- / POSITION PICKER -->

						</div>

					</block-group>

					<block-toggle title="Title" class="toggle" ng-class="{selected: ($data.editor.scope[1].indexOf('TL') != -1)}"
									ng-click="$data.editor.scope[1] = (($data.editor.scope[1] == 'TL') ? '' : 'TL')"></block-toggle>
					<block-group ng-if="($data.editor.scope[1].indexOf('TL') != -1)">

						<!-- TABS -->
						<data ng-init="$tab_setup = [['text', 'appear'], 'text', ['appear'], 'appear']"></data>
						<!-- / TABS -->

						<!-- STATE VALIDATION -->
						<data ng-if="$nav[$data.editor.scope[0]][0] = 'TL'"></data>
						<data ng-if="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]] == undefined" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]] = [$tab_setup[0], $tab_setup[1], {}]"></data>
						<!-- / STATE VALIDATION -->

						<!-- TAB VALIDATION -->
						<data ng-if="$frame.layers[$nav[$data.editor.scope[0]][0]].enabled == false" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]][0] = $tab_setup[2]"></data>
						<data ng-if="$frame.layers[$nav[$data.editor.scope[0]][0]].enabled == false" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]][1] = $tab_setup[3]"></data>
						<data ng-if="$frame.layers[$nav[$data.editor.scope[0]][0]].enabled != false" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]][0] = $tab_setup[0]"></data>
						<!-- TAB VALIDATION -->

						<!-- SHORTCUTS -->
						<data ng-if="$scope = $nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]]"></data>
						<data ng-if="$wrapper_key = $nav[$data.editor.scope[0]][0]"></data>
						<data ng-if="$wrapper = $frame.layers[$nav[$data.editor.scope[0]][0]]"></data>
						<!-- / SHORTCUTS -->

						<block-menu class="tabs">
							<a ng-repeat="$tab in $tab_setup[0]" ng-click="$scope[1] = $tab" ng-class="{selected: ($scope[1] == $tab), disabled: (_.indexOf($scope[0], $tab) == -1)}">{{ ::  $dict['label_' + $tab] }}</a>
						</block-menu>

						<div ng-if="($scope[1] == 'text')">

							<!-- STATE VALIDATION -->
							<data ng-if="$nav[$data.editor.scope[0]][2] = 'TXT'"></data>
							<data ng-if="$nav[$data.editor.scope[0]][3] = 0"></data>
							<!-- / STATE VALIDATION -->

							<!-- SHORTCUTS -->
							<data ng-if="$holder_key = $nav[$data.editor.scope[0]][2]"></data>
							<data ng-if="$holder = $wrapper.layers[$wrapper_key + '_' + $holder_key]"></data>
							<data ng-if="$target_key = $nav[$data.editor.scope[0]][3]"></data>
							<data ng-if="$target = $wrapper.layers[$wrapper_key + '_' + $holder_key].layers[$target_key]"></data>
							<!-- / SHORTCUTS -->

							<!-- SHORTCUTS -->
							<data ng-if="$exceptions = $wrapper.layers[$wrapper_key + '_' + $holder_key].layers[$target_key].excepts"></data>
							<data ng-if="$exception_preset = $wrapper.layers[$wrapper_key + '_' + $holder_key].layers[$target_key].excepts.preset"></data>
							<!-- / SHORTCUTS -->

							<!-- VARIATIONS -->
							<data ng-init="$variation_setup = [_.concat(['default'], $variations['TL' + '_orient'], $variations['CV_tens'], $variations['CV_scale'], $variations['CV_size']), 'default', _.concat(['default'])]"></data>
							<!-- VARIATIONS -->

							<!-- VARIATION PICKER -->
							<block-group ng-class="{disabled: (_.size($scope[2][$scope[1]][0]) <= 1)}">

								<block-field title="{{ :: $dict.label_variation }} @" class="label">

									<!-- VARIATION VALIDATION -->
									<data ng-if="$scope[2][$scope[1]] == undefined" ng-init="$scope[2][$scope[1]] = [$variation_setup[0], $variation_setup[1]]"></data>
									<data ng-if="$holder && $holder.layers[$target_key] != undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[0]"></data>
									<data ng-if="$holder && $holder.layers[$target_key] == undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[2]"></data>
									<!-- VARIATION VALIDATION -->

									<!-- CLONE PRESET AS NEW EXCEPTION -->
									<data ng-if="$scope[2][$scope[1]][1] != 'default' && $exceptions && $exception_preset && $exceptions[$scope[2][$scope[1]][1]] == undefined" ng-init="$exceptions[$scope[2][$scope[1]][1]] = _.cloneDeep($exception_preset)"></data>
									<!-- / CLONE PRESET AS NEW EXCEPTION -->

									<dropdown-select model="$scope[2][$scope[1]][1]" ng-class="{'col-2-3' : ($exceptions && $scope[2][$scope[1]][1] != 'default')}">
										<optgroup label="{{ :: $dict.label_default }}">
											<option value="default">{{ :: $dict.label_default }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_element_orientation }}" ng-if="$variations['TL' + '_orient']">
											<option ng-repeat="$variation in $variations['TL' + '_orient']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_creative_tension }}" ng-if="$variations['CV_tens']">
											<option ng-repeat="$variation in $variations['CV_tens']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_creative_scale }}" ng-if="$variations['CV_scale']">
											<option ng-repeat="$variation in $variations['CV_scale']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_creative_size }}" ng-if="$variations['CV_size']">
											<option ng-repeat="$variation in $variations['CV_size']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] ? $dict['label_' + $variation] : _.replace($variation, 'CV_size_', '') }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
									</dropdown-select>

									<div ng-if="$exceptions && $scope[2][$scope[1]][1] != 'default'" class="col-1-3">
										<toggle-button model="$exceptions[$scope[2][$scope[1]][1]].enabled" on="On" off="Off"></toggle-button>
									</div>

									<block-info ng-if="(_.size($variation_setup[0]) <= 1)">
										<p>
											<small><q>
												{{ :: $dict.hint_variation_not_available }}
											</q></small>
										</p>
									</block-info>

									<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
										<p>
											<small><q>
												{{ :: $dict.hint_variation_default_required }}
											</q></small>
										</p>
									</block-info>

									<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
										<p>
											<small><q>
												{{ :: $dict.hint_variation_default_is }}
											</q></small>
										</p>
									</block-info>

									<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
										<p>
											<small>
												<q>{{ :: $dict.hint_variations_active }}</q>
												<span ng-repeat="($key, $exceptions) in $exceptions">
													<q ng-if="$exceptions.enabled && $exceptions.data"><a ng-click="$scope[2][$scope[1]][1] = $key">{{ $dict['label_' + $key] ? $dict['label_' + $key] : _.replace($key, 'CV_size_', '') }}</a>, </q>
												</span>
												<q><a ng-click="$scope[2][$scope[1]][1] = 'default'">{{ :: $dict.label_default }}</a></q>
											</small>
										</p>
									</block-info>

									<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
										<p ng-if="$relations[$scope[2][$scope[1]][1]]">
											<small>
												<q>
													{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_apply_asterisks }}
												</q>
											</small>
											<small>
												<q ng-repeat="$relation in $relations[$scope[2][$scope[1]][1]]"><a ng-click="$editor.changePreviewSize($relation)">{{ :: $relation }}</a>, </q>
												<q><a ng-click="$editor.changePreviewSize('RxR')">RxR</a></q>
											</small>
										</p>
										<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] == 'default'">
											<small>
												<q>
													{{ :: $dict.hint_variation_default_is }}
												</q>
											</small>
										</p>
										<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] != 'default'">
											<small>
												<q>
													{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_dynamic }}
												</q>
											</small>
										</p>
									</block-info>

								</block-field>

							</block-group>
							<!-- / VARIATION PICKER -->

							<!-- UPDATE DEFAULT PRESET VALUES -->
							<data ng-if="$scope[2][$scope[1]][1] != 'default' && $exception_preset.data.sources[0].text != $target.sources[0].text" ng-init="$exception_preset.data.sources[0].text = $target.sources[0].text"></data>
							<data ng-if="$scope[2][$scope[1]][1] != 'default' && $exception_preset.data.attrs[$nav[$data.editor.scope[0]][0] + '_style'].css['font-size'].value != $target.attrs[$nav[$data.editor.scope[0]][0] + '_style'].css['font-size'].value" ng-init="$exception_preset.data.attrs[$nav[$data.editor.scope[0]][0] + '_style'].css['font-size'].value = $target.attrs[$nav[$data.editor.scope[0]][0] + '_style'].css['font-size'].value"></data>
							<data ng-if="$scope[2][$scope[1]][1] != 'default' && $exception_preset.data.attrs[$nav[$data.editor.scope[0]][0] + '_size'].name != $target.attrs[$nav[$data.editor.scope[0]][0] + '_size'].name" ng-init="$exception_preset.data.attrs[$nav[$data.editor.scope[0]][0] + '_size'].name = $target.attrs[$nav[$data.editor.scope[0]][0] + '_size'].name"></data>
							<!-- / UPDATE DEFAULT PRESET VALUES -->

							<!-- ELEMENT SOURCE -->
							<block-group>

								<!--<block-field title="Text Origin" ng-if="$data.banner.feeds[0].enabled" ng-class="{disabled: ($scope[2][$scope[1]][1] != 'default')}">
									<toggle-button model="$target.feed.enabled" on="Use Feed" off="Custom Source"></toggle-button>
								</block-field>-->

								<block-field title="Text Source" ng-if="$scope[2][$scope[1]][1] == 'default'">
									<text-area model="$target.sources[0].text"></text-area>
									<block-info>
										<p>
											<small><q>{{ :: $dict.hint_text_area }} {{ :: $dict.hint_text_macros }}</q></small>
										</p>
									</block-info>
								</block-field>

								<block-field title="Text Source *" ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">
									<text-area placeholder="Value"
												model="$exceptions[$scope[2][$scope[1]][1]].data.sources[0].text"></text-area>
									<block-info>
										<p>
										<small><q>
											<a ng-click="$exceptions[$scope[2][$scope[1]][1]].data.sources[0].text = $target.sources[0].text">Clone</a> asset source from default variation.
										</q></small>
									</p>
									<p>
										<small><q>
											<small><q>{{ :: $dict.hint_text_area }} {{ :: $dict.hint_text_macros }}</q></small>
										</q></small>
									</p>
									</block-info>
								</block-field>

								<block-field title="Text Transform" ng-class="{disabled: ($scope[2][$scope[1]][1] != 'default')}">
									<dropdown-select model="$target.attrs[$nav[$data.editor.scope[0]][0] + '_style'].css['text-transform']">
										<option value="none">None</option>
										<option value="uppercase">Uppercase</option>
									</dropdown-select>
								</block-field>

							</block-group>
							<!-- / ELEMENT SOURCE -->

							<!-- ELEMENT STYLE -->
							<block-group>

								<block-field title="Font Face" ng-class="{disabled: ($scope[2][$scope[1]][1] != 'default')}">
									<dropdown-select model="$target.attrs[$nav[$data.editor.scope[0]][0] + '_font'].name">
										<option ng-repeat="$font in $fonts" value="{{ $font[0] }}">{{ $font[1] }}</option>
									</dropdown-select>
								</block-field>

								<block-field title="Font Size" ng-if="$scope[2][$scope[1]][1] == 'default'">
									<number-slider model="$target.attrs[$nav[$data.editor.scope[0]][0] + '_style'].css['font-size'].value"
													min="0" max="6" length="1" index="x" left="Small" center="|" right="Large"
													pattern="^([0-6])$"></number-slider>
									<block-info>
										<p>
											<small><q>{{ $dict.hint_text_size }}</q></small>
										</p>
									</block-info>
								</block-field>

								<block-field title="Font Size *" ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">
									<number-slider model="$exceptions[$scope[2][$scope[1]][1]].data.attrs[$nav[$data.editor.scope[0]][0] + '_style'].css['font-size'].value"
													min="0" max="6" length="1" index="x" left="Small" center="|" right="Large"
													pattern="^([0-6])$"></number-slider>
									<block-info>
										<p>
											<small><q>{{ $dict.hint_text_size }}</q></small>
										</p>
									</block-info>
								</block-field>

							</block-group>
							<!-- / ELEMENT STYLE -->

						</div>

						<div ng-if="($scope[1] == 'appear')">

							<!-- STATE VALIDATION -->
							<data ng-if="$nav[$data.editor.scope[0]][2] = null"></data>
							<data ng-if="$nav[$data.editor.scope[0]][3] = null"></data>
							<!-- / STATE VALIDATION -->

							<!-- SHORTCUTS -->
							<data ng-if="$holder_key = null"></data>
							<data ng-if="$holder = null"></data>
							<data ng-if="$target_key = null"></data>
							<data ng-if="$target = null"></data>
							<!-- / SHORTCUTS -->

							<!-- SHORTCUTS -->
							<data ng-if="$exceptions = null"></data>
							<data ng-if="$exception_preset = null"></data>
							<!-- / SHORTCUTS -->

							<!-- VARIATIONS -->
							<data ng-init="$variation_setup = [_.concat(['default']), 'default', _.concat(['default'])]"></data>
							<!-- VARIATIONS -->

							<!-- VARIATION PICKER -->
							<block-group ng-class="{disabled: (_.size($scope[2][$scope[1]][0]) <= 1)}">

								<block-field title="{{ :: $dict.label_variation }} @" class="label">

									<!-- VARIATION VALIDATION -->
									<data ng-if="$scope[2][$scope[1]] == undefined" ng-init="$scope[2][$scope[1]] = [$variation_setup[0], $variation_setup[1]]"></data>
									<data ng-if="$holder && $holder.layers[$target_key] != undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[0]"></data>
									<data ng-if="$holder && $holder.layers[$target_key] == undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[2]"></data>
									<!-- VARIATION VALIDATION -->

									<!-- CLONE PRESET AS NEW EXCEPTION -->
									<data ng-if="$scope[2][$scope[1]][1] != 'default' && $exceptions && $exception_preset && $exceptions[$scope[2][$scope[1]][1]] == undefined" ng-init="$exceptions[$scope[2][$scope[1]][1]] = _.cloneDeep($exception_preset)"></data>
									<!-- / CLONE PRESET AS NEW EXCEPTION -->

									<dropdown-select model="$scope[2][$scope[1]][1]" ng-class="{'col-2-3' : ($exceptions && $scope[2][$scope[1]][1] != 'default')}">
										<optgroup label="{{ :: $dict.label_default }}">
											<option value="default">{{ :: $dict.label_default }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_element_orientation }}" ng-if="$variations[$wrapper_key + '_orient']">
											<option ng-repeat="$variation in $variations[$wrapper_key + '_orient']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_creative_tension }}" ng-if="$variations['CV_tens']">
											<option ng-repeat="$variation in $variations['CV_tens']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_creative_scale }}" ng-if="$variations['CV_scale']">
											<option ng-repeat="$variation in $variations['CV_scale']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_creative_size }}" ng-if="$variations['CV_size']">
											<option ng-repeat="$variation in $variations['CV_size']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] ? $dict['label_' + $variation] : _.replace($variation, 'CV_size_', '') }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
									</dropdown-select>

									<div ng-if="$exceptions && $scope[2][$scope[1]][1] != 'default'" class="col-1-3">
										<toggle-button model="$exceptions[$scope[2][$scope[1]][1]].enabled" on="On" off="Off"></toggle-button>
									</div>

									<block-info ng-if="(_.size($variation_setup[0]) <= 1)">
										<p>
											<small><q>
												{{ :: $dict.hint_variation_not_available }}
											</q></small>
										</p>
									</block-info>

									<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
										<p>
											<small><q>
												{{ :: $dict.hint_variation_default_required }}
											</q></small>
										</p>
									</block-info>

									<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
										<p>
											<small><q>
												{{ :: $dict.hint_variation_default_is }}
											</q></small>
										</p>
									</block-info>

									<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
										<p>
											<small>
												<q>{{ :: $dict.hint_variations_active }}</q>
												<span ng-repeat="($key, $exceptions) in $exceptions">
													<q ng-if="$exceptions.enabled && $exceptions.data"><a ng-click="$scope[2][$scope[1]][1] = $key">{{ $dict['label_' + $key] ? $dict['label_' + $key] : _.replace($key, 'CV_size_', '') }}</a>, </q>
												</span>
												<q><a ng-click="$scope[2][$scope[1]][1] = 'default'">{{ :: $dict.label_default }}</a></q>
											</small>
										</p>
									</block-info>

									<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
										<p ng-if="$relations[$scope[2][$scope[1]][1]]">
											<small>
												<q>
													{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_apply_asterisks }}
												</q>
											</small>
											<small>
												<q ng-repeat="$relation in $relations[$scope[2][$scope[1]][1]]"><a ng-click="$editor.changePreviewSize($relation)">{{ :: $relation }}</a>, </q>
												<q><a ng-click="$editor.changePreviewSize('RxR')">RxR</a></q>
											</small>
										</p>
										<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] == 'default'">
											<small>
												<q>
													{{ :: $dict.hint_variation_default_is }}
												</q>
											</small>
										</p>
										<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] != 'default'">
											<small>
												<q>
													{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_dynamic }}
												</q>
											</small>
										</p>
									</block-info>

								</block-field>

							</block-group>
							<!-- / VARIATION PICKER -->

							<!-- VISIBILITY PICKER -->
							<!--<block-group ng-class="{disabled: ($scope[2][$scope[1]][1] != 'default')}">-->
							<block-group>

								<block-field title="Element Visibility">
									<toggle-button model="$wrapper.enabled" on="Visible" off="Hidden"></toggle-button>
								</block-field>

							</block-group>
							<!-- / VISIBILITY PICKER -->
							{{ $wrapper.layers }}
							<block-field title="Overlay Opacity">
								<number-slider model="$wrapper.layers[$wrapper_key + '_' + 'TXT'].attrs.style_SHD.opacity.value"
												min="0" max="100" length="3" index="%" left="Transparent" center="|" right="Visible" pattern="^\d+"></number-slider>
							</block-field>

						</div>

					</block-group>

					<block-toggle title="Subtitle" class="toggle" ng-class="{selected: ($data.editor.scope[1].indexOf('DS') != -1)}"
									ng-click="$data.editor.scope[1] = (($data.editor.scope[1] == 'DS') ? '' : 'DS')"></block-toggle>
					<block-group ng-if="($data.editor.scope[1].indexOf('DS') != -1)">

						<!-- TABS -->
						<data ng-init="$tab_setup = [['text', 'appear'], 'text', ['appear'], 'appear']"></data>
						<!-- / TABS -->

						<!-- STATE VALIDATION -->
						<data ng-if="$nav[$data.editor.scope[0]][0] = 'DS'"></data>
						<data ng-if="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]] == undefined" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]] = [$tab_setup[0], $tab_setup[1], {}]"></data>
						<!-- / STATE VALIDATION -->

						<!-- TAB VALIDATION -->
						<data ng-if="$frame.layers[$nav[$data.editor.scope[0]][0]].enabled == false" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]][0] = $tab_setup[2]"></data>
						<data ng-if="$frame.layers[$nav[$data.editor.scope[0]][0]].enabled == false" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]][1] = $tab_setup[3]"></data>
						<data ng-if="$frame.layers[$nav[$data.editor.scope[0]][0]].enabled != false" ng-init="$nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]][0] = $tab_setup[0]"></data>
						<!-- TAB VALIDATION -->

						<!-- SHORTCUTS -->
						<data ng-if="$scope = $nav[$data.editor.scope[0]][1][$nav[$data.editor.scope[0]][0]]"></data>
						<data ng-if="$wrapper_key = $nav[$data.editor.scope[0]][0]"></data>
						<data ng-if="$wrapper = $frame.layers[$nav[$data.editor.scope[0]][0]]"></data>
						<!-- / SHORTCUTS -->

						<block-menu class="tabs">
							<a ng-repeat="$tab in $tab_setup[0]" ng-click="$scope[1] = $tab" ng-class="{selected: ($scope[1] == $tab), disabled: (_.indexOf($scope[0], $tab) == -1)}">{{ ::  $dict['label_' + $tab] }}</a>
						</block-menu>

						<div ng-if="($scope[1] == 'text')">

							<!-- STATE VALIDATION -->
							<data ng-if="$nav[$data.editor.scope[0]][2] = 'TXT'"></data>
							<data ng-if="$nav[$data.editor.scope[0]][3] = 0"></data>
							<!-- / STATE VALIDATION -->

							<!-- SHORTCUTS -->
							<data ng-if="$holder_key = $nav[$data.editor.scope[0]][2]"></data>
							<data ng-if="$holder = $wrapper.layers[$wrapper_key + '_' + $holder_key]"></data>
							<data ng-if="$target_key = $nav[$data.editor.scope[0]][3]"></data>
							<data ng-if="$target = $wrapper.layers[$wrapper_key + '_' + $holder_key].layers[$target_key]"></data>
							<!-- / SHORTCUTS -->

							<!-- SHORTCUTS -->
							<data ng-if="$exceptions = $wrapper.layers[$wrapper_key + '_' + $holder_key].layers[$target_key].excepts"></data>
							<data ng-if="$exception_preset = $wrapper.layers[$wrapper_key + '_' + $holder_key].layers[$target_key].excepts.preset"></data>
							<!-- / SHORTCUTS -->

							<!-- VARIATIONS -->
							<data ng-init="$variation_setup = [_.concat(['default'], $variations['TL' + '_orient'], $variations['CV_tens'], $variations['CV_scale'], $variations['CV_size']), 'default', _.concat(['default'])]"></data>
							<!-- VARIATIONS -->

							<!-- VARIATION PICKER -->
							<block-group ng-class="{disabled: (_.size($scope[2][$scope[1]][0]) <= 1)}">

								<block-field title="{{ :: $dict.label_variation }} @" class="label">

									<!-- VARIATION VALIDATION -->
									<data ng-if="$scope[2][$scope[1]] == undefined" ng-init="$scope[2][$scope[1]] = [$variation_setup[0], $variation_setup[1]]"></data>
									<data ng-if="$holder && $holder.layers[$target_key] != undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[0]"></data>
									<data ng-if="$holder && $holder.layers[$target_key] == undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[2]"></data>
									<!-- VARIATION VALIDATION -->

									<!-- CLONE PRESET AS NEW EXCEPTION -->
									<data ng-if="$scope[2][$scope[1]][1] != 'default' && $exceptions && $exception_preset && $exceptions[$scope[2][$scope[1]][1]] == undefined" ng-init="$exceptions[$scope[2][$scope[1]][1]] = _.cloneDeep($exception_preset)"></data>
									<!-- / CLONE PRESET AS NEW EXCEPTION -->

									<dropdown-select model="$scope[2][$scope[1]][1]" ng-class="{'col-2-3' : ($exceptions && $scope[2][$scope[1]][1] != 'default')}">
										<optgroup label="{{ :: $dict.label_default }}">
											<option value="default">{{ :: $dict.label_default }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_element_orientation }}" ng-if="$variations['TL' + '_orient']">
											<option ng-repeat="$variation in $variations['TL' + '_orient']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_creative_tension }}" ng-if="$variations['CV_tens']">
											<option ng-repeat="$variation in $variations['CV_tens']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_creative_scale }}" ng-if="$variations['CV_scale']">
											<option ng-repeat="$variation in $variations['CV_scale']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_creative_size }}" ng-if="$variations['CV_size']">
											<option ng-repeat="$variation in $variations['CV_size']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] ? $dict['label_' + $variation] : _.replace($variation, 'CV_size_', '') }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
									</dropdown-select>

									<div ng-if="$exceptions && $scope[2][$scope[1]][1] != 'default'" class="col-1-3">
										<toggle-button model="$exceptions[$scope[2][$scope[1]][1]].enabled" on="On" off="Off"></toggle-button>
									</div>

									<block-info ng-if="(_.size($variation_setup[0]) <= 1)">
										<p>
											<small><q>
												{{ :: $dict.hint_variation_not_available }}
											</q></small>
										</p>
									</block-info>

									<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
										<p>
											<small><q>
												{{ :: $dict.hint_variation_default_required }}
											</q></small>
										</p>
									</block-info>

									<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
										<p>
											<small><q>
												{{ :: $dict.hint_variation_default_is }}
											</q></small>
										</p>
									</block-info>

									<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
										<p>
											<small>
												<q>{{ :: $dict.hint_variations_active }}</q>
												<span ng-repeat="($key, $exceptions) in $exceptions">
													<q ng-if="$exceptions.enabled && $exceptions.data"><a ng-click="$scope[2][$scope[1]][1] = $key">{{ $dict['label_' + $key] ? $dict['label_' + $key] : _.replace($key, 'CV_size_', '') }}</a>, </q>
												</span>
												<q><a ng-click="$scope[2][$scope[1]][1] = 'default'">{{ :: $dict.label_default }}</a></q>
											</small>
										</p>
									</block-info>

									<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
										<p ng-if="$relations[$scope[2][$scope[1]][1]]">
											<small>
												<q>
													{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_apply_asterisks }}
												</q>
											</small>
											<small>
												<q ng-repeat="$relation in $relations[$scope[2][$scope[1]][1]]"><a ng-click="$editor.changePreviewSize($relation)">{{ :: $relation }}</a>, </q>
												<q><a ng-click="$editor.changePreviewSize('RxR')">RxR</a></q>
											</small>
										</p>
										<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] == 'default'">
											<small>
												<q>
													{{ :: $dict.hint_variation_default_is }}
												</q>
											</small>
										</p>
										<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] != 'default'">
											<small>
												<q>
													{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_dynamic }}
												</q>
											</small>
										</p>
									</block-info>

								</block-field>

							</block-group>
							<!-- / VARIATION PICKER -->

							<!-- UPDATE DEFAULT PRESET VALUES -->
							<data ng-if="$scope[2][$scope[1]][1] != 'default' && $exception_preset.data.sources[0].text != $target.sources[0].text" ng-init="$exception_preset.data.sources[0].text = $target.sources[0].text"></data>
							<data ng-if="$scope[2][$scope[1]][1] != 'default' && $exception_preset.data.attrs[$nav[$data.editor.scope[0]][0] + '_style'].css['font-size'].value != $target.attrs[$nav[$data.editor.scope[0]][0] + '_style'].css['font-size'].value" ng-init="$exception_preset.data.attrs[$nav[$data.editor.scope[0]][0] + '_style'].css['font-size'].value = $target.attrs[$nav[$data.editor.scope[0]][0] + '_style'].css['font-size'].value"></data>
							<data ng-if="$scope[2][$scope[1]][1] != 'default' && $exception_preset.data.attrs[$nav[$data.editor.scope[0]][0] + '_size'].name != $target.attrs[$nav[$data.editor.scope[0]][0] + '_size'].name" ng-init="$exception_preset.data.attrs[$nav[$data.editor.scope[0]][0] + '_size'].name = $target.attrs[$nav[$data.editor.scope[0]][0] + '_size'].name"></data>
							<!-- / UPDATE DEFAULT PRESET VALUES -->

							<!-- ELEMENT SOURCE -->
							<block-group>

								<!--<block-field title="Text Origin" ng-if="$data.banner.feeds[0].enabled" ng-class="{disabled: ($scope[2][$scope[1]][1] != 'default')}">
									<toggle-button model="$target.feed.enabled" on="Use Feed" off="Custom Source"></toggle-button>
								</block-field>-->

								<block-field title="Text Source" ng-if="$scope[2][$scope[1]][1] == 'default'">
									<text-area model="$target.sources[0].text"></text-area>
									<block-info>
										<p>
											<small><q>{{ :: $dict.hint_text_area }} {{ :: $dict.hint_text_macros }}</q></small>
										</p>
									</block-info>
								</block-field>

								<block-field title="Text Source *" ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">
									<text-area placeholder="Value"
												model="$exceptions[$scope[2][$scope[1]][1]].data.sources[0].text"></text-area>
									<block-info>
										<p>
											<small><q>
												<a ng-click="$exceptions[$scope[2][$scope[1]][1]].data.sources[0].text = $target.sources[0].text">Clone</a> asset source from default variation.
											</q></small>
										</p>
										<p>
											<small><q>
												<small><q>{{ :: $dict.hint_text_area }} {{ :: $dict.hint_text_macros }}</q></small>
											</q></small>
										</p>
									</block-info>
								</block-field>

								<block-field title="Text Transform" ng-class="{disabled: ($scope[2][$scope[1]][1] != 'default')}">
									<dropdown-select model="$target.attrs[$nav[$data.editor.scope[0]][0] + '_style'].css['text-transform']">
										<option value="none">None</option>
										<option value="uppercase">Uppercase</option>
									</dropdown-select>
								</block-field>

							</block-group>
							<!-- / ELEMENT SOURCE -->

							<!-- ELEMENT STYLE -->
							<block-group>

								<block-field title="Font Face" ng-class="{disabled: ($scope[2][$scope[1]][1] != 'default')}">
									<dropdown-select model="$target.attrs[$nav[$data.editor.scope[0]][0] + '_font'].name">
										<option ng-repeat="$font in $fonts" value="{{ $font[0] }}">{{ $font[1] }}</option>
									</dropdown-select>
								</block-field>

								<block-field title="Font Size" ng-if="$scope[2][$scope[1]][1] == 'default'">
									<number-slider model="$target.attrs[$nav[$data.editor.scope[0]][0] + '_style'].css['font-size'].value"
													min="0" max="6" length="1" index="x" left="Small" center="|" right="Large"
													pattern="^([0-6])$"></number-slider>
									<block-info>
										<p>
											<small><q>{{ $dict.hint_text_size }}</q></small>
										</p>
									</block-info>
								</block-field>

								<block-field title="Font Size *" ng-if="$scope[2][$scope[1]][1] != 'default'" ng-class="{disabled: (!$exceptions[$scope[2][$scope[1]][1]].enabled)}">
									<number-slider model="$exceptions[$scope[2][$scope[1]][1]].data.attrs[$nav[$data.editor.scope[0]][0] + '_style'].css['font-size'].value"
													min="0" max="6" length="1" index="x" left="Small" center="|" right="Large"
													pattern="^([0-6])$"></number-slider>
									<block-info>
										<p>
											<small><q>{{ $dict.hint_text_size }}</q></small>
										</p>
									</block-info>
								</block-field>

								<block-field title="Overlay Opacity">
									<number-slider model="$target.attrs.style_SHD.css.opacity.value"
													min="0" max="100" length="3" index="%" left="Transparent" center="|" right="Visible" pattern="^\d+"></number-slider>
								</block-field>

							</block-group>
							<!-- / ELEMENT STYLE -->

						</div>

						<div ng-if="($scope[1] == 'appear')">

							<!-- STATE VALIDATION -->
							<data ng-if="$nav[$data.editor.scope[0]][2] = null"></data>
							<data ng-if="$nav[$data.editor.scope[0]][3] = null"></data>
							<!-- / STATE VALIDATION -->

							<!-- SHORTCUTS -->
							<data ng-if="$holder_key = null"></data>
							<data ng-if="$holder = null"></data>
							<data ng-if="$target_key = null"></data>
							<data ng-if="$target = null"></data>
							<!-- / SHORTCUTS -->

							<!-- SHORTCUTS -->
							<data ng-if="$exceptions = null"></data>
							<data ng-if="$exception_preset = null"></data>
							<!-- / SHORTCUTS -->

							<!-- VARIATIONS -->
							<data ng-init="$variation_setup = [_.concat(['default']), 'default', _.concat(['default'])]"></data>
							<!-- VARIATIONS -->

							<!-- VARIATION PICKER -->
							<block-group ng-class="{disabled: (_.size($scope[2][$scope[1]][0]) <= 1)}">

								<block-field title="{{ :: $dict.label_variation }} @" class="label">

									<!-- VARIATION VALIDATION -->
									<data ng-if="$scope[2][$scope[1]] == undefined" ng-init="$scope[2][$scope[1]] = [$variation_setup[0], $variation_setup[1]]"></data>
									<data ng-if="$holder && $holder.layers[$target_key] != undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[0]"></data>
									<data ng-if="$holder && $holder.layers[$target_key] == undefined" ng-init="$scope[2][$scope[1]][0] = $variation_setup[2]"></data>
									<!-- VARIATION VALIDATION -->

									<!-- CLONE PRESET AS NEW EXCEPTION -->
									<data ng-if="$scope[2][$scope[1]][1] != 'default' && $exceptions && $exception_preset && $exceptions[$scope[2][$scope[1]][1]] == undefined" ng-init="$exceptions[$scope[2][$scope[1]][1]] = _.cloneDeep($exception_preset)"></data>
									<!-- / CLONE PRESET AS NEW EXCEPTION -->

									<dropdown-select model="$scope[2][$scope[1]][1]" ng-class="{'col-2-3' : ($exceptions && $scope[2][$scope[1]][1] != 'default')}">
										<optgroup label="{{ :: $dict.label_default }}">
											<option value="default">{{ :: $dict.label_default }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_element_orientation }}" ng-if="$variations[$wrapper_key + '_orient']">
											<option ng-repeat="$variation in $variations[$wrapper_key + '_orient']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_creative_tension }}" ng-if="$variations['CV_tens']">
											<option ng-repeat="$variation in $variations['CV_tens']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_creative_scale }}" ng-if="$variations['CV_scale']">
											<option ng-repeat="$variation in $variations['CV_scale']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
										<optgroup label="{{ :: $dict.label_creative_size }}" ng-if="$variations['CV_size']">
											<option ng-repeat="$variation in $variations['CV_size']" value="{{ $variation }}" ng-disabled="_.indexOf($scope[2][$scope[1]][0], $variation) == -1">{{ :: $dict['label_' + $variation] ? $dict['label_' + $variation] : _.replace($variation, 'CV_size_', '') }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
										</optgroup>
									</dropdown-select>

									<div ng-if="$exceptions && $scope[2][$scope[1]][1] != 'default'" class="col-1-3">
										<toggle-button model="$exceptions[$scope[2][$scope[1]][1]].enabled" on="On" off="Off"></toggle-button>
									</div>

									<block-info ng-if="(_.size($variation_setup[0]) <= 1)">
										<p>
											<small><q>
												{{ :: $dict.hint_variation_not_available }}
											</q></small>
										</p>
									</block-info>

									<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
										<p>
											<small><q>
												{{ :: $dict.hint_variation_default_required }}
											</q></small>
										</p>
									</block-info>

									<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($scope[2][$scope[1]][0]) <= 1) && $scope[2][$scope[1]][1] == 'default'">
										<p>
											<small><q>
												{{ :: $dict.hint_variation_default_is }}
											</q></small>
										</p>
									</block-info>

									<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
										<p>
											<small>
												<q>{{ :: $dict.hint_variations_active }}</q>
												<span ng-repeat="($key, $exceptions) in $exceptions">
													<q ng-if="$exceptions.enabled && $exceptions.data"><a ng-click="$scope[2][$scope[1]][1] = $key">{{ $dict['label_' + $key] ? $dict['label_' + $key] : _.replace($key, 'CV_size_', '') }}</a>, </q>
												</span>
												<q><a ng-click="$scope[2][$scope[1]][1] = 'default'">{{ :: $dict.label_default }}</a></q>
											</small>
										</p>
									</block-info>

									<block-info ng-if="($exceptions && _.size($scope[2][$scope[1]][0]) > 1)">
										<p ng-if="$relations[$scope[2][$scope[1]][1]]">
											<small>
												<q>
													{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_apply_asterisks }}
												</q>
											</small>
											<small>
												<q ng-repeat="$relation in $relations[$scope[2][$scope[1]][1]]"><a ng-click="$editor.changePreviewSize($relation)">{{ :: $relation }}</a>, </q>
												<q><a ng-click="$editor.changePreviewSize('RxR')">RxR</a></q>
											</small>
										</p>
										<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] == 'default'">
											<small>
												<q>
													{{ :: $dict.hint_variation_default_is }}
												</q>
											</small>
										</p>
										<p ng-if="!$relations[$scope[2][$scope[1]][1]] && $scope[2][$scope[1]][1] != 'default'">
											<small>
												<q>
													{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_dynamic }}
												</q>
											</small>
										</p>
									</block-info>

								</block-field>

							</block-group>
							<!-- / VARIATION PICKER -->

							<!-- VISIBILITY PICKER -->
							<!--<block-group ng-class="{disabled: ($scope[2][$scope[1]][1] != 'default')}">-->
							<block-group>

								<block-field title="Element Visibility">
									<toggle-button model="$wrapper.enabled" on="Visible" off="Hidden"></toggle-button>
								</block-field>

							</block-group>
							<!-- / VISIBILITY PICKER -->

						</div>

					</block-group>

				</div>
			</frames-block>

		</block-group>
		<!-- / SEQUENCED ELEMENTS -->

	</block>
	<!-- / ELEMENTS -->

	<!-- SETTINGS -->
	<block ng-if="$data.editor.scope[0] == 1">

		<block-group>

			<block-field title="Landing Page" class="label"></block-field>

			<block-toggle title="Destination" class="toggle" ng-class="{selected: ($data.editor.scope[2].indexOf('destination') != -1)}"
						  ng-click="$data.editor.scope[2] = (($data.editor.scope[2] == 'destination') ? '' : 'destination')"></block-toggle>

			<block-group ng-if="($data.editor.scope[2].indexOf('destination') != -1)">

				<block-field title="URL Declaration">
					<toggle-button model="$data.banner.clicktag.override" on="Override" off="Disabled"></toggle-button>
					<block-info>
						<p>
							<small><q>Override ad server settings in order to define landing page destination URL from TACTIC content editor.</q></small>
						</p>
					</block-info>
				</block-field>

			</block-group>

			<block-group ng-if="($data.editor.scope[2].indexOf('destination') != -1 && $data.banner.clicktag.override)">

				<block-field title="Destination URL">
					<text-field placeholder="URL" model="$data.banner.clicktag.url" pattern="https?\:\/\/.+|\$\[dest_url\]|\$\{dest_url\}"></text-field>
				</block-field>

				<block-field ng-repeat="($frame, $index) in $data.banner.layers.CV.layers.WR.layers.SQ.frames" title="Destination URL #{{ ($index + 1) }}">
					<text-field placeholder="{{ $data.banner.clicktag.url }}" model="$data.banner.layers.CV.layers.WR.layers.SQ.frames[$index].clicktag.url" pattern="https?\:\/\/.+|\$\[dest_url\]|\$\{dest_url\}"></text-field>
				</block-field>

			</block-group>

			<block-toggle title="Tagging" class="toggle" ng-class="{selected: ($data.editor.scope[2].indexOf('tagging') != -1)}"
						  ng-click="$data.editor.scope[2] = (($data.editor.scope[2] == 'tagging') ? '' : 'tagging')"></block-toggle>

			<block-group ng-if="($data.editor.scope[2].indexOf('tagging') != -1)">

				<block-field title="Campaign">
					<!-- <text-field-button ng-click="$data.banner.definition.utm_campaign = (advert && advert.name) ? advert.name : advertVersion.name; $form.$pristine = 0;">Set</text-field-button> -->
					<text-field placeholder="Value" model="$data.banner.definition.utm_campaign"></text-field>
					<block-info>
						<p>
							<small><q>Strategic campaign (e.g. summer_sale).</q></small>
						</p>
					</block-info>
				</block-field>

				<block-field title="Content">
					<!--<text-field-button ng-click="$data.banner.definition.utm_condition = '{name}'">Set</text-field-button>-->
					<text-field placeholder="Value" model="$data.banner.definition.utm_condition"></text-field>
					<block-info>
						<p>
							<small><q>Content details for A/B testing (e.g. red_button).</q></small>
						</p>
					</block-info>
				</block-field>

				<block-field title="Medium">
					<!--<text-field-button ng-click="$data.banner.definition.utm_medium = 'display'">Set</text-field-button>-->
					<text-field placeholder="Value" model="$data.banner.definition.utm_medium"></text-field>
					<block-info>
						<p>
							<small><q>Marketing sharing medium (e.g. display, banner).</q></small>
						</p>
					</block-info>
				</block-field>

				<block-field title="Source">
					<!--<text-field-button ng-click="$data.banner.definition.utm_source = '{vendor}_{domain}'">Set</text-field-button>-->
					<text-field placeholder="Value" model="$data.banner.definition.utm_source"></text-field>
					<block-info>
						<p>
							<small><q>Source of traffic (e.g. google, referral).</q></small>
						</p>
					</block-info>
				</block-field>

				<block-field title="Term">
					<text-field placeholder="Value" model="$data.banner.definition.utm_term"></text-field>
					<block-info>
						<p>
							<small><q>Keywords suggested for paid search.</q></small>
						</p>
					</block-info>
				</block-field>

				<block-field title="Keyword">
					<text-field placeholder="Value" model="$data.banner.definition.keyword"></text-field>
					<block-info>
						<p>
							<small><q>Dynamic keyword added to click tag (e.g. frame index).</q></small>
						</p>
					</block-info>
				</block-field>

			</block-group>

			<block-group ng-if="($data.editor.scope[2].indexOf('tagging') != -1)">

				<block-field title="UTM Builder" ng-if="$data.banner.clicktag.override">
					<toggle-button model="$data.banner.clicktag.synchronise" on="Merge" off="Disabled"></toggle-button>
					<block-info>
						<p>
							<small><q>
								Merge tagging parameters with destination URL.
							</q></small>
						</p>
					</block-info>
				</block-field>

				<block-field title="UTM Encoder" ng-if="$data.banner.clicktag.synchronise && $data.banner.clicktag.override">
					<toggle-button model="$data.banner.clicktag.encode" on="Encode"
								   off="Disabled"></toggle-button>
					<block-info>
						<p>
							<small><q>Convert tagging paremeter's special characters into format that can be transmitted overlay the Internet.</q></small>
						</p>
					</block-info>
				</block-field>

			</block-group>

		</block-group>

		<block-group>

			<block-field title="Global Settings" class="label"></block-field>

			<block-toggle title="Timeline" class="toggle" ng-class="{selected: ($data.editor.scope[2].indexOf('timeline') != -1)}"
						  ng-click="$data.editor.scope[2] = (($data.editor.scope[2] == 'timeline') ? '' : 'timeline')"></block-toggle>
			<block-group ng-if="($data.editor.scope[2].indexOf('timeline') != -1)">

				<block-field title="Stop Sequence After">
					<number-slider model="$data.banner.params.stop.after"
								   min="1000" max="30000" length="5" index="ms" left="Min" center="|" right="Max"
								   pattern="^\d+"></number-slider>
				</block-field>

				<block-field title="Stop Sequence On">
					<dropdown-select model="$data.banner.layers.CV.layers.WR.layers.SQ.params.stop.on">
						<option value="-">Timer Frame</option>
						<option value=" 0. ">First Frame</option>
						<option value=" -1. ">Last Frame</option>
					</dropdown-select>
				</block-field>

				<block-field title="Sequence Looping">
					<toggle-button model="$data.banner.layers.CV.layers.WR.layers.SQ.params.loop" on="Loop Sequence" off="Play Once"></toggle-button>
				</block-field>

			</block-group>

			<!--<block-toggle title="Dimensions" class="toggle" ng-class="{selected: ($data.editor.scope[2].indexOf('dimensions') != -1)}"
						  ng-click="$data.editor.scope[2] = (($data.editor.scope[2] == 'dimensions') ? '' : 'dimensions')"></block-toggle>

			<block-group ng-if="($data.editor.scope[2].indexOf('dimensions') != -1)">

				&lt;!&ndash; SHORTCUTS &ndash;&gt;
				<data ng-if="$target = $data.banner.layers.CV.layers.WR.layers.SQ"></data>
				<data ng-if="$exceptions = $target.macros.excepts"></data>
				<data ng-if="$exception_preset = $target.macros.excepts.preset"></data>
				&lt;!&ndash; / SHORTCUTS &ndash;&gt;

				&lt;!&ndash; VARIATIONS &ndash;&gt;
				<data ng-init="$variation_setup = [_.concat(['default'], $variations['CV_tens']), 'default', _.concat(['default'])]"></data>
				<data ng-init="$variation_scope = [$variation_setup[0], $variation_setup[1]]"></data>
				&lt;!&ndash; VARIATIONS &ndash;&gt;

				&lt;!&ndash; VARIATION PICKER &ndash;&gt;
				<block-group>

					<block-field title="{{ :: $dict.label_variation }} @" class="label">

						&lt;!&ndash; CLONE PRESET AS NEW EXCEPTION &ndash;&gt;
						<data ng-if="$variation_scope[1] != 'default' && $exceptions && $exception_preset && $exceptions[$variation_scope[1]] == undefined" ng-init="$exceptions[$variation_scope[1]] = _.cloneDeep($exception_preset)"></data>
						&lt;!&ndash; / CLONE PRESET AS NEW EXCEPTION &ndash;&gt;

						&lt;!&ndash; UPDATE DEFAULT PRESET VALUES &ndash;&gt;
						<data ng-repeat="$item in ['TL' + '_font_size']" ng-if="$variation_scope[1] != 'default' && $exceptions && $exception_preset && $exception_preset.data[$item].value != $target.macros[$item].value" ng-init="$exception_preset.data[$item].value = $target.macros[$item].value"></data>
						&lt;!&ndash; / UPDATE DEFAULT PRESET VALUES &ndash;&gt;

						<dropdown-select model="$variation_scope[1]" ng-class="{'col-2-3' : ($exceptions && $variation_scope[1] != 'default')}">
							<optgroup label="{{ :: $dict.label_default }}">
								<option value="default">{{ :: $dict.label_default }}</option>
							</optgroup>
							&lt;!&ndash;<optgroup label="{{ :: $dict.label_element_orientation }}" ng-if="$variations[$wrapper_key + '_orient']">
								<option ng-repeat="$variation in $variations[$wrapper_key + '_orient']" value="{{ $variation }}" ng-disabled="_.indexOf($variation_scope[0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
							</optgroup>&ndash;&gt;
							<optgroup label="{{ :: $dict.label_creative_tension }}" ng-if="$variations['CV_tens']">
								<option ng-repeat="$variation in $variations['CV_tens']" value="{{ $variation }}" ng-disabled="_.indexOf($variation_scope[0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
							</optgroup>
							<optgroup label="{{ :: $dict.label_creative_scale }}" ng-if="$variations['CV_scale']">
								<option ng-repeat="$variation in $variations['CV_scale']" value="{{ $variation }}" ng-disabled="_.indexOf($variation_scope[0], $variation) == -1">{{ :: $dict['label_' + $variation] }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
							</optgroup>
							<optgroup label="{{ :: $dict.label_creative_size }}" ng-if="$variations['CV_size']">
								<option ng-repeat="$variation in $variations['CV_size']" value="{{ $variation }}" ng-disabled="_.indexOf($variation_scope[0], $variation) == -1">{{ :: $dict['label_' + $variation] ? $dict['label_' + $variation] : _.replace($variation, 'CV_size_', '') }} {{ ($exceptions[$variation].enabled ? '*' : '') }}</option>
							</optgroup>
						</dropdown-select>

						<div ng-if="$exceptions && $variation_scope[1] != 'default'" class="col-1-3">
							<toggle-button model="$exceptions[$variation_scope[1]].enabled" on="On" off="Off"></toggle-button>
						</div>

						<block-info ng-if="(_.size($variation_setup[0]) <= 1)">
							<p>
								<small><q>
									{{ :: $dict.hint_variation_not_available }}
								</q></small>
							</p>
						</block-info>

						<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($variation_scope[0]) <= 1) && $variation_scope[1] == 'default'">
							<p>
								<small><q>
									{{ :: $dict.hint_variation_default_required }}
								</q></small>
							</p>
						</block-info>

						<block-info ng-if="(_.size($variation_setup[0]) > 1 && _.size($variation_scope[0]) <= 1) && $variation_scope[1] == 'default'">
							<p>
								<small><q>
									{{ :: $dict.hint_variation_default_is }}
								</q></small>
							</p>
						</block-info>

						<block-info ng-if="($exceptions && _.size($variation_scope[0]) > 1)">
							<p>
								<small>
									<q>{{ :: $dict.hint_variations_active }}</q>
									<span ng-repeat="($key, $exceptions) in $exceptions">
										<q ng-if="$exceptions.enabled && $exceptions.data"><a ng-click="$variation_scope[1] = $key">{{ $dict['label_' + $key] ? $dict['label_' + $key] : _.replace($key, 'CV_size_', '') }}</a>, </q>
									</span>
									<q><a ng-click="$variation_scope[1] = 'default'">{{ :: $dict.label_default }}</a></q>
								</small>
							</p>
						</block-info>

						<block-info ng-if="($exceptions && _.size($variation_scope[0]) > 1)">
							<p ng-if="$relations[$variation_scope[1]]">
								<small>
									<q>
										{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_apply_asterisks }}
									</q>
								</small>
								<small>
									<q ng-repeat="$relation in $relations[$variation_scope[1]]"><a ng-click="$editor.changePreviewSize($relation)">{{ :: $relation }}</a>, </q>
									<q><a ng-click="$editor.changePreviewSize('RxR')">RxR</a></q>
								</small>
							</p>
							<p ng-if="!$relations[$variation_scope[1]] && $variation_scope[1] == 'default'">
								<small>
									<q>
										{{ :: $dict.hint_variation_default_is }}
									</q>
								</small>
							</p>
							<p ng-if="!$relations[$variation_scope[1]] && $variation_scope[1] != 'default'">
								<small>
									<q>
										{{ :: $dict.hint_variation_override }} {{ :: $dict.hint_variation_dynamic }}
									</q>
								</small>
							</p>
						</block-info>

					</block-field>

				</block-group>
				&lt;!&ndash; / VARIATION PICKER &ndash;&gt;

				<block-group ng-if="$variation_scope[1] == 'default'">

					<block-field title="Message Scale">
						<number-slider model="$target.macros['TL' + '_font_size'].value"
									   min="-10" max="10" length="3" index="x" left="Small" center="|" right="Large"
									   pattern="^(-10|-[0-9]|[0-9]|10)$"></number-slider>
						<block-info>
							<p>
								<small><q>Guidelines require the title to have the same font size on all frames. You may use global font size adjuster to easily increase or decrease font size across all frames in the sequence at once. Adjusment is common for all frames and tensions.</q></small>
							</p>
						</block-info>
					</block-field>

				</block-group>

				<block-group ng-if="$variation_scope[1] != 'default'" ng-class="{disabled: (!$exceptions[$variation_scope[1]].enabled)}">

					<block-field title="Message Scale *">
						<number-slider model="$exceptions[$variation_scope[1]].data['TL' + '_font_size'].value"
									   min="-10" max="10" length="3" index="x" left="Small" center="|" right="Large"
									   pattern="^(-10|-[0-9]|[0-9]|10)$"></number-slider>
						<block-info>
							<p>
								<small><q>Guidelines require the title to have the same font size on all frames. You may use global font size adjuster to easily increase or decrease font size across all frames in the sequence at once. Adjusment is common for all frames and tensions.</q></small>
							</p>
						</block-info>
					</block-field>

				</block-group>

			</block-group>-->

			<block-toggle title="Colors" class="toggle" ng-class="{selected: ($data.editor.scope[2].indexOf('colors') != -1)}"
						  ng-click="$data.editor.scope[2] = (($data.editor.scope[2] == 'colors') ? '' : 'colors')"></block-toggle>
			<block-group ng-if="($data.editor.scope[2].indexOf('colors') != -1)">

				<block-field title="Default Theme">
					<dropdown-select model="$data.banner.layers.CV.macros['CV_theme'].value">
						<!--<option value="default">Default</option>-->
						<option value="default">Default Blue</option>
						<option value="light-blue">Light Blue</option>
						<option value="black">Black</option>
						<option value="white">White</option>
						<option value="custom">Custom</option>
					</dropdown-select>
				</block-field>

			</block-group>
			<block-group ng-if="($data.editor.scope[2].indexOf('colors') != -1)" ng-class="{disabled: ($data.banner.layers.CV.macros['CV_theme'].value != 'custom')}">

				<block-field title="Canvas Color">
					<color-field placeholder="HEX / RGB / RGBA" model="$data.banner.layers.CV.layers.WR.attrs.excepts.CV_theme_custom.data.CV_style.css.background"></color-field>
				</block-field>

				<block-field title="Logo Color">
					<color-field placeholder="HEX / RGB / RGBA" model="$data.banner.layers.CV.layers.WR.attrs.excepts.CV_theme_custom.data.LG_style_text.css.fill" class="col-1-2"></color-field>
					<color-field placeholder="HEX / RGB / RGBA" model="$data.banner.layers.CV.layers.WR.attrs.excepts.CV_theme_custom.data.LG_style_line.css.background" class="col-1-2"></color-field>
				</block-field>

			</block-group>
			<block-group ng-if="($data.editor.scope[2].indexOf('colors') != -1)" ng-class="{disabled: ($data.banner.layers.CV.macros['CV_theme'].value != 'custom')}">

				<block-field title="Text Color">
					<color-field placeholder="HEX / RGB / RGBA" model="$data.banner.layers.CV.layers.WR.attrs.excepts.CV_theme_custom.data.SQ_style_p.css.color" class="col-1-2"></color-field>
					<color-field placeholder="HEX / RGB / RGBA" model="$data.banner.layers.CV.layers.WR.attrs.excepts.CV_theme_custom.data.SQ_style_p.css['text-shadow'].value" class="col-1-2"></color-field>
				</block-field>

				<block-field title="Emphasis Color <em>">
					<color-field placeholder="HEX / RGB / RGBA" model="$data.banner.layers.CV.layers.WR.attrs.excepts.CV_theme_custom.data.SQ_style_em.css.color"></color-field>
				</block-field>

				<block-field title="Quote Color <q>">
					<color-field placeholder="HEX / RGB / RGBA" model="$data.banner.layers.CV.layers.WR.attrs.excepts.CV_theme_custom.data.SQ_style_q.css.color"></color-field>
				</block-field>

				<block-field title="Overlay Color">
					<dropdown-select model="$data.banner.layers.CV.macros.shadow_color.value">
						<option value="black">Black</option>
						<option value="blue">Blue</option>
						<option value="white">White</option>
						<option value="custom">Custom</option>
					</dropdown-select>
				</block-field>

				<div ng-class="{disabled: ($data.banner.layers.CV.macros.shadow_color.value != 'custom')}">

					<block-field title="Overlay Color">
						<color-field placeholder="HEX / RGB / RGBA" model="$data.banner.layers.CV.macros.shadow_color_from.value" class="col-1-2"></color-field>
						<color-field placeholder="HEX / RGB / RGBA" model="$data.banner.layers.CV.macros.shadow_color_to.value" class="col-1-2"></color-field>
					</block-field>

				</div>

			</block-group>
			<block-group ng-if="($data.editor.scope[2].indexOf('colors') != -1)" ng-class="{disabled: ($data.banner.layers.CV.macros['CV_theme'].value != 'custom')}">

				<block-field title="Button Colors">
					<color-field placeholder="HEX / RGB / RGBA" model="$data.banner.layers.CV.layers.WR.attrs.excepts.CV_theme_custom.data.SQ_style_button.css.color" class="col-1-2"></color-field>
					<color-field placeholder="HEX / RGB / RGBA" model="$data.banner.layers.CV.layers.WR.attrs.excepts.CV_theme_custom.data.SQ_style_button.css.background" class="col-1-2"></color-field>
				</block-field>

			</block-group>

			<block-toggle title="Fonts" class="toggle" ng-class="{selected: ($data.editor.scope[2].indexOf('fonts') != -1)}"
						  ng-click="$data.editor.scope[2] = (($data.editor.scope[2] == 'fonts') ? '' : 'fonts')"></block-toggle>
			<!--<block-group ng-if="($data.editor.scope[2].indexOf('fonts') != -1)">

				<block-field title="Load Mode">
					<toggle-button model="$data.banner.layers.CV.macros.font_watch.value" on="On Demand" off="Preload Selected"></toggle-button>
				</block-field>

			</block-group>-->
			<block-group ng-if="($data.editor.scope[2].indexOf('fonts') != -1)">

				<block-field title="Preload Primary">
					<dropdown-select model="$data.banner.params.wait.fonts[0]">
						<option value="">None</option>
						<option ng-repeat="$font in $fonts" value="{{ $font[0] }}">{{ $font[1] }}</option>
					</dropdown-select>
				</block-field>

				<block-field title="Preload Secondary">
					<dropdown-select model="$data.banner.params.wait.fonts[1]">
						<option value="">None</option>
						<option ng-repeat="$font in $fonts" value="{{ $font[0] }}">{{ $font[1] }}</option>
					</dropdown-select>
				</block-field>

				<block-field title="Preload Tertiary">
					<dropdown-select model="$data.banner.params.wait.fonts[2]">
						<option value="">None</option>
						<option ng-repeat="$font in $fonts" value="{{ $font[0] }}">{{ $font[1] }}</option>
					</dropdown-select>
				</block-field>

			</block-group>

			<block-toggle title="Feeds" class="toggle" ng-class="{selected: ($data.editor.scope[2].indexOf('feeds') != -1)}"
						  ng-click="$data.editor.scope[2] = (($data.editor.scope[2] == 'feeds') ? '' : 'feeds')"></block-toggle>
			<block-group ng-if="($data.editor.scope[2].indexOf('feeds') != -1)">

				<block-field title="Data Feed">
					<toggle-button model="$data.banner.feeds[0].enabled" on="Enabled" off="Disabled"></toggle-button>
					<!--<toggle-button model="$data.banner.feeds[0].enabled" on="Enabled" off="Disabled"
								   on-off="$data.banner.feeds[0].id = null; $data.banner.feeds[0].source = null;"></toggle-button>-->
					<!--<block-info>
						<p>
							<small><q></q></small>
						</p>
					</block-info>-->
				</block-field>

				<block-field title="Feed Source" ng-class="{disabled: (!$data.banner.feeds[0].enabled)}">
					<feed-picker model="$data.banner.feeds[0]"></feed-picker>
				</block-field>

			</block-group>

			<block-toggle title="Macros" class="toggle" ng-class="{selected: ($data.editor.scope[2].indexOf('macros') != -1)}"
						  ng-click="$data.editor.scope[2] = (($data.editor.scope[2] == 'macros') ? '' : 'macros')"></block-toggle>
			<block-group ng-if="($data.editor.scope[2].indexOf('macros') != -1)">

				<block-field title="$[var_1]">
					<text-field placeholder="Value" model="$data.banner.macros.var_1.value"></text-field>
					<block-info>
						<p>
							<small><q>
								Custom macro, <a ng-click="$data.banner.macros.var_1.value = '${var_1}'">set value</a> to default.
							</q></small>
						</p>
					</block-info>
				</block-field>

				<block-field title="$[var_2]">
					<text-field placeholder="Value" model="$data.banner.macros.var_2.value"></text-field>
					<block-info>
						<p>
							<small><q>
								Custom macro, <a ng-click="$data.banner.macros.var_2.value = '${var_2}'">set value</a> to default.
							</q></small>
						</p>
					</block-info>
				</block-field>

				<block-field title="$[var_3]">
					<text-field placeholder="Value" model="$data.banner.macros.var_3.value"></text-field>
					<block-info>
						<p>
							<small><q>
								Custom macro, <a ng-click="$data.banner.macros.var_3.value = '${var_3}'">set value</a> to default.
							</q></small>
						</p>
					</block-info>
				</block-field>

				<block-field title="$[var_4]">
					<text-field placeholder="Value" model="$data.banner.macros.var_4.value"></text-field>
					<block-info>
						<p>
							<small><q>
								Custom macro, <a ng-click="$data.banner.macros.var_4.value = '${var_4}'">set value</a> to default.
							</q></small>
						</p>
					</block-info>
				</block-field>

				<block-field title="$[var_5]">
					<text-field placeholder="Value" model="$data.banner.macros.var_5.value"></text-field>
					<block-info>
						<p>
							<small><q>
								Custom macro, <a ng-click="$data.banner.macros.var_5.value = '${var_5}'">set value</a> to default.
							</q></small>
						</p>
					</block-info>
				</block-field>

			</block-group>
			<block-group ng-if="($data.editor.scope[2].indexOf('macros') != -1)" ng-class="{disabled: (!$data.banner.feeds[0].enabled)}">

				<block-field title="$[feed]">
					<text-field placeholder="Dynamic Value" disabled="true"></text-field>
					<block-info>
						<p>
							<small><q>
								Imported value, e.g. "260,70".
							</q></small>
						</p>
					</block-info>
				</block-field>

				<block-field title="$[feed_0]">
					<text-field placeholder="Dynamic Value" disabled="true"></text-field>
					<block-info>
						<p>
							<small><q>
								Splitted part of the value, e.g. "260" of "260,70".
							</q></small>
						</p>
					</block-info>
				</block-field>

			</block-group>
			<block-group ng-if="($data.editor.scope[2].indexOf('macros') != -1)">

				<block-field title="$[name]">
					<text-field placeholder="Dynamic Value" disabled="true"></text-field>
					<block-info>
						<p>
							<small><q>
								Banner name, e.g. "Medium Rectangle".
							</q></small>
						</p>
					</block-info>
				</block-field>

				<block-field title="$[size]">
					<text-field placeholder="Dynamic Value" disabled="true"></text-field>
					<block-info>
						<p>
							<small><q>
								Banner size, e.g. "300x250" or "980x150".
							</q></small>
						</p>
					</block-info>
				</block-field>

				<block-field title="$[vendor]">
					<text-field placeholder="Dynamic Value" disabled="true"></text-field>
					<block-info>
						<p>
							<small><q>
								Ad vendor, e.g. "google" or "xandr".
							</q></small>
						</p>
					</block-info>
				</block-field>

				<block-field title="$[domain]">
					<text-field placeholder="Dynamic Value" disabled="true"></text-field>
					<block-info>
						<p>
							<small><q>
								Ad domain, e.g. "bbc.com" or "vg.no".
							</q></small>
						</p>
					</block-info>
				</block-field>

			</block-group>

		</block-group>

		<block-group>

			<block-field title="Editing Tools" class="label"></block-field>

			<block-toggle title="Preview" class="toggle" ng-class="{selected: ($data.editor.scope[2].indexOf('modes') != -1)}"
						  ng-click="$data.editor.scope[2] = (($data.editor.scope[2] == 'modes') ? '' : 'modes')"></block-toggle>
			<block-group ng-if="($data.editor.scope[2].indexOf('modes') != -1)">

				<block-field title="Preview Mode">
					<dropdown-select model="$data.banner.props.mode.name">
						<option value="debug">Debug</option>
						<option value="capture">Snapshot</option>
						<option value="capture-gif">Snapshot (GIF)</option>
						<option value="live">Live</option>
					</dropdown-select>
					<block-info>
						<p>
							<small><q>
								Live preview mode mode represents creative the way end user will see it. This mode will be automatically set for all live adverts.
							</q></small>
						</p>
					</block-info>
					<block-info>
						<p>
							<small><q>
								Debug preview mode enables features that will help you to edit content with ease. Selected element bounds will be highlighted with color. Selected frame from the sequence will shown immediately in the creative preview.
							</q></small>
						</p>
					</block-info>
					<block-info>
						<p>
							<small><q>
								Snapshot preview mode disables all animations, creative preview will display exact moment on the timeline when the snapshot is taken.
							</q></small>
						</p>
					</block-info>
				</block-field>

				<block-field title="Preview Frame" ng-class="{disabled: ($data.banner.props.mode.name != 'debug')}">
					<toggle-button model="$data.editor.jump" on="Go to Selected" off="As Defined"></toggle-button>
					<block-info ng-class="{disabled: ($exceptions[$scope[2][$scope[1]][1]].data)}">
						<p>
							<small><q>If debug mode enabled, you may go to selected frame in the preview by skipping frames in the sequence.</q></small>
						</p>
					</block-info>
				</block-field>

			</block-group>

		</block-group>

	</block>
	<!-- / SETTINGS -->

</div>

<data ng-init="$variations = {
	CV_size: ['CV_size_250x360','CV_size_300x250','CV_size_300x600','CV_size_320x320','CV_size_980x240'],
	CV_scale: ['CV_scale_m','CV_scale_s','CV_scale_xs','CV_scale_l'],
	CV_tens: ['CV_tens_t2','CV_tens_t1','CV_tens_e0','CV_tens_w2','CV_tens_w1'],
	BG_orient: ['BG_orient_p','BG_orient_s','BG_orient_l'],
	FG_orient: ['FG_orient_p','FG_orient_s','FG_orient_l'],
	MS_orient: ['MS_orient_p','MS_orient_s','MS_orient_l']
}"></data>

<data ng-init="$relations = {
	CV_tens_t2:['300x600'],
	CV_tens_t1:['250x360'],
	CV_tens_e0:['300x250', '320x320'],
	CV_tens_w2:[],
	CV_tens_w1:['980x240'],
	CV_scale_m:['980x240', '320x320', '250x360'],
	CV_scale_s:['300x250'],
	CV_scale_xs:[],
	CV_scale_l:[],
}"></data>

<data ng-init="$ratios = {
	BG_fill: {
		CV_size_250x360:{
			label:'250x360',
			value:'250x360'
		},
		CV_size_300x250:{
			label:'300x250',
			value:'300x250'
		},
		CV_size_300x600:{
			label:'300x600',
			value:'300x600'
		},
		CV_size_320x320:{
			label:'320x250',
			value:'320x250'
		},
		CV_size_980x240:{
			label:'980x240',
			value:'300x300'
		}
	},
	BG_fit: {},
	FG_fill: {
		CV_size_250x360:{
			label:'250x360',
			value:'250x360'
		},
		CV_size_300x250:{
			label:'300x250',
			value:'300x250'
		},
		CV_size_300x600:{
			label:'300x600',
			value:'300x600'
		},
		CV_size_320x320:{
			label:'320x320',
			value:'320x320'
		},
		CV_size_980x240:{
			label:'980x240',
			value:'300x300'
		}
	},
	'FG_fit': {}
};
"></data>

<data ng-init="$fonts = [
	['font_A_400', 'VW Regular'],
	['font_A_600', 'VW Bold']
]"></data>

<data ng-init="$dict = {
	hint_text_area: 'Apply no word break (&lt;u&gt;) or no line break (&lt;var&gt;) conditions to certain parts of the text. Override text color (&lt;em&gt;, &lt;q&gt;). Override text size (&lt;big&gt;, &lt;small&gt;) or font face (&lt;b&gt;, &lt;i&gt;, &lt;s&gt;), if applicable.',
	hint_text_field: 'Override text color (&lt;em&gt;, &lt;q&gt;). Override text size (&lt;big&gt;, &lt;small&gt;) or font face (&lt;b&gt;, &lt;i&gt;, &lt;s&gt;), if applicable.',
	hint_text_size: 'Text size will not scale bigger if source fills entire container.',
	hint_text_macros: 'Use macros to insert special elements or dynamic content ($[feed] or $[var_1]). Check all available macros at advert settings.',
	hint_asset_area: 'Select asset source for alternative variation.',
	hint_asset_placement: 'Select asset placement mode. You may cover the entire element container, even if it has to stretch the image or cut a little bit off one of the edges. Or resize the asset to make sure it is fully visible and fits focus area.',
	hint_asset_blur: 'Blur effect is not supported by older browsers.',
	hint_animation_skip: 'You may skip animation if you have the same asset source on different frames and you don\'t want to animate element again on every frame change.',
	hint_animation_pan: 'Panoramic can be used with fill placement only. Element placement can be changed in the appearance tab.',
	hint_variation_default_is: 'Default variation applies to all sizes and conditions if not overridden by alternative variation.',
	hint_variation_default_required: 'Default variation is required before you can set alternatives.',
	hint_variation_override: 'Alternative variation will override default.',
	hint_variation_not_available: 'Variations are not available for this property.',
	hint_variation_non_default: 'This option is available for non-default variations only.',
	hint_variation_apply_asterisks: 'Selected variation will apply to appropriate sizes and attributes marked with asterisks symbol (*):',
	hint_variations_active: 'Active variations:',
	hint_variation_apply: 'Selected variation will apply to appropriate sizes:',
	hint_variation_dynamic: 'Orientation size index is not available for elements that have dynamic or adjustable layout properties.',
	hint_resolution_multiplier: 'You may adjust asset quality by choosing minimum or maximum resolution, or by multiplying it\'s default value.',
	'label_variation': 'Variation',
	'label_element_orientation': 'Element Orientation',
	'label_creative_tension': 'Creative Tension',
	'label_creative_scale': 'Creative Scale',
	'label_creative_size': 'Creative Size',
	'label_default': 'Default',
	'label_value': 'Value',
	'label_color': 'Color',
	'label_text': 'Text',
	'label_icon': 'Icon',
	'label_image': 'Image',
	'label_video': 'Video',
	'label_style': 'Style',
	'label_appear': 'Appearance',
	'label_action': 'Action',
	'label_anim': 'Animation',
	'label_settings': 'Settings',
	'label_CV_tens_t2': 'Very Tall',
	'label_CV_tens_t1': 'Tall',
	'label_CV_tens_e0': 'Equal',
	'label_CV_tens_w1': 'Wide',
	'label_CV_tens_w2': 'Very Wide',
	'label_CV_scale_xs': 'Micro',
	'label_CV_scale_s': 'Small',
	'label_CV_scale_m': 'Medium',
	'label_CV_scale_l': 'Large',
	'label_BG_orient_p': 'Portrait',
	'label_BG_orient_s': 'Square',
	'label_BG_orient_l': 'Landscape',
	'label_FG_orient_p': 'Portrait',
	'label_FG_orient_s': 'Square',
	'label_FG_orient_l': 'Landscape',
	'label_MS_orient_p': 'Portrait',
	'label_MS_orient_s': 'Square',
	'label_MS_orient_l': 'Landscape'
}"></data>

<data ng-init="
$nav = [
	['', {}],
	['', {}]
];"></data>

<style>
	block-group block-field toggle-button button {
		margin-bottom: 5px !important;
	}
	block-group block-field textarea {
		transition: height 0.25s ease, min-height 0.25s ease;
	}
	block-group p q sup {
		color: inherit !important;
		font-size: 0.8em !important;
	}
</style>
